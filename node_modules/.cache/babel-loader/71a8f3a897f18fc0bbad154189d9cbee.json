{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\ENhabinde\\\\Desktop\\\\work\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:\\\\Users\\\\ENhabinde\\\\Desktop\\\\work\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\ENhabinde\\\\Desktop\\\\work\\\\New folder\\\\src\\\\modules\\\\sus\\\\pages\\\\home\\\\SusHome.jsx\";\nimport React, { useState, useRef } from \"react\";\nimport { LinearProgress } from \"@mui/material\";\nimport { Container, Row, Col, Card, CardHeader, CardBody } from \"shards-react\";\nimport { useFetch } from \"../../../../hooks/useFetch\";\nimport { TablePaginationDemo } from \"../../../../components/commons/pagination/Pagination\";\nimport Table from \"../../../../components/commons/table/Table\";\nimport { useTranslation } from \"react-i18next\";\nimport { TableDataExporter } from \"../../../../components/commons/dataExporter/TableDataExporter\";\nimport PageTitle from \"../../../../components/commons/PageTitle\";\nimport { getServerData } from \"../../utils/severData/getServerData\";\nvar SIRCEVHome = function SIRCEVHome() {\n  var tabColumns = ['Província', 'Distrito', 'Unidade Sanitária', 'Data'];\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentPage = _useState2[0],\n    setCurrentPage = _useState2[1];\n  var _useState3 = useState(10),\n    _useState4 = _slicedToArray(_useState3, 2),\n    rowsPerPage = _useState4[0],\n    setRowsPerPage = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    syncId = _useState6[0],\n    setSyncId = _useState6[1];\n  var _useFetch = useFetch(\"api/mfl/syncs/summaries?page=\".concat(currentPage, \"&pageSize=\").concat(rowsPerPage)),\n    data = _useFetch.data,\n    error = _useFetch.error,\n    isFetching = _useFetch.isFetching;\n  var _useFetch2 = useFetch(\"api/mfl/syncs/servers?paging=false&isMaster=false\"),\n    servers = _useFetch2.data,\n    serverErr = _useFetch2.error,\n    isFetchingServers = _useFetch2.isFetching;\n  var _getServerData = getServerData({\n      setSyncId: setSyncId\n    }),\n    getIcon = _getServerData.getIcon;\n  var tableColumns = function tableColumns() {\n    return tabColumns;\n  };\n  var AllData = function AllData() {\n    if (data) return data.data;else return data;\n  };\n  var tableData = function tableData() {\n    var events = [];\n    if (isFetching === false) {\n      var dados = data.data;\n      for (var index = 0; index < dados.length; index++) {\n        events.push([dados[index].provinceName, dados[index].districtName, dados[index].orgUnitName, dados[index].date].concat(_toConsumableArray(getIcon(dados[index], tabColumns, index))));\n      }\n    }\n    return events;\n  };\n  if (servers) {\n    if (servers.servers) {\n      var serverData = servers.servers;\n      for (var a = 0; a < serverData.length; a++) {\n        tabColumns.push(serverData[a].name);\n      }\n    }\n  }\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"main-content-container px-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    title: \"Visão Geral\",\n    className: \"text-sm-left mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    small: true,\n    className: \"mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    className: \"border-bottom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"w-100\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"m-0 mb-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }\n  }, t(\"ultima_sincronizacao\"))), data && /*#__PURE__*/React.createElement(TableDataExporter, {\n    fileName: \"lista de historico-SIRCEV\",\n    fileTitle: \"SIRCEV-Lista de Hist\\xF3rico\",\n    tableData: tableData,\n    tableColumns: tableColumns,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 26\n    }\n  })), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  })), isFetching && /*#__PURE__*/React.createElement(LinearProgress, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 30\n    }\n  }), /*#__PURE__*/React.createElement(CardBody, {\n    className: \"p-0 pb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    syncId: syncId,\n    component: \"Details\",\n    allData: AllData(),\n    isFetching: isFetching,\n    error: error,\n    tableColumns: tableColumns,\n    tableData: tableData,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  })), isFetching === false && /*#__PURE__*/React.createElement(TablePaginationDemo, {\n    totalPages: data,\n    setCurrentPage: setCurrentPage,\n    currentPage: currentPage,\n    rowsPerPage: rowsPerPage,\n    setRowsPerPage: setRowsPerPage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 38\n    }\n  })))));\n};\nexport default SIRCEVHome;","map":{"version":3,"names":["React","useState","useRef","LinearProgress","Container","Row","Col","Card","CardHeader","CardBody","useFetch","TablePaginationDemo","Table","useTranslation","TableDataExporter","PageTitle","getServerData","SIRCEVHome","tabColumns","_useTranslation","t","_useState","_useState2","_slicedToArray","currentPage","setCurrentPage","_useState3","_useState4","rowsPerPage","setRowsPerPage","_useState5","_useState6","syncId","setSyncId","_useFetch","concat","data","error","isFetching","_useFetch2","servers","serverErr","isFetchingServers","_getServerData","getIcon","tableColumns","AllData","tableData","events","dados","index","length","push","provinceName","districtName","orgUnitName","date","_toConsumableArray","serverData","a","name","createElement","fluid","className","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","title","small","fileTitle","component","allData","totalPages"],"sources":["C:/Users/ENhabinde/Desktop/work/New folder/src/modules/sus/pages/home/SusHome.jsx"],"sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport { LinearProgress } from \"@mui/material\";\r\nimport { Container, Row, Col, Card, CardHeader, CardBody } from \"shards-react\";\r\nimport { useFetch } from \"../../../../hooks/useFetch\";\r\nimport { TablePaginationDemo } from \"../../../../components/commons/pagination/Pagination\";\r\nimport Table from \"../../../../components/commons/table/Table\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { TableDataExporter } from \"../../../../components/commons/dataExporter/TableDataExporter\";\r\nimport PageTitle from \"../../../../components/commons/PageTitle\";\r\nimport { getServerData } from \"../../utils/severData/getServerData\";\r\n\r\nconst SIRCEVHome = () => {\r\n  const tabColumns = ['Província', 'Distrito', 'Unidade Sanitária', 'Data']\r\n  const { t } = useTranslation();\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [syncId, setSyncId] = useState(null);\r\n  const { data, error, isFetching } = useFetch(`api/mfl/syncs/summaries?page=${currentPage}&pageSize=${rowsPerPage}`);\r\n  const { data: servers, error: serverErr, isFetching: isFetchingServers } = useFetch(`api/mfl/syncs/servers?paging=false&isMaster=false`)\r\n  const { getIcon } = getServerData({ setSyncId })\r\n\r\n  const tableColumns = () => {\r\n    return tabColumns\r\n  }\r\n\r\n  const AllData = () => {\r\n    if (data) return data.data\r\n    else return data\r\n  }\r\n\r\n  const tableData = () => {\r\n    const events = [];\r\n    if (isFetching === false) {\r\n      const dados = data.data\r\n      for (let index = 0; index < dados.length; index++) {\r\n        events.push([dados[index].provinceName, dados[index].districtName, dados[index].orgUnitName, dados[index].date, ...getIcon(dados[index], tabColumns, index)])\r\n      }\r\n    }\r\n    return events\r\n  }\r\n\r\n  if (servers) {\r\n    if (servers.servers) {\r\n      const serverData = servers.servers\r\n      for (let a = 0; a < serverData.length; a++) {\r\n        tabColumns.push(serverData[a].name)\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <Container fluid className=\"main-content-container px-4\">\r\n      <PageTitle\r\n        title={\"Visão Geral\"}\r\n        className=\"text-sm-left mb-3\"\r\n      />\r\n\r\n      <Row>\r\n        <Col>\r\n          <Card small className=\"mb-4\">\r\n            <CardHeader className=\"border-bottom\">\r\n              <Row className='w-100'>\r\n                <Col>\r\n                  <h6 className=\"m-0 mb-2\">{t(\"ultima_sincronizacao\")}</h6>\r\n                </Col>\r\n                {data && <TableDataExporter fileName='lista de historico-SIRCEV' fileTitle='SIRCEV-Lista de Histórico' tableData={tableData} tableColumns={tableColumns} />}\r\n              </Row>\r\n              <Row />\r\n            </CardHeader>\r\n            {(isFetching) && <LinearProgress />}\r\n            <CardBody className=\"p-0 pb-3\">\r\n              <Table syncId={syncId} component=\"Details\" allData={AllData()} isFetching={isFetching} error={error} tableColumns={tableColumns} tableData={tableData} />\r\n            </CardBody>\r\n            {isFetching === false && <TablePaginationDemo totalPages={data} setCurrentPage={setCurrentPage} currentPage={currentPage} rowsPerPage={rowsPerPage} setRowsPerPage={setRowsPerPage} />}\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\n\r\nexport default SIRCEVHome;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}