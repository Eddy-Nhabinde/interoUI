{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\ENhabinde\\\\Desktop\\\\work\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\ENhabinde\\\\Desktop\\\\work\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\ENhabinde\\\\Desktop\\\\work\\\\New folder\\\\src\\\\modules\\\\mfl\\\\components\\\\chart\\\\Chart.jsx\";\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Chart from \"chart.js\";\nimport { Row, Col, Card, CardHeader, CardBody, CardFooter } from \"shards-react\";\nimport { LinearProgress } from \"@mui/material\";\nimport \"../../../../assets/styles/chart.css\";\nimport { ChartDownloader } from \"./chartDownloader/ChartDownloader\";\nimport { colors } from \"../../assets/colors/barChartBkColor\";\nimport { abbreviate } from \"../../utils/abbreviate\";\nvar ChartComponent = function ChartComponent(_ref) {\n  var loader = _ref.loader,\n    data = _ref.data,\n    chartType = _ref.chartType,\n    title = _ref.title,\n    height = _ref.height,\n    legend = _ref.legend;\n  var canvasRef = useRef(null);\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    chartInstace = _useState2[0],\n    setChartInstance = _useState2[1];\n  var _useState3 = useState(\"View in full screen\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    chartFullScreen = _useState4[0],\n    setChartFullScreen = _useState4[1];\n  var getdata = function getdata() {\n    var keys = [],\n      orgUnits = [],\n      backgroundColor = [];\n    if (data) {\n      for (var i = 0; i < data.length; i++) {\n        keys.push(abbreviate(data[i].name) || data[i].id);\n        orgUnits.push(data[i].organisationUnits);\n        backgroundColor.push(colors[i]);\n      }\n      return {\n        datasets: [{\n          hoverBorderColor: \"#ffffff\",\n          label: \"\",\n          data: orgUnits,\n          backgroundColor: backgroundColor\n        }],\n        labels: keys\n      };\n    }\n    return [];\n  };\n  var chartConfig = function chartConfig() {\n    return {\n      type: chartType,\n      data: getdata(),\n      options: _objectSpread({}, {\n        legend: {\n          position: \"bottom\",\n          labels: {\n            padding: 10,\n            boxWidth: 20\n          },\n          display: legend\n        },\n        cutoutPercentage: 0,\n        tooltips: {\n          custom: false,\n          mode: \"index\",\n          position: \"nearest\"\n        }\n      })\n    };\n  };\n  useEffect(function () {\n    if (data) {\n      if (!chartInstace) {\n        var chart = new Chart(canvasRef.current, chartConfig());\n        setChartInstance(chart);\n      } else {\n        chartInstace.data = getdata();\n        chartInstace.update();\n      }\n    }\n  }, [data]);\n  var onFullScreenChange = function onFullScreenChange() {\n    if (chartFullScreen === \"View in normal screen\") {\n      setChartFullScreen(\"View in full screen\");\n    } else {\n      setChartFullScreen(\"View in normal screen\");\n    }\n  };\n  return /*#__PURE__*/React.createElement(Card, {\n    className: \"\".concat(chartFullScreen.replace(/\\s+/g, \"\"), \" h-100\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    className: \"d-flex\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"my-0 ml-0 mr-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, title), /*#__PURE__*/React.createElement(ChartDownloader, {\n    chartInstance: chartInstace,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  })), loader && /*#__PURE__*/React.createElement(LinearProgress, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 18\n    }\n  }), /*#__PURE__*/React.createElement(CardBody, {\n    className: \"d-flex\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"canvas\", {\n    height: height,\n    style: {\n      backgroundColor: \"white\"\n    },\n    ref: canvasRef,\n    className: \"blog-users-by-device m-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  })));\n};\nexport default ChartComponent;","map":{"version":3,"names":["React","useEffect","useRef","useState","Chart","Row","Col","Card","CardHeader","CardBody","CardFooter","LinearProgress","ChartDownloader","colors","abbreviate","ChartComponent","_ref","loader","data","chartType","title","height","legend","canvasRef","_useState","_useState2","_slicedToArray","chartInstace","setChartInstance","_useState3","_useState4","chartFullScreen","setChartFullScreen","getdata","keys","orgUnits","backgroundColor","i","length","push","name","id","organisationUnits","datasets","hoverBorderColor","label","labels","chartConfig","type","options","_objectSpread","position","padding","boxWidth","display","cutoutPercentage","tooltips","custom","mode","chart","current","update","onFullScreenChange","createElement","className","concat","replace","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","chartInstance","style","ref"],"sources":["C:/Users/ENhabinde/Desktop/work/New folder/src/modules/mfl/components/chart/Chart.jsx"],"sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport Chart from \"chart.js\";\r\nimport { Row, Col, Card, CardHeader, CardBody, CardFooter } from \"shards-react\";\r\nimport { LinearProgress } from \"@mui/material\";\r\nimport \"../../../../assets/styles/chart.css\";\r\nimport { ChartDownloader } from \"./chartDownloader/ChartDownloader\";\r\nimport { colors } from \"../../assets/colors/barChartBkColor\";\r\nimport { abbreviate } from \"../../utils/abbreviate\";\r\n\r\nconst ChartComponent = ({ loader, data, chartType, title, height, legend }) => {\r\n  const canvasRef = useRef(null);\r\n  const [chartInstace, setChartInstance] = useState(null);\r\n  const [chartFullScreen, setChartFullScreen] = useState(\"View in full screen\");\r\n\r\n  const getdata = () => {\r\n    const keys = [],\r\n      orgUnits = [],\r\n      backgroundColor = [];\r\n\r\n    if (data) {\r\n      for (let i = 0; i < data.length; i++) {\r\n        keys.push(abbreviate(data[i].name) || data[i].id);\r\n        orgUnits.push(data[i].organisationUnits);\r\n        backgroundColor.push(colors[i]);\r\n      }\r\n\r\n      return {\r\n        datasets: [\r\n          {\r\n            hoverBorderColor: \"#ffffff\",\r\n            label: \"\",\r\n            data: orgUnits,\r\n            backgroundColor: backgroundColor,\r\n          },\r\n        ],\r\n        labels: keys,\r\n      };\r\n    }\r\n    return [];\r\n  };\r\n\r\n  const chartConfig = () => {\r\n    return {\r\n      type: chartType,\r\n      data: getdata(),\r\n      options: {\r\n        ...{\r\n          legend: {\r\n            position: \"bottom\",\r\n            labels: {\r\n              padding: 10,\r\n              boxWidth: 20,\r\n            },\r\n            display: legend,\r\n          },\r\n          cutoutPercentage: 0,\r\n          tooltips: {\r\n            custom: false,\r\n            mode: \"index\",\r\n            position: \"nearest\",\r\n          },\r\n        },\r\n      },\r\n    };\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      if (!chartInstace) {\r\n        var chart = new Chart(canvasRef.current, chartConfig());\r\n        setChartInstance(chart);\r\n      } else {\r\n        chartInstace.data = getdata();\r\n        chartInstace.update();\r\n      }\r\n    }\r\n  }, [data]);\r\n\r\n  const onFullScreenChange = () => {\r\n    if (chartFullScreen === \"View in normal screen\") {\r\n      setChartFullScreen(\"View in full screen\");\r\n    } else {\r\n      setChartFullScreen(\"View in normal screen\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className={`${chartFullScreen.replace(/\\s+/g, \"\")} h-100`}>\r\n      <CardHeader className=\"d-flex\">\r\n        <h6 className=\"my-0 ml-0 mr-auto\">{title}</h6>\r\n        <ChartDownloader chartInstance={chartInstace} />\r\n      </CardHeader>\r\n      {loader && <LinearProgress />}\r\n      <CardBody className=\"d-flex\">\r\n        <canvas\r\n          height={height}\r\n          style={{ backgroundColor: \"white\" }}\r\n          ref={canvasRef}\r\n          className=\"blog-users-by-device m-auto\"\r\n        />\r\n      </CardBody>\r\n{/*       <CardFooter className=\"border-top\">\r\n        <Row>\r\n          <Col></Col>\r\n          <Col className=\"text-right view-report\">\r\n            <a\r\n              onClick={() => {\r\n                onFullScreenChange();\r\n              }}\r\n            >\r\n              {chartFullScreen} &rarr;\r\n            </a>\r\n          </Col>\r\n        </Row>\r\n      </CardFooter> */}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ChartComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}