{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\ENhabinde\\\\Desktop\\\\work\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\ENhabinde\\\\Desktop\\\\work\\\\New folder\\\\src\\\\components\\\\commons\\\\tree\\\\orgUnitTree.js\";\nimport React, { useState } from 'react';\nimport CheckboxTree from 'react-checkbox-tree';\nimport 'react-checkbox-tree/lib/react-checkbox-tree.css';\nimport { useFetch } from '../../../hooks/useFetch';\nimport { Menu } from '@mui/material';\nimport OUSelection from './ouSelection/ouSelection';\nvar TreeComponent = function TreeComponent(_ref) {\n  var selectedOu = _ref.selectedOu,\n    setSelectedOu = _ref.setSelectedOu;\n  var _useFetch = useFetch('api/mfl/treeview'),\n    data = _useFetch.data,\n    isFetching = _useFetch.isFetching;\n  var treeNodes = [];\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    expanded = _useState2[0],\n    setExpanded = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    checked = _useState4[0],\n    setChecked = _useState4[1];\n  var _React$useState = React.useState(null),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    anchorEl = _React$useState2[0],\n    setAnchorEl = _React$useState2[1];\n  var handleClickMenu = function handleClickMenu(event) {\n    setAnchorEl(event.currentTarget);\n  };\n  var handleClose = function handleClose() {\n    setAnchorEl(null);\n  };\n  function changeKey(obj, eliminar) {\n    if (eliminar) delete obj['organisationUnitGroups'];\n    obj['label'] = obj['name'];\n    obj['value'] = obj['id'];\n  }\n  if (data) if (data.organisationUnits) {\n    changeKey(data.organisationUnits[0]);\n    data.organisationUnits[0].children.map(function (val) {\n      changeKey(val);\n      val.children.map(function (val2) {\n        changeKey(val2);\n        val2.children.map(function (val3) {\n          changeKey(val3, true);\n        });\n      });\n    });\n    treeNodes = [data.organisationUnits[0]];\n  }\n  var _onCheck = function onCheck(e, v) {\n    setChecked([v.value]);\n    setSelectedOu({\n      label: v.label,\n      childrens: v.children,\n      level: v.level,\n      id: v.value\n    });\n    handleClose();\n  };\n  var cancelSelection = function cancelSelection() {\n    setChecked([]);\n    setSelectedOu(\"\");\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(OUSelection, {\n    isFetching: isFetching,\n    cancelSelection: cancelSelection,\n    handleClickMenu: handleClickMenu,\n    selectedOu: selectedOu,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Menu, {\n    style: {\n      borderRadius: \"100px\"\n    },\n    onClose: handleClose,\n    open: Boolean(anchorEl),\n    anchorEl: anchorEl,\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'left'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: \"5px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CheckboxTree, {\n    icons: {\n      check: /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 36\n        }\n      }, \"check_box\"),\n      uncheck: /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 38\n        }\n      }, \"check_box_outline_blank\"),\n      halfCheck: /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 40\n        }\n      }, \"indeterminate_check_box\"),\n      expandClose: /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 42\n        }\n      }, \"keyboard_arrow_right\"),\n      expandOpen: /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 41\n        }\n      }, \"expand_more\"),\n      expandAll: /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 40\n        }\n      }, \"expand_more\"),\n      collapseAll: /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 42\n        }\n      }, \"expand_more\"),\n      parentClose: /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 42\n        }\n      }, \"folder\"),\n      parentOpen: /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 41\n        }\n      }, \"folder_open\"),\n      leaf: /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 35\n        }\n      }, \"folder\")\n    },\n    nodes: treeNodes,\n    checked: checked,\n    nativeCheckboxes: true,\n    expanded: expanded,\n    onCheck: function onCheck(e, v) {\n      return _onCheck(e, v);\n    },\n    onExpand: function onExpand(expanded) {\n      return setExpanded(expanded);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }))));\n};\nexport { TreeComponent };","map":{"version":3,"names":["React","useState","CheckboxTree","useFetch","Menu","OUSelection","TreeComponent","_ref","selectedOu","setSelectedOu","_useFetch","data","isFetching","treeNodes","_useState","_useState2","_slicedToArray","expanded","setExpanded","_useState3","_useState4","checked","setChecked","_React$useState","_React$useState2","anchorEl","setAnchorEl","handleClickMenu","event","currentTarget","handleClose","changeKey","obj","eliminar","organisationUnits","children","map","val","val2","val3","onCheck","e","v","value","label","childrens","level","id","cancelSelection","createElement","Fragment","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","borderRadius","onClose","open","Boolean","anchorOrigin","vertical","horizontal","margin","icons","check","class","uncheck","halfCheck","expandClose","expandOpen","expandAll","collapseAll","parentClose","parentOpen","leaf","nodes","nativeCheckboxes","onExpand"],"sources":["C:/Users/ENhabinde/Desktop/work/New folder/src/components/commons/tree/orgUnitTree.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport CheckboxTree from 'react-checkbox-tree';\r\nimport 'react-checkbox-tree/lib/react-checkbox-tree.css';\r\nimport { useFetch } from '../../../hooks/useFetch';\r\nimport { Menu } from '@mui/material';\r\nimport OUSelection from './ouSelection/ouSelection';\r\n\r\nconst TreeComponent = ({ selectedOu, setSelectedOu }) => {\r\n    const { data, isFetching } = useFetch('api/mfl/treeview')\r\n    let treeNodes = []\r\n    const [expanded, setExpanded] = useState([]);\r\n    const [checked, setChecked] = useState([]);\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const handleClickMenu = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    function changeKey(obj, eliminar) {\r\n        if (eliminar)\r\n            delete obj['organisationUnitGroups']\r\n\r\n        obj['label'] = obj['name']\r\n        obj['value'] = obj['id']\r\n    }\r\n\r\n    if (data)\r\n        if (data.organisationUnits) {\r\n            changeKey(data.organisationUnits[0])\r\n            data.organisationUnits[0].children.map((val) => {\r\n                changeKey(val)\r\n                val.children.map((val2) => {\r\n                    changeKey(val2)\r\n                    val2.children.map((val3) => {\r\n                        changeKey(val3, true)\r\n                    })\r\n                })\r\n            })\r\n            treeNodes = [data.organisationUnits[0]]\r\n        }\r\n\r\n    const onCheck = (e, v) => {\r\n        setChecked([v.value]);\r\n        setSelectedOu({ label: v.label, childrens: v.children, level: v.level, id: v.value });\r\n        handleClose()\r\n    };\r\n\r\n    const cancelSelection = () => {\r\n        setChecked([]);\r\n        setSelectedOu(\"\");\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <OUSelection isFetching={isFetching} cancelSelection={cancelSelection} handleClickMenu={handleClickMenu} selectedOu={selectedOu} />\r\n            <Menu\r\n                style={{ borderRadius: \"100px\" }}\r\n                onClose={handleClose}\r\n                open={Boolean(anchorEl)}\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                }}\r\n            >\r\n                <div style={{ margin: \"5px\" }} >\r\n                    <CheckboxTree\r\n                        icons={{\r\n                            check: <i class=\"material-icons\">check_box</i>,\r\n                            uncheck: <i class=\"material-icons\">check_box_outline_blank</i>,\r\n                            halfCheck: <i class=\"material-icons\">indeterminate_check_box</i>,\r\n                            expandClose: <i class=\"material-icons\">keyboard_arrow_right</i>,\r\n                            expandOpen: <i class=\"material-icons\">expand_more</i>,\r\n                            expandAll: <i class=\"material-icons\">expand_more</i>,\r\n                            collapseAll: <i class=\"material-icons\">expand_more</i>,\r\n                            parentClose: <i class=\"material-icons\">folder</i>,\r\n                            parentOpen: <i class=\"material-icons\">folder_open</i>,\r\n                            leaf: <i class=\"material-icons\">folder</i>\r\n                        }}\r\n                        nodes={treeNodes}\r\n                        checked={checked}\r\n                        nativeCheckboxes\r\n                        expanded={expanded}\r\n                        onCheck={(e, v) => onCheck(e, v)}\r\n                        onExpand={expanded => setExpanded(expanded)}\r\n                    />\r\n                </div>\r\n            </Menu>\r\n        </>\r\n    );\r\n}\r\nexport { TreeComponent };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}