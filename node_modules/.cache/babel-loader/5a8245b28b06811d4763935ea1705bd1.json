{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\ENhabinde\\\\Desktop\\\\work\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\ENhabinde\\\\Desktop\\\\work\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\ENhabinde\\\\Desktop\\\\work\\\\New folder\\\\src\\\\components\\\\commons\\\\chart\\\\LineChart.jsx\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Card, CardHeader, CardBody } from \"shards-react\";\nimport Chart from \"./lineChartHelper\";\nimport { useTranslation } from \"react-i18next\";\nimport { ChartDownloader } from \"./chartDownloader/ChartDownloader\";\nvar LineChartHome = function LineChartHome(_ref) {\n  var prints = _ref.prints,\n    data = _ref.data,\n    date = _ref.date;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var canvasRef = useRef(null);\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    chartInstace = _useState2[0],\n    setChartInstance = _useState2[1];\n  var getPrints = function getPrints() {\n    if (prints) {\n      return {\n        labels: Array.from(new Array(prints.data.length), function (_, i) {\n          return date === 'data' ? prints.data[i].data : prints.data[i].date;\n        }),\n        datasets: [{\n          label: t(\"certificados_emitidos\"),\n          fill: \"start\",\n          data: Array.from(new Array(prints.data.length), function (_, i) {\n            return data === 'prints' ? prints.data[i].prints : prints.data[i].imports;\n          }),\n          backgroundColor: \"rgba(0,123,255,0.1)\",\n          borderColor: \"rgba(0,123,255,1)\",\n          pointBackgroundColor: \"#ffffff\",\n          pointHoverBackgroundColor: \"rgb(0,123,255)\",\n          borderWidth: 1.5,\n          pointRadius: 0,\n          pointHoverRadius: 3\n        }]\n      };\n    }\n    return [];\n  };\n  var chartOptions = _objectSpread({}, {\n    responsive: true,\n    legend: {\n      position: \"top\"\n    },\n    elements: {\n      line: {\n        // A higher value makes the line look skewed at this ratio.\n        tension: 0.3\n      },\n      point: {\n        radius: 0\n      }\n    },\n    scales: {\n      xAxes: [{\n        gridLines: false,\n        ticks: {\n          callback: function callback(tick, index) {\n            // Jump every 7 values on the X axis labels to avoid clutter.\n            return index % 7 !== 0 ? \"\" : tick;\n          }\n        }\n      }],\n      yAxes: [{\n        ticks: {\n          suggestedMax: 45,\n          callback: function callback(tick) {\n            if (tick === 0) {\n              return tick;\n            }\n            // Format the amounts using Ks for thousands.\n            return tick > 999 ? \"\".concat((tick / 1000).toFixed(1), \"K\") : tick;\n          }\n        }\n      }]\n    },\n    hover: {\n      mode: \"nearest\",\n      intersect: false\n    },\n    tooltips: {\n      custom: false,\n      mode: \"nearest\",\n      intersect: false\n    }\n  });\n  useEffect(function () {\n    if (prints && prints.data.length > 0) {\n      if (!chartInstace) {\n        var chart = new Chart(canvasRef.current, {\n          type: \"LineWithLine\",\n          data: getPrints(),\n          options: chartOptions\n        });\n        var buoMeta = chart.getDatasetMeta(0);\n        buoMeta.data[0]._model.radius = 0;\n        buoMeta.data[getPrints().datasets[0].data.length - 1]._model.radius = 0;\n        chart.render();\n        setChartInstance(chart);\n      } else {\n        chartInstace.data = getPrints();\n        chartInstace.update();\n        chartInstace.render();\n      }\n    }\n  }, [prints, t]);\n  return /*#__PURE__*/React.createElement(Card, {\n    small: true,\n    className: \"h-100\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    className: \"border-bottom d-flex\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"my-0 ml-0 mr-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, t(\"emissoes_ao_longo_do_tempo\")), /*#__PURE__*/React.createElement(ChartDownloader, {\n    chartInstance: chartInstace,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 81\n    }\n  })), /*#__PURE__*/React.createElement(CardBody, {\n    className: \"pt-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"canvas\", {\n    height: \"120\",\n    ref: canvasRef,\n    style: {\n      maxWidth: \"100% !important\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  })));\n};\nexport default LineChartHome;","map":{"version":3,"names":["React","useEffect","useRef","useState","Card","CardHeader","CardBody","Chart","useTranslation","ChartDownloader","LineChartHome","_ref","prints","data","date","_useTranslation","t","canvasRef","_useState","_useState2","_slicedToArray","chartInstace","setChartInstance","getPrints","labels","Array","from","length","_","i","datasets","label","fill","imports","backgroundColor","borderColor","pointBackgroundColor","pointHoverBackgroundColor","borderWidth","pointRadius","pointHoverRadius","chartOptions","_objectSpread","responsive","legend","position","elements","line","tension","point","radius","scales","xAxes","gridLines","ticks","callback","tick","index","yAxes","suggestedMax","concat","toFixed","hover","mode","intersect","tooltips","custom","chart","current","type","options","buoMeta","getDatasetMeta","_model","render","update","createElement","small","className","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","chartInstance","height","ref","style","maxWidth"],"sources":["C:/Users/ENhabinde/Desktop/work/New folder/src/components/commons/chart/LineChart.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Card, CardHeader, CardBody } from \"shards-react\";\r\nimport Chart from \"./lineChartHelper\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { ChartDownloader } from \"./chartDownloader/ChartDownloader\";\r\n\r\nconst LineChartHome = ({ prints, data, date }) => {\r\n\r\n  const { t } = useTranslation();\r\n  const canvasRef = useRef(null);\r\n  const [chartInstace, setChartInstance] = useState(null);\r\n\r\n  const getPrints = () => {\r\n    if (prints) {\r\n      return {\r\n        labels: Array.from(\r\n          new Array(prints.data.length),\r\n          (_, i) => (date === 'data' ? prints.data[i].data : prints.data[i].date)),\r\n        datasets: [\r\n          {\r\n            label: t(\"certificados_emitidos\"),\r\n            fill: \"start\",\r\n            data: Array.from(\r\n              new Array(prints.data.length),\r\n              (_, i) => (data === 'prints' ? prints.data[i].prints : prints.data[i].imports)),\r\n            backgroundColor: \"rgba(0,123,255,0.1)\",\r\n            borderColor: \"rgba(0,123,255,1)\",\r\n            pointBackgroundColor: \"#ffffff\",\r\n            pointHoverBackgroundColor: \"rgb(0,123,255)\",\r\n            borderWidth: 1.5,\r\n            pointRadius: 0,\r\n            pointHoverRadius: 3,\r\n          },\r\n        ],\r\n      };\r\n    }\r\n    return []\r\n  };\r\n\r\n\r\n  const chartOptions = {\r\n    ...{\r\n      responsive: true,\r\n      legend: {\r\n        position: \"top\",\r\n      },\r\n      elements: {\r\n        line: {\r\n          // A higher value makes the line look skewed at this ratio.\r\n          tension: 0.3,\r\n        },\r\n        point: {\r\n          radius: 0,\r\n        },\r\n      },\r\n      scales: {\r\n        xAxes: [\r\n          {\r\n            gridLines: false,\r\n            ticks: {\r\n              callback(tick, index) {\r\n                // Jump every 7 values on the X axis labels to avoid clutter.\r\n                return index % 7 !== 0 ? \"\" : tick;\r\n              },\r\n            },\r\n          },\r\n        ],\r\n        yAxes: [\r\n          {\r\n            ticks: {\r\n              suggestedMax: 45,\r\n              callback(tick) {\r\n                if (tick === 0) {\r\n                  return tick;\r\n                }\r\n                // Format the amounts using Ks for thousands.\r\n                return tick > 999 ? `${(tick / 1000).toFixed(1)}K` : tick;\r\n              },\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      hover: {\r\n        mode: \"nearest\",\r\n        intersect: false,\r\n      },\r\n      tooltips: {\r\n        custom: false,\r\n        mode: \"nearest\",\r\n        intersect: false,\r\n      },\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (prints && prints.data.length > 0) {\r\n      if (!chartInstace) {\r\n        var chart = new Chart(canvasRef.current, {\r\n          type: \"LineWithLine\",\r\n          data: getPrints(),\r\n          options: chartOptions,\r\n        });\r\n\r\n        const buoMeta = chart.getDatasetMeta(0);\r\n        buoMeta.data[0]._model.radius = 0;\r\n        buoMeta.data[getPrints().datasets[0].data.length - 1]._model.radius = 0;\r\n        chart.render();\r\n        setChartInstance(chart);\r\n      } else {\r\n        chartInstace.data = getPrints();\r\n        chartInstace.update();\r\n        chartInstace.render();\r\n      }\r\n    }\r\n  }, [prints, t])\r\n\r\n  return (\r\n    <Card small className=\"h-100\">\r\n      <CardHeader className=\"border-bottom d-flex\">\r\n        <h6 className=\"my-0 ml-0 mr-auto\">{t(\"emissoes_ao_longo_do_tempo\")}</h6><ChartDownloader chartInstance={chartInstace} />\r\n      </CardHeader>\r\n      <CardBody className=\"pt-0\">\r\n        <canvas\r\n          height=\"120\"\r\n          ref={canvasRef}\r\n          style={{ maxWidth: \"100% !important\" }}\r\n        />\r\n      </CardBody>\r\n    </Card>\r\n  );\r\n};\r\nexport default LineChartHome;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}