{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\ENhabinde\\\\Desktop\\\\work\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\ENhabinde\\\\Desktop\\\\work\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\ENhabinde\\\\Desktop\\\\work\\\\New folder\\\\src\\\\components\\\\commons\\\\chart\\\\Chart.jsx\";\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Chart from \"chart.js\";\nimport { Row, Col, Card, CardHeader, CardBody, CardFooter } from \"shards-react\";\nimport { colors } from \"../../../assets/colors/barChartBkColor\";\nimport { LinearProgress } from \"@mui/material\";\nimport '../../../assets/styles/chart.css';\nimport { ChartDownloader } from \"./chartDownloader/ChartDownloader\";\nvar ChartComponent = function ChartComponent(_ref) {\n  var loader = _ref.loader,\n    summaries = _ref.summaries,\n    chartType = _ref.chartType,\n    title = _ref.title,\n    lables = _ref.lables,\n    dados = _ref.dados,\n    cores = _ref.cores;\n  var canvasRef = useRef(null);\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    chartInstace = _useState2[0],\n    setChartInstance = _useState2[1];\n  var _useState3 = useState('View in full screen'),\n    _useState4 = _slicedToArray(_useState3, 2),\n    chartFullScreen = _useState4[0],\n    setChartFullScreen = _useState4[1];\n  var getSummaries = function getSummaries() {\n    var users = [],\n      prints = [],\n      backgroundColor = [];\n    if (summaries) {\n      for (var i = 0; i < summaries.length; i++) {\n        users.push(summaries[i].username || summaries[i].shortName);\n        prints.push(summaries[i].totalPrints);\n        backgroundColor.push(colors[i]);\n      }\n      return {\n        datasets: [{\n          hoverBorderColor: \"#ffffff\",\n          label: \"Total de 贸bitos sincronizados\",\n          data: prints,\n          backgroundColor: backgroundColor\n        }],\n        labels: users\n      };\n    } else if (lables || dados) {\n      return {\n        datasets: [{\n          hoverBorderColor: \"#ffffff\",\n          label: \"Total de 贸bitos sincronizados\",\n          data: dados,\n          backgroundColor: cores\n        }],\n        labels: lables\n      };\n    }\n    return [];\n  };\n  var chartConfig = function chartConfig() {\n    return {\n      type: chartType,\n      data: getSummaries(),\n      options: _objectSpread({}, {\n        legend: {\n          position: \"bottom\",\n          labels: {\n            padding: 25,\n            boxWidth: 20\n          }\n        },\n        cutoutPercentage: 0,\n        tooltips: {\n          custom: false,\n          mode: \"index\",\n          position: \"nearest\"\n        }\n      })\n    };\n  };\n  useEffect(function () {\n    if (summaries || lables && dados) {\n      if (!chartInstace) {\n        var chart = new Chart(canvasRef.current, chartConfig());\n        setChartInstance(chart);\n      } else {\n        chartInstace.data = getSummaries();\n        chartInstace.update();\n      }\n    }\n  }, [summaries, lables, dados]);\n  var onFullScreenChange = function onFullScreenChange() {\n    if (chartFullScreen === 'View in normal screen') {\n      setChartFullScreen('View in full screen');\n    } else {\n      setChartFullScreen('View in normal screen');\n    }\n  };\n  return /*#__PURE__*/React.createElement(Card, {\n    className: chartFullScreen.replace(/\\s+/g, ''),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    className: \"border-bottom d-flex\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"my-0 ml-0 mr-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, title), /*#__PURE__*/React.createElement(ChartDownloader, {\n    chartInstance: chartInstace,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 55\n    }\n  })), loader && /*#__PURE__*/React.createElement(LinearProgress, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 18\n    }\n  }), /*#__PURE__*/React.createElement(CardBody, {\n    className: \"d-flex py-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"canvas\", {\n    height: \"120\",\n    style: {\n      backgroundColor: 'white'\n    },\n    ref: canvasRef,\n    className: \"blog-users-by-device m-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(CardFooter, {\n    className: \"border-top\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    className: \"text-right view-report\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    onClick: function onClick() {\n      return onFullScreenChange();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, chartFullScreen, \" \\u2192\")))));\n};\nexport default ChartComponent;","map":{"version":3,"names":["React","useEffect","useRef","useState","Chart","Row","Col","Card","CardHeader","CardBody","CardFooter","colors","LinearProgress","ChartDownloader","ChartComponent","_ref","loader","summaries","chartType","title","lables","dados","cores","canvasRef","_useState","_useState2","_slicedToArray","chartInstace","setChartInstance","_useState3","_useState4","chartFullScreen","setChartFullScreen","getSummaries","users","prints","backgroundColor","i","length","push","username","shortName","totalPrints","datasets","hoverBorderColor","label","data","labels","chartConfig","type","options","_objectSpread","legend","position","padding","boxWidth","cutoutPercentage","tooltips","custom","mode","chart","current","update","onFullScreenChange","createElement","className","replace","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","chartInstance","height","style","ref","onClick"],"sources":["C:/Users/ENhabinde/Desktop/work/New folder/src/components/commons/chart/Chart.jsx"],"sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport Chart from \"chart.js\";\r\nimport { Row, Col, Card, CardHeader, CardBody, CardFooter } from \"shards-react\";\r\nimport { colors } from \"../../../assets/colors/barChartBkColor\";\r\nimport { LinearProgress } from \"@mui/material\";\r\nimport '../../../assets/styles/chart.css'\r\nimport { ChartDownloader } from \"./chartDownloader/ChartDownloader\";\r\n\r\nconst ChartComponent = ({ loader, summaries, chartType, title, lables, dados, cores }) => {\r\n  const canvasRef = useRef(null);\r\n  const [chartInstace, setChartInstance] = useState(null);\r\n  const [chartFullScreen, setChartFullScreen] = useState('View in full screen');\r\n\r\n  const getSummaries = () => {\r\n    const users = [],\r\n      prints = [],\r\n      backgroundColor = [];\r\n\r\n    if (summaries) {\r\n      for (let i = 0; i < summaries.length; i++) {\r\n        users.push(summaries[i].username || summaries[i].shortName);\r\n        prints.push(summaries[i].totalPrints);\r\n        backgroundColor.push(colors[i]);\r\n      }\r\n      return {\r\n        datasets: [\r\n          {\r\n            hoverBorderColor: \"#ffffff\",\r\n            label: \"Total de 贸bitos sincronizados\",\r\n            data: prints,\r\n            backgroundColor: backgroundColor,\r\n          },\r\n        ],\r\n        labels: users,\r\n      };\r\n    } else if (lables || dados) {\r\n\r\n      return {\r\n        datasets: [\r\n          {\r\n            hoverBorderColor: \"#ffffff\",\r\n            label: \"Total de 贸bitos sincronizados\",\r\n            data: dados,\r\n            backgroundColor: cores,\r\n          },\r\n        ],\r\n        labels: lables,\r\n      };\r\n    }\r\n    return [];\r\n  };\r\n\r\n  const chartConfig = () => {\r\n    return {\r\n      type: chartType,\r\n      data: getSummaries(),\r\n      options: {\r\n        ...{\r\n          legend: {\r\n            position: \"bottom\",\r\n            labels: {\r\n              padding: 25,\r\n              boxWidth: 20,\r\n            },\r\n          },\r\n          cutoutPercentage: 0,\r\n          tooltips: {\r\n            custom: false,\r\n            mode: \"index\",\r\n            position: \"nearest\",\r\n          },\r\n        },\r\n      },\r\n    };\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (summaries || (lables && dados)) {\r\n      if (!chartInstace) {\r\n        var chart = new Chart(canvasRef.current, chartConfig());\r\n        setChartInstance(chart);\r\n      } else {\r\n        chartInstace.data = getSummaries();\r\n        chartInstace.update();\r\n      }\r\n    }\r\n  }, [summaries, lables, dados]);\r\n\r\n\r\n  const onFullScreenChange = () => {\r\n    if (chartFullScreen === 'View in normal screen') {\r\n      setChartFullScreen('View in full screen')\r\n    } else {\r\n      setChartFullScreen('View in normal screen')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card className={chartFullScreen.replace(/\\s+/g, '')}>\r\n      <CardHeader className=\"border-bottom d-flex\">\r\n        <h6 className=\"my-0 ml-0 mr-auto\">{title}</h6><ChartDownloader chartInstance={chartInstace} />\r\n      </CardHeader>\r\n      {loader && <LinearProgress />}\r\n      <CardBody className=\"d-flex py-0\">\r\n        <canvas\r\n          height=\"120\"\r\n          style={{ backgroundColor: 'white' }}\r\n          ref={canvasRef}\r\n          className=\"blog-users-by-device m-auto\"\r\n        />\r\n      </CardBody>\r\n      <CardFooter className=\"border-top\">\r\n        <Row>\r\n          <Col></Col>\r\n          <Col className=\"text-right view-report\">\r\n            <a onClick={() => onFullScreenChange()}>{chartFullScreen} &rarr;</a>\r\n          </Col>\r\n        </Row>\r\n      </CardFooter>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ChartComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}