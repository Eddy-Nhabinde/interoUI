(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return n});var n=function(t,a){return e.from(t+":"+a).toString("base64")}}).call(this,a(175).Buffer)},155:function(e,t,a){e.exports={Navbar:"MainNavbar_Navbar__3ZKIz",nav:"MainNavbar_nav__1XAva",navMediaQuery550:"MainNavbar_navMediaQuery550__11Iv9",navMediaQuery900:"MainNavbar_navMediaQuery900__1KgfP"}},208:function(e,t,a){},223:function(e,t,a){e.exports=a.p+"static/media/ukwaba-logo.00c0809a.png"},289:function(e,t,a){},303:function(e){e.exports={select_language:"Select Language",total_emitidos:"Total certificates issued",ultima_sincronizacao:"Last sync","sync-now":"Sync","nova-instancia":"New Instance",hoje:"TODAY",semana:"CURRENT WEEK ",mes:"CURRENT MONTH",ano:"CURRENT YEAR",total:"ALL CERTIFICATES",emissoes_ao_longo_do_tempo:"Emissions over time",certificados_emitidos:"Certificates issued",pagina_inicial:"Dashboard",local:"Site",utilizadores:"Users",historico:"History ",atualizar_dados:"Update values",limpar_dados:"Clear params",data:"Date",dataInicio:"Start Date",dataFim:"End Date",referencia:"Reference",data_hora:"Date and time",usuario:"Username",id_beneficiario:"Benefeciary ID",nome_completo_beneficiario:" Benefeciary Full name",perfil:"Profile",terminar_sessao:"Logout",config_pagina:"Settings",prod_pagina:"Products","expr-table":"Export Table","filtrar-estado":"Filter by status","data-hora":"Date and time",us:"Health Facilities","api-doc":"API Documentation",produtos:"Products",periodos:"Periods",estado:"Status",area:"Area",codigo:"Code",desc:"Description",dde:"DHIS2 Data Element","pagina-inicial":"Home Page","escolha-modulo":"Choose a module to continue",modulo:"Modules",doc:"Documentation","filtrar-area":"Filter by area","mostrat-todos":"Show all",mapeados:"Show mapped","nao-mapeados":"Show unmapped",activo:"Active",inactivo:"Inactive","lista-produto":"Product List","lista-us":"Health Facilities List","filtrar-provincia":"Filter by province","filtrar-distrito":"Filter by district","ultimo-sync":"Last Sync","proximo-sync":"Next Sync",receptores:"E-mail receivers","historico-import":"Import History",salvar:"Save",provincia:"Province",distrito:"District","unidade-sanitaria":"Health Facility","codigo-us":"Health Facility Code","us-cmam":"Health Facility | CMAM",utilizador:"Username",criado:"Created",variaveis:"Variables","import-detalhes":"Import details","import-tipo":"Import type","import-data":"Import date",importados:"Imported",ignorados:"Ignored",actualizados:"Updated",apagados:"Deleted","detalhes-gerais":"General details","unidades-sanitarias":"Health Facilities","nova-sugestao":"New suggestion",criacao:"Creation",created:"Created",actualizacao:"Update","mapa-us":"Health Facilities Map","us-por-tipo":"Health Facilities by type","us-por-nivel":"Health Facilities by level","pesquisar-us-nome":"Search HF by name...","centro-rural":"Rural Center","centro-urbano":"Urbano Center","centro-privado":"Private Center","sync-details":"Sync details","nao-definido":"Not defined",copyright_desenvolvido_por:"Copyright \xa9 2023 MISAU",seleccionar_modulo:"Por favor, seleccione um m\xf3dulo para continuar!",minsa:"Minist\xe9rio da Sa\xfade de Angola",introduzir_dados:"Introduza os seus dados de acesso para continuar!",username:"Nome de utilizador",password:"Plavra-chave",voltar_a_lista:"Voltar \xe0 Lista",servicos:"Servi\xe7os",servidor:"Server",nome:"Nome","data-criacao":"Data e hora da cria\xe7\xe3o","lista-servico":"Lista de Servi\xe7o","filtrar-tipo":"Filter by type",ukwaba_welcome:"Seja bem vindo a Plataforma de Interoperabilidade",mfl_access:"Aceder ao Portal P\xfablica das Unidades Sanit\xe1rias"}},304:function(e){e.exports={select_language:"Escolha o idioma",total_emitidos:"Total de certificados emitidos",ultima_sincronizacao:"Ultima sincroniza\xe7\xe3o",sucesso:"Sincroniza\xe7\xf5es feitas com sucesso",erro:"Sincroniza\xe7\xf5es feitas sem sucesso","sync-details":"Detalhes da sincroniza\xe7\xe3o",created:"Criados","sync-now":"Sincronizar","nova-instancia":"Nova inst\xe2ncia",hoje:"HOJE",semana:"SEMANA EM CURSO",mes:"MES EM CURSO",ano:"ESTE ANO",total:"TOTAL GERAL",emissoes_ao_longo_do_tempo:"Emiss\xf5es ao longo do tempo",certificados_emitidos:"Certificados emitidos",pagina_inicial:"Dashboard",local:"Sum\xe1rio por Local",utilizadores:"Perfomance por Utilizador",historico:"Hist\xf3rico Linear",atualizar_dados:"Atualizar dados",limpar_dados:"Limpar parametros",dataInicio:"Data inicial",dataFim:"Data final",referencia:"Refer\xeancia",data_hora:"Data e Hora",usuario:"Nome do Usu\xe1rio",id_beneficiario:"Id do Benefici\xe1rio",nome_completo_beneficiario:"Nome Completo do Benefici\xe1rio",perfil:"Perfil",terminar_sessao:"Terminar sess\xe3o",config_pagina:"Configura\xe7\xf5es",prod_pagina:"Produtos","expr-table":"Exportar Tabela","filtrar-estado":"Filtrar pelo estado","data-hora":"Data e hora",us:"Unidades Sanit\xe1rias","api-doc":"Documenta\xe7\xe3o da API",produtos:"Produtos",periodos:"Per\xedodos",estado:"Estado",area:"\xc1rea",codigo:"C\xf3digo",desc:"Descri\xe7\xe3o",dde:"Metadado DHIS2","pagina-inicial":"P\xe1gina Principal","escolha-modulo":"Escolha um modulo para continuar",modulo:"M\xf3dulos",doc:"Documenta\xe7\xe3o","filtrar-area":"Filtrar pela \xe1rea","mostrat-todos":"Mostrar todos",mapeados:"Mostrar mapeados","nao-mapeados":"Mostrar n\xe3o mapeados",activo:"Activo",inactivo:"Inactivo","lista-produto":"Lista de Produtos","lista-us":"Lista de Unidades Sanit\xe1rias","filtrar-provincia":"Filtrar por prov\xedncia","filtrar-distrito":"Filtrar por distrito","ultimo-sync":"\xdaltima Sincroniza\xe7\xe3o","proximo-sync":"Pr\xf3xima Sincroniza\xe7\xe3o",receptores:"E-mail de receptores","historico-import":"Hist\xf3rico de Importa\xe7\xf5es",salvar:"Criar",provincia:"Prov\xedncia",distrito:"Distrito","unidade-sanitaria":"Unidade Sanit\xe1ria","codigo-us":"C\xf3digo da Unidade Sanit\xe1ria","us-cmam":"Unidade Sanit\xe1ria na CMAM",utilizador:"Utilizador",criado:"Criado",variaveis:"Vari\xe1veis","import-detalhes":"Detalhes de importa\xe7\xe3o","import-tipo":"Tipo de importa\xe7\xe3o","import-data":"Data de importa\xe7\xe3o",importados:"Importados",ignorados:"Ignorados",data:"Data",servidor:"Servidor",actualizados:"Actualizados",apagados:"Apagados","detalhes-gerais":"Detalhes gerais","unidades-sanitarias":"Unidades Sanit\xe1rias","nova-sugestao":"Nova sugest\xe3o",criacao:"Cria\xe7\xe3o",actualizacao:"Actualiza\xe7\xe3o","mapa-us":"Mapa de Unidades Sanit\xe1rias","us-por-tipo":"Unidades Sanit\xe1rias por tipo","us-por-nivel":"Unidades Sanit\xe1rias por n\xedvel","pesquisar-us-nome":"Pesquisar US pelo nome...","centro-rural":"Centro Rural","centro-urbano":"Centro Urbano","centro-privado":"Centro Privado","nao-definido":"N\xe3o definido",seleccionar_modulo:"Por favor, seleccione um servi\xe7o para continuar!",minsa:"Minist\xe9rio da Sa\xfade de Angola",introduzir_dados:"Introduza os seus dados de acesso para continuar!",copyright_desenvolvido_por:"Copyright \xa9 2023 MISAU",username:"Nome de utilizador",password:"Plavra-chave",voltar_a_lista:"Voltar \xe0 Lista",servicos:"Servi\xe7os",nome:"Nome","data-criacao":"Data e hora da cria\xe7\xe3o","lista-servico":"Lista de Servi\xe7o","filtrar-tipo":"Filter by type",ukwaba_welcome:"Seja bem vindo a Plataforma de Interoperabilidade",mfl_access:"Aceder ao portal p\xfablico das Unidades Sanit\xe1rias"}},313:function(e,t,a){e.exports=a.p+"static/media/module.a27827c8.png"},316:function(e,t,a){e.exports=a.p+"static/media/mozambique.eaaac207.png"},322:function(e,t,a){e.exports=a.p+"static/media/errorpage.ed5dbcfb.gif"},323:function(e,t,a){e.exports=a.p+"static/media/dhis2-logo.1054ccda.png"},325:function(e,t,a){e.exports=a.p+"static/media/warning.015fc846.png"},337:function(e){e.exports=[{label:"Navigation",styleName:"Navigation",styleUrl:"mapbox://styles/mapbox/navigation-day-v1"},{label:"Light",styleName:"Light",styleUrl:"mapbox://styles/mapbox/light-v10"},{label:"Night",styleName:"Night",styleUrl:"mapbox://styles/mapbox/navigation-night-v1"},{label:"Satellite",styleName:"Satellite",styleUrl:"mapbox://styles/mapbox/satellite-v9"}]},338:function(e,t,a){e.exports=a.p+"static/media/marker1.dc694960.png"},339:function(e,t,a){e.exports=a.p+"static/media/marker4.4d76c05c.png"},340:function(e,t,a){e.exports=a.p+"static/media/marker10.df641146.png"},341:function(e,t,a){e.exports=a.p+"static/media/marker.72e14251.png"},342:function(e){e.exports={displayName:"Estado",id:"status",placeholder:"Seleccione o estado",valueType:"LIST",options:[{id:"1",name:"Pendente",code:"PENDENT"},{id:"2",name:"Aprovada",code:"APPROVED"},{id:"3",name:"Rejeitada",code:"UNAPPROVED"}]}},345:function(e){e.exports=[{name:"name",type:"text"},{name:"url",type:"text"},{name:"username",type:"text"},{name:"password",type:"password"}]},370:function(e,t,a){e.exports=a(596)},376:function(e,t,a){},382:function(e,t,a){},472:function(e,t,a){},501:function(e,t,a){},508:function(e,t,a){},510:function(e,t,a){},512:function(e,t,a){},514:function(e,t,a){e.exports=a.p+"static/media/user.23d13a1d.png"},518:function(e,t,a){e.exports=a.p+"static/media/logo.b51b4a11.png"},520:function(e,t,a){},524:function(e,t,a){},582:function(e,t,a){},584:function(e,t,a){},586:function(e,t,a){},588:function(e,t,a){},596:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(54),i=a.n(o),l=a(154),c=a(827),s=a(300),m=a(302),u={en:{translation:a(303)},pt:{translation:a(304)}};l.a.use(s.a).use(m.a).use(c.e).init({react:{useSuspense:!1},resources:u,fallbackLng:"pt",detection:{order:["localStorage","cookie","sessionStorage","navigator","htmlTag","path","subdomain"],caches:["localStorage"]},supportedLngs:["en","pt"],interpolation:{escapeValue:!1}});l.a,a(376);var d=a(5),f=a(16),p=a(66),h=a(33),g=a(34),b=a(49),E=a(26),v=a(50),y=a(51),N=a(211);function w(e,t,a){return t=Object(E.a)(t),Object(b.a)(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,a||[],Object(E.a)(e).constructor):t.apply(e,a))}N.a.initialize(Object({NODE_ENV:"production",PUBLIC_URL:"./intero",REACT_APP_BASE_TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjE1MTFhMGM3ZDc0YTk2ZDkyZDgzN2Y5NmZkY2Q3OGU5YTczODU3MzdlOWRkY2QwNWFiN2U4MjZhZjk4MjVkY2QzZjVkYzIxNzBhZWIyYWY2In0.eyJhdWQiOiIxIiwianRpIjoiMTUxMWEwYzdkNzRhOTZkOTJkODM3Zjk2ZmRjZDc4ZTlhNzM4NTczN2U5ZGRjZDA1YWI3ZTgyNmFmOTgyNWRjZDNmNWRjMjE3MGFlYjJhZjYiLCJpYXQiOjE3MjY2NjY2NDMsIm5iZiI6MTcyNjY2NjY0MywiZXhwIjoxNzU4MjAyNjQzLCJzdWIiOiIyIiwic2NvcGVzIjpbXX0.vNxpiHI20RUoLDnCNX7cnqAkqWmJVvIJ0EodK84cDeOQHkWyT2EAA9pedLS-VYIE-sEP8mlD_tALm7AaGGx26_wUQPXW-YfKSkqEX8HLhy031egN-ZFKzuW4jDibOsUIl6kNEPAK000trTFqPlUQFxb5nzkrNH4-mCb_GWKx6ZranGnRtYxsLe2nKdSig3K6hwuqB4CfXGgCCupGMOvlW_f9KuDKnK-XWBioN8HMk22ad4ppbheHNe-yvakbnFc3mslco12eC9yZJfXJzfra9Ooa5UpfEV5wqt12GsdU64S8TIJEId8QpoeJnXMAgIGIafRRCAsMFYrqLFHdC8N8BaNUyylqAoQwgSNFXUTVWG7A5NwtKdv7en_6EndiNggvavM0h5j9WsPWyNxqWslEfDo85NMZmWnIGf6gPygDqtgBeEu0nRt4vXEnC-rTCey4e7fT5p9NnQkwUFwAEOhUe7D76LjI_oCPjfPZjJtkadaB_JGgki3n7r9CmX1NLutlTw2Eg0nvnXMLMH5wXH0xJeTfj--WVGuCKK6IdrHRHBOb8Lc2k92HAi49wZ5xCPE6mKpaEdJoEh2oylVjcrTfIQZMUDDe31o15QtLS3pBJ0mYc_XrCL1nyA13vfuE5KIbOa_qMlnejYDXoFlFqNION6Q7kTQ6bJMX3m5a3pe6PCc",REACT_APP_BASE_URL:"https://interoperabilidade.sisd.org.mz"}).REACT_APP_GAID||"UA-115105611-2");var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=function(e){N.a.set(Object(y.a)({page:e},t)),N.a.pageview(e)},o=Object({NODE_ENV:"production",PUBLIC_URL:"./intero",REACT_APP_BASE_TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjE1MTFhMGM3ZDc0YTk2ZDkyZDgzN2Y5NmZkY2Q3OGU5YTczODU3MzdlOWRkY2QwNWFiN2U4MjZhZjk4MjVkY2QzZjVkYzIxNzBhZWIyYWY2In0.eyJhdWQiOiIxIiwianRpIjoiMTUxMWEwYzdkNzRhOTZkOTJkODM3Zjk2ZmRjZDc4ZTlhNzM4NTczN2U5ZGRjZDA1YWI3ZTgyNmFmOTgyNWRjZDNmNWRjMjE3MGFlYjJhZjYiLCJpYXQiOjE3MjY2NjY2NDMsIm5iZiI6MTcyNjY2NjY0MywiZXhwIjoxNzU4MjAyNjQzLCJzdWIiOiIyIiwic2NvcGVzIjpbXX0.vNxpiHI20RUoLDnCNX7cnqAkqWmJVvIJ0EodK84cDeOQHkWyT2EAA9pedLS-VYIE-sEP8mlD_tALm7AaGGx26_wUQPXW-YfKSkqEX8HLhy031egN-ZFKzuW4jDibOsUIl6kNEPAK000trTFqPlUQFxb5nzkrNH4-mCb_GWKx6ZranGnRtYxsLe2nKdSig3K6hwuqB4CfXGgCCupGMOvlW_f9KuDKnK-XWBioN8HMk22ad4ppbheHNe-yvakbnFc3mslco12eC9yZJfXJzfra9Ooa5UpfEV5wqt12GsdU64S8TIJEId8QpoeJnXMAgIGIafRRCAsMFYrqLFHdC8N8BaNUyylqAoQwgSNFXUTVWG7A5NwtKdv7en_6EndiNggvavM0h5j9WsPWyNxqWslEfDo85NMZmWnIGf6gPygDqtgBeEu0nRt4vXEnC-rTCey4e7fT5p9NnQkwUFwAEOhUe7D76LjI_oCPjfPZjJtkadaB_JGgki3n7r9CmX1NLutlTw2Eg0nvnXMLMH5wXH0xJeTfj--WVGuCKK6IdrHRHBOb8Lc2k92HAi49wZ5xCPE6mKpaEdJoEh2oylVjcrTfIQZMUDDe31o15QtLS3pBJ0mYc_XrCL1nyA13vfuE5KIbOa_qMlnejYDXoFlFqNION6Q7kTQ6bJMX3m5a3pe6PCc",REACT_APP_BASE_URL:"https://interoperabilidade.sisd.org.mz"}).REACT_APP_BASENAME||"";return function(t){function n(){return Object(h.a)(this,n),w(this,n,arguments)}return Object(v.a)(n,t),Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname+this.props.location.search;a("".concat(o).concat(e))}},{key:"componentDidUpdate",value:function(e){var t=e.location.pathname+e.location.search,n=this.props.location.pathname+this.props.location.search;t!==n&&a("".concat(o).concat(n))}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}])}(n.Component)},O=(a(380),a(382),Object(n.createContext)()),x=Object(n.createContext)(),S=a(64),D=a.n(S),C=function(e){var t=e.children,a=e.allowedRoles,o=Object(n.useContext)(x).auth,i=Object(p.useLocation)(),l=window.location.toString().includes("mfl");return o&&a&&o.roles.find(function(e){return a.includes(e)})||o&&!a||l?t:o&&o.user?r.a.createElement(p.Redirect,{to:"/unauthorized",state:{from:i},replace:!0}):r.a.createElement(p.Redirect,{to:"/login",state:{from:i},replace:!0})},k=a(873),L=a(2),_=(a(472),a(313)),P=a.n(_),T=function(e){var t=e.module,a=Object(p.useHistory)();return r.a.createElement(L.c,{className:"module-card",style:{maxWidth:"250px",height:"auto",margin:"5px",padding:"0px"}},r.a.createElement("div",{className:"info-btn"},r.a.createElement("i",{className:"material-icons"},"info")),r.a.createElement("div",{onClick:function(){a.push("/".concat(t.route))},className:"module-card__onFocus-wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement("span",{className:"text-center onHover-title mb-4"},r.a.createElement("strong",null,t.displayName)),r.a.createElement("span",{className:"module-desc text-muted"},t.description))),r.a.createElement(L.g,{style:{borderRadius:"0.625rem 0.625rem 0  0 ",margin:"7px"},src:P.a}),r.a.createElement("div",{style:{marginBottom:"15px"}},r.a.createElement(L.f,{className:"text-center card__header"},t.displayName)),r.a.createElement(L.d,{className:"card__body pb-1"}))},I=[{shortName:"Covid-19",displayName:"Monitoria da Emiss\xe3o dos Certificado de Vacina\xe7\xe3o contra Covid-19",description:"Emiss\xe3o dos Certificado de Vacina\xe7\xe3o contra Covid-19",icon:"coronavirus",necessaryRole:"monitoring_covid",route:"covid",bgColor:"#7ebbe4"},{shortName:"SIRCEV",displayName:"M\xf3dulo Hospitalar (MISAU) e SIRCEV",description:"Emiss\xe3o dos Certificado de Vacina\xe7\xe3o contra Covid-19",icon:"sick",necessaryRole:"monitoring_sircev",route:"sircev",bgColor:"#ea5b92"},{shortName:"CMAM",displayName:"Interoperabilidade entre o SIS-MA e Ferramenta Central da CMAM",description:"Emiss\xe3o dos Certificado de Vacina\xe7\xe3o contra Covid-19",icon:"vaccines",necessaryRole:"monitoring_cmam",route:"cmam",bgColor:"#19bb9d"},{shortName:"UMM",displayName:"M\xf3dulo de Gest\xe3o de Utilizadores",description:"Emiss\xe3o dos Certificado de Vacina\xe7\xe3o contra Covid-19",icon:"people",necessaryRole:"monitoring_umm",route:"umm",bgColor:"#fa8035"},{shortName:"MFL - External",displayName:"Portal P\xfablico para o acesso \xe1 Lista Mestre das Unidades Sanit\xe1rias",description:"Emiss\xe3o dos Certificado de Vacina\xe7\xe3o contra Covid-19",icon:"location_city",necessaryRole:"mfl_external",route:"mfl",bgColor:"#fa8035"},{shortName:"MFL - Internal",displayName:"Gest\xe3o das Unidades Sanit\xe1rias do Sistema Nacional de Sa\xfade",description:"Emiss\xe3o dos Certificado de Vacina\xe7\xe3o contra Covid-19",icon:"domain",necessaryRole:"mfl_internal",route:"mfl-internal",bgColor:"#364971"},{shortName:"SUS",displayName:"M\xf3dulo de  Monitoria de Sicncroniza\xe7\xe3o de Unidades Sanit\xe1rias",description:"M\xf3dulo de Monitoria de Sincroniza\xe7\xe3o de Unidades Sanit\xe1rias",icon:"domain",necessaryRole:"monitoring_sircev",route:"sus",bgColor:"#ea9b92"},{shortName:"eIMD-VBG",displayName:"Instrumento Electr\xf3nico de Medi\xe7\xe3o de Desempenho de Servi\xe7os de Cuidados P\xf3s Viol\xeancia Baseada no G\xe9nero ",description:"Instrumento Electr\xf3nico de Medi\xe7\xe3o de Desempenho de Servi\xe7os de Cuidados P\xf3s Viol\xeancia Baseada no G\xe9nero ",icon:"domain",necessaryRole:"monitoring_sircev",route:"imd-vbg",bgColor:"#D39D4F"},{shortName:"SIIMM",displayName:"Sistema Integrado de Armazenamento de Informa\xe7\xe3o de dados da Mal\xe1ria",description:"Sistema Integrado de Armazenamento de Informa\xe7\xe3o de dados da Mal\xe1ria",icon:"domain",necessaryRole:"monitoring_sircev",route:"siim",bgColor:"#ea9b92"}],A=a(223),U=a.n(A),F=function(){var e=Object(n.useContext)(x).auth,t=Object(k.a)().t;return r.a.createElement(L.k,{fluid:!0,className:"main-content-container"},r.a.createElement("div",{className:"w-100 mt-5"},r.a.createElement("div",{className:"text-center col-lg-12"},r.a.createElement("p",{className:"h4 mb-3  "},t("ukwaba_welcome")),r.a.createElement("span",{className:"h5"}," ",t("seleccionar_modulo"))),r.a.createElement(L.G,{className:"w-100 mt-5 mx-4 d-flex justify-content-center"},I.map(function(t,a){return e&&e.roles.includes(t.necessaryRole)&&r.a.createElement(T,{module:t})}))))},z=function(){return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},"Documentation")},R=a(43),G=a(6),M=a(41),H=a.n(M),B=a(315);function q(){q=function(){return t};var e,t={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function m(e,t,a,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),l=new L(n||[]);return r(i,"_invoke",{value:S(e,a,l)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",g={};function b(){}function E(){}function v(){}var y={};s(y,i,function(){return this});var N=Object.getPrototypeOf,w=N&&N(N(_([])));w&&w!==a&&n.call(w,i)&&(y=w);var j=v.prototype=b.prototype=Object.create(y);function O(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){a("next",e,i,l)},function(e){a("throw",e,i,l)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return a("throw",e,i,l)})}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t(function(t,r){a(e,n,t,r)})}return o=o?o.then(r,r):r()}})}function S(t,a,n){var r=d;return function(o,i){if(r===p)throw Error("Generator is already running");if(r===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=D(l,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=u(t,a,n);if("normal"===s.type){if(r=n.done?h:f,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}function D(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,D(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=u(r,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,g;var i=o.arg;return i?i.done?(a[t.resultName]=i.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,g):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(t){if(t||""===t){var a=t[i];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return E.prototype=v,r(j,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:E,configurable:!0}),E.displayName=s(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},O(x.prototype),s(x.prototype,l,function(){return this}),t.AsyncIterator=x,t.async=function(e,a,n,r,o){void 0===o&&(o=Promise);var i=new x(m(e,a,n,r),o);return t.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},O(j),s(j,c,"Generator"),s(j,i,function(){return this}),s(j,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return l.type="throw",l.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),k(a),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;k(a)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:_(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}var W="https://interoperabilidade.sisd.org.mz",Y="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjE1MTFhMGM3ZDc0YTk2ZDkyZDgzN2Y5NmZkY2Q3OGU5YTczODU3MzdlOWRkY2QwNWFiN2U4MjZhZjk4MjVkY2QzZjVkYzIxNzBhZWIyYWY2In0.eyJhdWQiOiIxIiwianRpIjoiMTUxMWEwYzdkNzRhOTZkOTJkODM3Zjk2ZmRjZDc4ZTlhNzM4NTczN2U5ZGRjZDA1YWI3ZTgyNmFmOTgyNWRjZDNmNWRjMjE3MGFlYjJhZjYiLCJpYXQiOjE3MjY2NjY2NDMsIm5iZiI6MTcyNjY2NjY0MywiZXhwIjoxNzU4MjAyNjQzLCJzdWIiOiIyIiwic2NvcGVzIjpbXX0.vNxpiHI20RUoLDnCNX7cnqAkqWmJVvIJ0EodK84cDeOQHkWyT2EAA9pedLS-VYIE-sEP8mlD_tALm7AaGGx26_wUQPXW-YfKSkqEX8HLhy031egN-ZFKzuW4jDibOsUIl6kNEPAK000trTFqPlUQFxb5nzkrNH4-mCb_GWKx6ZranGnRtYxsLe2nKdSig3K6hwuqB4CfXGgCCupGMOvlW_f9KuDKnK-XWBioN8HMk22ad4ppbheHNe-yvakbnFc3mslco12eC9yZJfXJzfra9Ooa5UpfEV5wqt12GsdU64S8TIJEId8QpoeJnXMAgIGIafRRCAsMFYrqLFHdC8N8BaNUyylqAoQwgSNFXUTVWG7A5NwtKdv7en_6EndiNggvavM0h5j9WsPWyNxqWslEfDo85NMZmWnIGf6gPygDqtgBeEu0nRt4vXEnC-rTCey4e7fT5p9NnQkwUFwAEOhUe7D76LjI_oCPjfPZjJtkadaB_JGgki3n7r9CmX1NLutlTw2Eg0nvnXMLMH5wXH0xJeTfj--WVGuCKK6IdrHRHBOb8Lc2k92HAi49wZ5xCPE6mKpaEdJoEh2oylVjcrTfIQZMUDDe31o15QtLS3pBJ0mYc_XrCL1nyA13vfuE5KIbOa_qMlnejYDXoFlFqNION6Q7kTQ6bJMX3m5a3pe6PCc",V=function(){return{headers:{Accept:"application/json",Authorization:"Bearer ".concat(Y),"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"X-Requested-With","Access-Control-Max-Age":"60"}}},Z=function(e){var t=function(){var e=Object(R.a)(q().mark(function e(){var t,a,n,r,o=arguments;return q().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,a=new Array(t),n=0;n<t;n++)a[n]=o[n];return e.next=3,H.a.get.apply(H.a,a.concat([V()]));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),a=Object(B.a)("".concat(W,"/").concat(e),t),n=a.data,r=a.error;return{data:n,isFetching:!n&&!r,error:r}},J=a(109),X=a(316),K=a.n(X),Q=a(89),$=(a(499),function(){return r.a.createElement("div",null,r.a.createElement(Q.a,{style:{zIndex:1e4},autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,pauseOnHover:!0}))}),ee=function(e){Q.b.success(e,{position:Q.b.POSITION.TOP_RIGHT})},te=function(e){Q.b.error(e,{position:Q.b.POSITION.TOP_RIGHT})},ae=function(e){Q.b.error(e,{position:Q.b.POSITION.BOTTOM_CENTER})},ne=function(e){Q.b.info(e,{position:Q.b.POSITION.TOP_RIGHT})},re=(a(501),a(38)),oe=a(874),ie=a(867),le=a(179),ce=a.n(le),se=a(850),me=a(849),ue=a(868),de=a(858),fe=a(865),pe=a(875);function he(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return ge(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ge(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function be(e){var t=e.servers,a=e.setSelectedServer,r=e.isLoading,o=e.serverLoader,i=n.useState(!1),l=Object(d.a)(i,2),c=l[0],s=l[1],m=n.useRef(null),u=n.useState(),f=Object(d.a)(u,2),p=f[0],h=f[1],g=n.useState([]),b=Object(d.a)(g,2),E=b[0],v=b[1];n.useEffect(function(){if(t.length>0){console.log("first");var e,a=he(t);try{var n=function(){var t=e.value,a=t.name,n=t.url;v(function(e){return[].concat(Object(re.a)(e),[{name:a,url:n}])})};for(a.s();!(e=a.n()).done;)n()}catch(r){a.e(r)}finally{a.f()}h(0)}},[t]);var y=function(e){m.current&&m.current.contains(e.target)||s(!1)};return n.createElement(n.Fragment,null,n.createElement(ie.a,{className:"w-100",variant:"contained",ref:m,"aria-label":"split button"},n.createElement(oe.a,{disabled:r||o,type:"submit",className:"w-100 login100-form-btn",onClick:function(){a(E[p])}},E.length>0?r?"A processar...":E[p].name:"loading"),n.createElement(oe.a,{size:"small",disabled:r||o,"aria-controls":c?"split-button-menu":void 0,"aria-expanded":c?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:function(){s(function(e){return!e})},className:"login100-form-btn-1"},n.createElement(ce.a,null))),n.createElement(de.a,{open:c,anchorEl:m.current,role:void 0,transition:!0,disablePortal:!0},function(e){var t=e.TransitionProps,a=e.placement;return n.createElement(me.a,Object.assign({},t,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),n.createElement(ue.a,{style:{zIndex:1e3}},n.createElement(se.a,{onClickAway:y},n.createElement(pe.a,{id:"split-button-menu",autoFocusItem:!0},E.map(function(e,t){return n.createElement(fe.a,{key:e,selected:t===p,onClick:function(e){return function(e,t){h(t),s(!1)}(0,t)}},e.name)})))))}))}a(508);var Ee=a(322),ve=a.n(Ee),ye=function(){return r.a.createElement("div",{className:"error-page"},r.a.createElement("div",null,r.a.createElement("h4",{className:"mb-4"},"Ocorreu um ",r.a.createElement("span",null,"erro")," inesperado"),r.a.createElement("h6",null,"A p\xe1gina que tentou acessar n\xe3o foi encontrada. Contacte-nos"),r.a.createElement("h6",{className:"mb-4"},"ou recarregue a p\xe1gina"),r.a.createElement(L.b,{onClick:function(){return window.location.reload()},outline:!0},"Recarregar a p\xe1gina")),r.a.createElement("img",{src:ve.a,alt:""}))},Ne=a(877),we=a(876),je={position:"fixed",bottom:22,right:22};function Oe(e){var t=e.title,a=e.icon,n=e.action,o=e.hidde,i=e.variant;return r.a.createElement("div",null,r.a.createElement(we.a,{hidden:o,title:t,"aria-label":"edit",onClick:n,variant:i},r.a.createElement(Ne.a,{color:"success",className:"",sx:je},a)))}var xe=a(324),Se=a.n(xe),De=a(323),Ce=a.n(De);function ke(){ke=function(){return t};var e,t={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function m(e,t,a,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),l=new L(n||[]);return r(i,"_invoke",{value:S(e,a,l)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",g={};function b(){}function E(){}function v(){}var y={};s(y,i,function(){return this});var N=Object.getPrototypeOf,w=N&&N(N(_([])));w&&w!==a&&n.call(w,i)&&(y=w);var j=v.prototype=b.prototype=Object.create(y);function O(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){a("next",e,i,l)},function(e){a("throw",e,i,l)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return a("throw",e,i,l)})}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t(function(t,r){a(e,n,t,r)})}return o=o?o.then(r,r):r()}})}function S(t,a,n){var r=d;return function(o,i){if(r===p)throw Error("Generator is already running");if(r===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=D(l,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=u(t,a,n);if("normal"===s.type){if(r=n.done?h:f,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}function D(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,D(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=u(r,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,g;var i=o.arg;return i?i.done?(a[t.resultName]=i.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,g):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(t){if(t||""===t){var a=t[i];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return E.prototype=v,r(j,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:E,configurable:!0}),E.displayName=s(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},O(x.prototype),s(x.prototype,l,function(){return this}),t.AsyncIterator=x,t.async=function(e,a,n,r,o){void 0===o&&(o=Promise);var i=new x(m(e,a,n,r),o);return t.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},O(j),s(j,c,"Generator"),s(j,i,function(){return this}),s(j,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return l.type="throw",l.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),k(a),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;k(a)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:_(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function Le(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return _e(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_e(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var Pe=function(){var e=Object(k.a)().t,t=Object(n.useContext)(x),a=t.setAuth,o=t.auth,i=Object(n.useContext)(O).module,l=Object(n.useState)({}),c=Object(d.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(null),f=Object(d.a)(u,2),h=f[0],g=f[1],b=Object(p.useHistory)(),E=Object(n.useState)(null),v=Object(d.a)(E,2),N=v[0],w=v[1],j=Object(n.useState)("password"),S=Object(d.a)(j,2),C=S[0],_=S[1],P=Object(n.useState)(!1),T=Object(d.a)(P,2),I=T[0],A=T[1],F=Z("api/servers"),z=F.data,M=F.isFetching,B=F.error;console.log(z);var q=[{placeholder:e("username"),type:"text",name:"username",errorHelper:"Username is required",id:"username_id"},{placeholder:e("password"),type:C,name:"password",errorHelper:"Password is required",id:"password_id"}];o&&i?b.push("/".concat(i.route,"/home")):o&&b.push("/home");var Y=function(){var e=Object(R.a)(ke().mark(function e(t){var n;return ke().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),A(!0),n={method:"get",url:"".concat(W,"/api/monitoring/auth/user"),headers:{SERVERURL:N.url,ENTRYPOINT:Object(J.a)(s.username,s.password)}},H()(n).then(function(e){var t,n=e.data.access_token,r=[],o=Le(e.data.userDetails.roles);try{for(o.s();!(t=o.n()).done;){var i=t.value;r.push(i.name)}}catch(h){o.e(h)}finally{o.f()}console.log(e),a({user:s,token:n,roles:r});var l=s.username,c=e.data.userDetails.userId;D.a.set("user",JSON.stringify({username:l,roles:r,selectedServer:N,userId:c}),{expires:7}),m({}),b.push("/home"),A(!1)}).catch(function(e){g(e.response.statusText),A(!1),ae("Dados de acesso incorrectos!")});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return B?r.a.createElement(ye,null):r.a.createElement(L.G,{className:"w-100 d-flex justify-content-center align-items-center m-0 p-0",style:{height:"100vh"}},r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4 pb-4 col-md-6 col-lg-5 col-xl-3"},r.a.createElement(Oe,{title:e("mfl_access"),icon:r.a.createElement("span",{className:"text-capitalize fw-bold"},r.a.createElement(Se.a,null),e("mfl_access")),action:function(){return b.push("/mfl/mfl-home")},variant:"extended"}),r.a.createElement("div",{className:"limiter p-3 rounded"},r.a.createElement("div",{className:"container-login100"},r.a.createElement(L.q,{onSubmit:Y,className:"login100-form validate-form flex-sb flex-w"},r.a.createElement("div",{className:"text-center col-lg-12"},r.a.createElement("img",{className:"mb-1",src:K.a,alt:"SIVE",height:"120"}),r.a.createElement("p",{className:"mb-3"},"Minist\xe9rio da Sa\xfade"),r.a.createElement("p",{className:"h6 mb-3 font-weight-bold "},"Plataforma de Interoperabilidade"),r.a.createElement("p",{className:"mb-3"},"Introduza os seus dados de acesso para continuar!")),q.map(function(e,t){return r.a.createElement("div",{className:"wrap-input100 validate-input d-flex m-b-16","data-validate":e.errorHelper,type:e.type},r.a.createElement("input",{className:"input100",name:e.name,key:t,required:!0,onChange:function(e){return function(e){var t=e.target,a=t.name,n=t.value;m(Object(y.a)({},s,Object(G.a)({},a,n)))}(e)},placeholder:e.placeholder,type:e.type}),r.a.createElement("span",{className:"focus-input100"}),"Password"===e.placeholder&&r.a.createElement("div",{className:"password-toggle pr-2 h-100 d-flex justify-content-center align-items-center"},r.a.createElement("i",{onClick:function(){_("password"===C?"text":"password")},class:"material-icons"},"password"===C?"visibility":"visibility_off")))}),r.a.createElement("div",{className:"container-login100-form-btn m-t-17"},r.a.createElement(be,{serverLoader:M,isLoading:I,setSelectedServer:w,servers:z&&z.servers||[],className:"w-100"}),h?r.a.createElement($,null):null),r.a.createElement("div",{className:"text-center col-lg-12 mt-2"},r.a.createElement("p",null,e("copyright_desenvolvido_por")),r.a.createElement("p",{className:"mt-3"},"Powered by")),r.a.createElement("div",{className:"text-center col-lg-12 mt-2"},r.a.createElement("img",{className:"mb-3",src:Ce.a,alt:"SIVE",height:"30"}),r.a.createElement("img",{className:"mb-3 p-l-20",src:U.a,alt:"SIVE",height:"60"}))))),r.a.createElement("div",{id:"dropDownSelect1"})))},Te=a(325),Ie=a.n(Te),Ae=(a(510),function(){var e=Object(p.useHistory)(),t=Object(n.useContext)(x),a=t.setAuth,o=t.auth;console.log(o);return r.a.createElement("div",{style:{height:"100vh",flexDirection:"column"},className:"w-100 d-flex justify-content-center align-items-center"},r.a.createElement("img",{className:"mb-3",src:Ie.a,alt:"SIVE",height:"120"}),r.a.createElement("h5",{className:"text-center text-muted mb-4"},r.a.createElement("span",{style:{color:"#c4183c"}}," N\xc3O EST\xc1 AUTORIZADO A ACEDER A ESTA P\xc1GINA!")),r.a.createElement("h5",{className:"text-center text-muted mb-4"},"Por favor contacto a equipa de Admnistra\xe7\xe3o do SISMA para a actuaiza\xe7\xe3o do seu Perfil!"),r.a.createElement(L.b,{className:"btn-lg",onClick:function(){return e.goBack(),void(o.user&&0===o.roles.length&&(D.a.remove("user"),a(null)))}},"Voltar"))}),Ue=a(9),Fe=a.n(Ue),ze=a(852),Re=function(){var e=Object(p.useParams)().module,t=Object(k.a)().t,a=Object(ze.a)("(max-width: 550px)");return r.a.createElement(L.k,null,r.a.createElement(L.i,null,!a&&r.a.createElement("h5",{style:{width:500}},e&&I.filter(function(t){return t.route===e})[0].displayName||t("pagina-inicial"))))},Ge=a(879),Me=a(878),He=a(881),Be=a(863),qe=(a(512),{en:{label:r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("span",{class:"flag-icon flag-icon-usa mr-2"})," ",r.a.createElement("span",null,"en")),dir:"ltr",active:!0,lng:"en"},pt:{label:r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("span",{class:"flag-icon flag-icon-prt mr-2"})," ",r.a.createElement("span",null,"pt")),dir:"ltr",active:!1,lng:"pt"}}),We=function(){var e=localStorage.getItem("i18nextLng")||"en",t=Object(k.a)().t,a=r.a.useState(null),n=Object(d.a)(a,2),o=n[0],i=n[1];return r.a.useEffect(function(){document.body.dir=qe[e].dir},[o,e]),console.log(qe),r.a.createElement("div",{className:"d-flex justify-content-end align-items-center language-select-root"},r.a.createElement(oe.a,{style:{color:"black",textTransform:"capitalize"},onClick:function(e){var t=e.currentTarget;return i(t)}},qe[e].label,r.a.createElement(ce.a,{fontSize:"small"})),r.a.createElement(Ge.b,{open:!!o,anchorEl:o,onClose:function(){return i(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement("div",null,r.a.createElement(Me.a,null,r.a.createElement(He.a,null,t("select_language")),Object.keys(qe).map(function(e){return r.a.createElement(Be.a,{button:!0,key:e,onClick:function(){console.log(e),l.a.changeLanguage(e),i(null)}},qe[e].label)})))))},Ye=function(){return r.a.createElement(L.C,{className:"border-right dropdown notifications"},r.a.createElement(L.D,{className:"nav-link-icon text-center"},r.a.createElement(We,null)))},Ve=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],o=t[1],i=Object(p.useHistory)(),l=Object(n.useContext)(x).auth;return r.a.createElement(L.C,{className:"border-right dropdown notifications"},r.a.createElement(L.D,{className:"nav-link-icon text-center",onClick:function(){o(!a)}},r.a.createElement("div",{className:"nav-link-icon__wrapper"},r.a.createElement("i",{className:"material-icons"},"apps"))),r.a.createElement(L.j,{open:a,className:"dropdown-menu dropdown-menu-small"},r.a.createElement(L.G,{className:"p-4"},I.map(function(e,t){return l&&l.roles.includes(e.necessaryRole)&&r.a.createElement(L.n,{key:t,className:"col-lg-6",onClick:function(){return function(e){i.push("/".concat(e.route,"/").concat(e.route,"-home"))}(e)}},r.a.createElement(L.c,{className:"text-center"},r.a.createElement("div",{className:"notification__icon-wrapper m-2"},r.a.createElement("div",{className:"notification__icon"},r.a.createElement("i",{className:"material-icons"},e.icon))),r.a.createElement("div",{className:"notification__content tex-center mb-2"},r.a.createElement("h5",null,e.shortName),r.a.createElement("p",null,e.displayName))))}))))};function Ze(e,t,a){return t=Object(E.a)(t),Object(b.a)(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,a||[],Object(E.a)(e).constructor):t.apply(e,a))}var Je=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Ze(this,t,[e])).state={visible:!1},a.toggleNotifications=a.toggleNotifications.bind(a),a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"toggleNotifications",value:function(){this.setState({visible:!this.state.visible})}},{key:"render",value:function(){return r.a.createElement(L.C,{className:"border-right dropdown notifications"},r.a.createElement(L.D,{className:"nav-link-icon text-center",onClick:this.toggleNotifications},r.a.createElement("div",{className:"nav-link-icon__wrapper"},r.a.createElement("i",{className:"material-icons"},"\ue7f4"),r.a.createElement(L.a,{pill:!0,theme:"danger"}))),r.a.createElement(L.j,{open:this.state.visible,className:"dropdown-menu dropdown-menu-small"},r.a.createElement(L.n,{className:"notification__all text-center"},"N\xe3o tem novas notifica\xe7\xf5es")))}}])}(r.a.Component),Xe=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),o=t[0],i=t[1],l=Object(n.useContext)(x),c=l.auth,s=l.setAuth,m=Object(p.useHistory)(),u=Object(k.a)().t;return r.a.createElement(r.a.Fragment,null,c?r.a.createElement(L.C,{tag:L.m,caret:!0,toggle:function(){i(!o)}},r.a.createElement(L.p,{caret:!0,tag:L.D,className:"text-nowrap px-3"},r.a.createElement("img",{className:"user-avatar rounded-circle mr-2",src:a(514),alt:c&&c.username})," ",r.a.createElement("span",{className:"d-none d-md-inline-block"},c&&c.username)),r.a.createElement(L.j,{tag:L.o,right:!0,small:!0,open:o},r.a.createElement(L.n,{tag:f.b,to:"user-profile"},r.a.createElement("i",{className:"material-icons"},"\ue7fd"),u("perfil")),r.a.createElement(L.n,{divider:!0}),r.a.createElement(L.n,{onClick:function(){return D.a.remove("user"),void s(null)},tag:f.b,to:"/login",className:"text-danger"},r.a.createElement("i",{className:"material-icons text-danger"},"\ue879"),u("terminar_sessao")))):r.a.createElement("div",{className:"d-flex align-items-center px-2"},r.a.createElement(L.b,{theme:"light",active:!0,style:{width:90},onClick:function(){return m.push("/login")},className:"text-primary"},r.a.createElement("i",{className:"material-icons mr-2 text-primary"},"vpn_key"),"Login")))},Ke=function(e){var t=e.isHomeLayout,a=e.isAuth;return r.a.createElement(L.B,{navbar:!0,className:"border-left flex-row"},r.a.createElement(Ye,null),!t&&a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Je,null),r.a.createElement(Ve,null)),r.a.createElement(Xe,null))},Qe="TOGGLE_SIDEBAR",$e=new(a(326).Dispatcher);function et(e,t,a){return t=Object(E.a)(t),Object(b.a)(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,a||[],Object(E.a)(e).constructor):t.apply(e,a))}var tt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=et(this,t,[e])).handleClick=a.handleClick.bind(a),a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"handleClick",value:function(){$e.dispatch({actionType:Qe})}},{key:"render",value:function(){return r.a.createElement("nav",{className:"nav"},r.a.createElement("a",{href:"#",onClick:this.handleClick,className:"nav-link nav-link-icon toggle-sidebar d-sm-inline d-md-inline d-lg-none"},r.a.createElement("i",{className:"material-icons"},"\ue5d2")))}}])}(r.a.Component),at=a(155),nt=a.n(at),rt=function(e){var t=e.stickyTop,a=e.isHomeLayout,o=Object(n.useContext)(x).auth,i=Object(ze.a)("(max-width: 550px)"),l=Object(ze.a)("(max-width: 920px)"),c=Object(ze.a)("(min-width: 1077px)"),s=Fe()("main-navbar","bg-white",t&&"sticky-top");return r.a.createElement("div",{className:s},r.a.createElement(L.k,{className:"p-0"},r.a.createElement(L.E,{type:"navbar-dark",className:l?nt.a.navMediaQuery900:i?nt.a.navMediaQuery550:nt.a.nav},r.a.createElement("div",null,c&&r.a.createElement(Re,null)),r.a.createElement("div",{className:nt.a.Navbar},r.a.createElement(Ke,{isHomeLayout:a,isAuth:o}),r.a.createElement(tt,null)))))};rt.defaultProps={stickyTop:!0};var ot=rt,it=a(327);function lt(e,t,a){return t=Object(E.a)(t),Object(b.a)(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,a||[],Object(E.a)(e).constructor):t.apply(e,a))}var ct=function(e){function t(e){var a;return Object(h.a)(this,t),(a=lt(this,t,[e])).handleToggleSidebar=a.handleToggleSidebar.bind(a),a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"handleToggleSidebar",value:function(){$e.dispatch({actionType:Qe})}},{key:"render",value:function(){var e=this.props.hideLogoText;return r.a.createElement("div",{className:"main-navbar"},r.a.createElement(L.E,{className:"align-items-stretch bg-white flex-md-nowrap border-bottom p-0",type:"light"},r.a.createElement(it.Link,{to:"/home"},r.a.createElement(L.F,{className:"w-100 mr-0",href:"/home",style:{lineHeight:"25px"}},r.a.createElement("div",{className:"d-table m-auto"},r.a.createElement("img",{id:"main-logo",className:"d-inline-block align-top mr-1",style:{maxWidth:"180px"},src:a(518),alt:"Plataforma de Interoperabilidade"}),!e&&r.a.createElement("span",{className:"d-none d-md-inline ml-1"})))),r.a.createElement("a",{className:"toggle-sidebar d-sm-inline d-md-none d-lg-none",onClick:this.handleToggleSidebar},r.a.createElement("i",{className:"material-icons"},"\ue5c4"))))}}])}(r.a.Component);ct.defaultProps={hideLogoText:!1};var st=ct,mt=function(){return r.a.createElement(L.q,{className:"main-sidebar__search w-100 border-right d-sm-flex d-md-none d-lg-none",style:{display:"flex",minHeight:"45px"}},r.a.createElement(L.w,{seamless:!0,className:"ml-3"},r.a.createElement(L.x,{type:"prepend"},r.a.createElement(L.y,null,r.a.createElement("i",{className:"material-icons"},"search")),r.a.createElement(L.t,{className:"navbar-search",placeholder:"Search for something...","aria-label":"Search"}))))},ut=function(e){var t=e.item,a=e.marginTop;return r.a.createElement(L.C,{className:"".concat(a)},r.a.createElement(L.D,{tag:f.c,to:t.to},t.htmlBefore&&r.a.createElement("div",{className:"d-inline-block item-icon-wrapper",dangerouslySetInnerHTML:{__html:t.htmlBefore}}),t.title&&r.a.createElement("span",null,t.title),t.htmlAfter&&r.a.createElement("div",{className:"d-inline-block item-icon-wrapper",dangerouslySetInnerHTML:{__html:t.htmlAfter}})))},dt=a(328),ft=a.n(dt),pt=function(){var e=Object(k.a)().t,t=Object(n.useContext)(x).auth,a=Object(p.useParams)().module,o=Object(p.useHistory)();return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement(L.B,{className:"nav--no-borders flex-column",style:{height:"95%"}},function(){switch(a){case"covid":return[{title:e("pagina_inicial"),to:"/covid/covid-home",htmlBefore:'<i class="material-icons">dashboard</i>'},{title:e("local"),htmlBefore:'<i class="material-icons">place</i>',to:"/covid/report-site"},{title:e("utilizadores"),htmlBefore:'<i class="material-icons">people_alt</i>',to:"/covid/report-user"},{title:e("historico"),htmlBefore:'<i class="material-icons">format_list_bulleted</i>',to:"/covid/covid-linelist"}];case"cmam":return[{title:e("historico"),htmlBefore:'<i class="material-icons">format_list_bulleted</i>',to:"/cmam/cmam-home"},{title:e("prod_pagina"),htmlBefore:'<i class="material-icons">bubble_chart</i>',to:"/cmam/product"},{title:e("us"),htmlBefore:'<i class="material-icons">business</i>',to:"/cmam/orgunit"},{title:e("config_pagina"),htmlBefore:'<i class="material-icons">settings</i>',to:"/cmam/settings"}];case"sircev":return[{title:e("pagina_inicial"),to:"/sircev/sircev-home",htmlBefore:'<i class="material-icons">dashboard</i>'},{title:e("historico"),htmlBefore:'<i class="material-icons">format_list_bulleted</i>',to:"/sircev/sircev-linelist"}];case"umm":return[{title:"Dashboard",to:"/umm/umm-home",htmlBefore:'<i class="material-icons">dashboard</i>'},{title:"Users",to:"/umm/umm-linelist",htmlBefore:'<i class="material-icons">people</i>'}];case"mfl":return[{title:"Dashboard",to:"/mfl/mfl-home",htmlBefore:'<i class="material-icons">dashboard</i>'},{title:e("us"),to:"/mfl/orgunits",htmlBefore:'<i class="material-icons">business</i>'}].concat(Object(re.a)(t?[{title:e("api-doc"),to:"/mfl/api-documentation",htmlBefore:'<i class="material-icons">local_library</i>'}]:[]),[{title:e("historico"),htmlBefore:'<i class="material-icons">format_list_bulleted</i>',to:"/mfl/mfl-history"}]);case"mfl-internal":return[{title:"Lista Mestre de USs",to:"/mfl-internal/mfl-internal-home",htmlBefore:'<i class="material-icons">location_city</i>'},{title:"Hist\xf3rico Linear",to:"/mfl-internal/linelist",htmlBefore:'<i class="material-icons">format_list_bulleted</i>'},{title:"Sugest\xf5es",to:"/mfl-internal/suggestions",htmlBefore:'<i class="material-icons">local_library</i>'}];case"sus":return[{title:"Inicio",to:"/sus/sus-home",htmlBefore:'<i class="material-icons">dashboard</i>'},{title:"Hist\xf3rico Linear",to:"/sus/sus-linelist",htmlBefore:'<i class="material-icons">format_list_bulleted</i>'},{title:e("config_pagina"),htmlBefore:'<i class="material-icons">settings</i>',to:"/sus/sus-settings"}];case"imd-vbg":return[{title:"Inicio",to:"/imd-vbg/imd-home",htmlBefore:'<i class="material-icons">dashboard</i>'}];case"siim":return[{title:"Inicio",to:"/siim/siim-home",htmlBefore:'<i class="material-icons">dashboard</i>'}];default:return[{title:e("modulo"),to:"/home",htmlBefore:'<i class="material-icons">apps</i>'},{title:e("doc"),to:"/documentation",htmlBefore:'<i class="material-icons">local_library</i>'}]}}().map(function(e,t){return r.a.createElement(ut,{key:t,item:e})}),"mfl"===a&&t&&r.a.createElement("div",{className:"my-auto px-3 w-100 h-auto"},r.a.createElement("div",{className:"mfl__external--suggest text-center"},r.a.createElement("span",{className:"mfl__external--suggest-title"},e("nova-sugestao"),r.a.createElement(ft.a,{style:{color:"#ffb400"}})),r.a.createElement("div",{className:"mt-3 w-100"},r.a.createElement(L.b,{onClick:function(){return o.push("/mfl/suggestion/creation-suggestion")},className:"mb-2 w-100"},e("criacao")),r.a.createElement("br",null),r.a.createElement(L.b,{onClick:function(){return o.push("/mfl/suggestion/update-suggestion")},className:"w-100"},e("actualizacao"))))),a&&t&&r.a.createElement(ut,{marginTop:"mt-auto",item:{title:e("pagina-inicial"),to:"/home",htmlBefore:'<i class="material-icons">home</i>'}})))},ht=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,1)[0],o=Fe()("main-sidebar","px-0","col-12",a&&"open");return r.a.createElement(L.i,{tag:"aside",className:o,lg:{size:2},md:{size:3}},r.a.createElement(st,null),r.a.createElement(mt,null),r.a.createElement(pt,null),r.a.createElement("span",null,"Ola"))},gt=function(e){var t=e.contained,a=e.menuItems,n=e.copyright;return r.a.createElement("footer",{className:"main-footer d-flex p-2 px-3 bg-white border-top"},r.a.createElement(L.k,{fluid:t},r.a.createElement(L.G,null,r.a.createElement(L.B,null,a.map(function(e,t){return r.a.createElement(L.C,{key:t},r.a.createElement(L.D,{tag:f.b,to:e.to},e.title))})),r.a.createElement("span",{className:"copyright ml-auto my-auto mr-2"},n))))};gt.defaultProps={contained:!1,copyright:"Copyright \xa9 2023 MISAU - Developed by Saudigitus",menuItems:[{title:"SISMA Prod",to:"#"},{title:"HOSP",to:"#"},{title:"SIVE",to:"#"},{title:"MFL",to:"#"},{title:"Portal do Utente",to:"#"}]};var bt=gt,Et=function(e){var t=e.children,a=e.noNavbar,n=e.noFooter,o=e.isHomeLayout;return r.a.createElement(L.k,{fluid:!0},r.a.createElement(L.G,null,r.a.createElement(ht,null),r.a.createElement(L.i,{className:"main-content p-0",lg:{size:10,offset:2},md:{size:9,offset:3},sm:"12",tag:"main"},!a&&r.a.createElement(ot,{isHomeLayout:o}),t,!n&&r.a.createElement(bt,null))))};Et.defaultProps={noNavbar:!1,noFooter:!1};var vt=Et,yt=a(52),Nt=function(e){var t=e.title,a=e.subtitle,n=e.className,o=Object(yt.a)(e,["title","subtitle","className"]),i=Fe()(n,"text-center","text-md-left","mb-sm-0");return r.a.createElement(L.i,Object.assign({xl:"10",sm:"4",className:i},o),r.a.createElement("span",{className:"text-uppercase page-subtitle"},a),r.a.createElement("h3",{style:{fontSize:"18px",marginBottom:"5px",fontWeight:"500"},className:"page-title"},t))},wt=a(884),jt=a(885),Ot=a(860),xt=function(e){var t=e.totalPages,a=e.setCurrentPage,r=e.currentPage,o=e.rowsPerPage,i=e.setRowsPerPage;return n.createElement(Ot.a,{style:{margin:0},component:"div",count:t.pager&&t.pager.total||0,page:r,onPageChange:function(e,t){a(t)},rowsPerPage:o,onRowsPerPageChange:function(e){i("All"===e.target.value?t.pager.total:e.target.value),a(0)},rowsPerPageOptions:[5,10,15,20,30,50,100,"All"]})},St=(a(208),a(854)),Dt=a(855),Ct=a(856),kt=a(869);var Lt=function(e){var t=e.open,a=e.setOpen,n=e.data,o=e.component,i=e.id,l=null,c=[];return"Details"==o&&(l=Z("/api/mfl/syncs/".concat(i))),l&&l.data&&c.push(l.data[0].date,l.data[0].serverName,l.data[0].serverUrl,l.data[0].created||0,l.data[0].deleted||0,l.data[0].updated||0,l.data[0].ignored||0,l.data[0].status),console.log(c),r.a.createElement(kt.a,{open:t,maxWidth:"lg",onClose:function(){return a(!1)},style:{marginTop:"-20%"}},function(e,t,a){var n=Object(k.a)().t;switch(t){case"Details":return r.a.createElement(L.z,null,r.a.createElement("div",{style:{minWidth:"50vw"}},r.a.createElement("h5",{className:"mb-1"},n("detalhes-gerais")),0==a.length&&r.a.createElement(jt.a,null),r.a.createElement("article",{className:"mb-3"},r.a.createElement("blockquote",null,r.a.createElement("span",null,"Status: "),r.a.createElement("p",{style:{color:"ERROR"==a[7]?"#F44E3F":"#63D471"}},a[7])),r.a.createElement("blockquote",null,r.a.createElement("span",null,n("data"),": "),r.a.createElement("p",null,a[0])),r.a.createElement("blockquote",null,r.a.createElement("span",null,n("servidor"),": "),r.a.createElement("p",null,a[1])),r.a.createElement("blockquote",null,r.a.createElement("span",null,"URL: "),r.a.createElement("p",null,a[2]))),r.a.createElement("h5",{className:"mb-1"},n("import-detalhes")),r.a.createElement(St.a,null),r.a.createElement("article",{className:"mt-2"},r.a.createElement("div",{className:"mt-3"},r.a.createElement(Dt.a,null,r.a.createElement(Ct.a,{xs:6,className:"pr-1"},r.a.createElement("div",{className:"w-100  imported py-2 d-flex justify-content-center align-items-center"},r.a.createElement("div",{className:"import-details"},r.a.createElement("p",null,n("criado")),r.a.createElement("span",null,a[3])))),r.a.createElement(Ct.a,{xs:6,className:"pl-1"},r.a.createElement("div",{className:"w-100  updated py-2 d-flex justify-content-center align-items-center"},r.a.createElement("div",{className:"import-details"},r.a.createElement("p",null,n("actualizados")),r.a.createElement("span",null,a[4]))))),r.a.createElement(Dt.a,{className:"mt-2"},r.a.createElement(Ct.a,{xs:6,className:"pr-1"},r.a.createElement("div",{className:"w-100  ignored py-2 d-flex justify-content-center align-items-center"},r.a.createElement("div",{className:"import-details"},r.a.createElement("p",null,n("ignorados")),r.a.createElement("span",null,a[6])))),r.a.createElement(Ct.a,{xs:6,className:"pl-1"},r.a.createElement("div",{className:"w-100  deleted py-2 d-flex justify-content-center align-items-center"},r.a.createElement("div",{className:"import-details"},r.a.createElement("p",null,n("apagados")),r.a.createElement("span",null,a[5])))))))));case"Default":var o=JSON.parse(e.details);return r.a.createElement(L.z,null,r.a.createElement("h5",{className:"mb-1"},n("detalhes-gerais")),r.a.createElement(St.a,null),r.a.createElement("article",{className:"mb-3 mt-2"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("span",{className:"mr-2"},n("utilizador")),r.a.createElement("p",null,e.username||"---"),r.a.createElement("div",{className:"mx-3"}),r.a.createElement("span",{className:"mr-2"},n("estado")),r.a.createElement("p",{style:{color:"ERROR"===e.status?"red":"WARNING"===e.status&&"orange"}},e.status||"---"),r.a.createElement("div",{className:"mx-3"}),r.a.createElement("span",{className:"mr-2"},n("criado")),r.a.createElement("p",null,e.created_at||"---"))),r.a.createElement("article",{className:"mb-3"},r.a.createElement("blockquote",null,r.a.createElement("span",null,n("periodos"),": "),r.a.createElement("p",null,o.periods)),r.a.createElement("blockquote",null,r.a.createElement("span",null,n("unidades-sanitarias"),": "),r.a.createElement("p",null,o.numOrgUnits)),r.a.createElement("blockquote",null,r.a.createElement("span",null,n("variaveis"),": "),r.a.createElement("p",null,o.numVariables))),r.a.createElement("h5",{className:"mb-1"},n("import-detalhes")),r.a.createElement(St.a,null),r.a.createElement("article",{className:"mt-2"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("span",{className:"mr-2"},n("import-tipo")),r.a.createElement("p",null,e.importType||"---"),r.a.createElement("div",{className:"mx-3"}),r.a.createElement("span",{className:"mr-2"},n("import-data")),r.a.createElement("p",null,e.importDate||"---")),r.a.createElement("div",{className:"mt-3"},r.a.createElement(Dt.a,null,r.a.createElement(Ct.a,{xs:6,className:"pr-1"},r.a.createElement("div",{className:"w-100  imported py-2 d-flex justify-content-center align-items-center"},r.a.createElement("div",{className:"import-details"},r.a.createElement("p",null,n("importados")),r.a.createElement("span",null,e.imported)))),r.a.createElement(Ct.a,{xs:6,className:"pl-1"},r.a.createElement("div",{className:"w-100  updated py-2 d-flex justify-content-center align-items-center"},r.a.createElement("div",{className:"import-details"},r.a.createElement("p",null,n("actualizados")),r.a.createElement("span",null,e.updated))))),r.a.createElement(Dt.a,{className:"mt-2"},r.a.createElement(Ct.a,{xs:6,className:"pr-1"},r.a.createElement("div",{className:"w-100  ignored py-2 d-flex justify-content-center align-items-center"},r.a.createElement("div",{className:"import-details"},r.a.createElement("p",null,n("ignorados")),r.a.createElement("span",null,e.ignored)))),r.a.createElement(Ct.a,{xs:6,className:"pl-1"},r.a.createElement("div",{className:"w-100  deleted py-2 d-flex justify-content-center align-items-center"},r.a.createElement("div",{className:"import-details"},r.a.createElement("p",null,n("deletados")),r.a.createElement("span",null,e.deleted))))))))}}(n,o,c))},_t=function(e){var t=e.syncId,a=e.isFetching,o=e.tableColumns,i=e.tableData,l=e.isRowClickable,c=e.allData,s=e.isRowHover,m=e.fetching,u=void 0!==m&&m,f=e.component,p=void 0===f?"Default":f,h=e.paintRow,g=void 0!==h&&h,b=Object(k.a)().t,E=Object(n.useState)(!1),v=Object(d.a)(E,2),y=v[0],N=v[1],w=Object(n.useState)(null),j=Object(d.a)(w,2),O=j[0],x=j[1],S=function(e){N(!y),x(e)};Object(n.useEffect)(function(){t&&N(!y)},[t]);function D(e){if(g){if("ERROR"==e)return"#ED474A";if("SUCCESS"==e)return"#61D095"}}return r.a.createElement("table",{id:"table-to-xls",className:"table   mb-0"},r.a.createElement("thead",{className:"bg-light"},r.a.createElement("tr",null,o().map(function(e){return r.a.createElement("th",{style:{whiteSpace:"nowrap"},scope:"col",className:"border-0"},b(e))}))),r.a.createElement("tbody",{className:"w-100"},!1===a&&!1===u&&(0===i().length?r.a.createElement("tr",null,r.a.createElement("td",{colspan:o().length,className:"text-center"},r.a.createElement("h4",null,"N\xe3o foram encontrados dados"))):i().map(function(e,a){return r.a.createElement("tr",Object.assign({style:{backgroundColor:D(e[e.length-1]),cursor:"pointer"}},l&&{onClick:function(){return S(a)}},{key:a,className:"---"===e[4]&&"fill__tableRow"}),e.map(function(e,t){var n=null,i=null;return"string"!=typeof e&&(void 0==e.icon?n=0:(n=e.icon,i=e.event)),r.a.createElement("td",{onClick:i||function(){},className:"".concat(s,"-").concat(t),style:{maxWidth:"200px"},"data-label":o()[t]},e?null!=n?n:e:0,s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"show-period_details"},r.a.createElement("span",null,b("periodos")),r.a.createElement("div",{className:"mt-2"},r.a.createElement("span",null,JSON.parse(c[a].details).periods)))))}),y&&r.a.createElement(Lt,{id:t,component:p,data:c[O],open:y,setOpen:S,serverList:o()?o().slice(4):[]}))}))))},Pt=a(329),Tt=a.n(Pt),It=a(94),At=function(e){return e.toLowerCase().replace(/\b./g,function(e){return e.toUpperCase()})};function Ut(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ft(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var zt=function(){var e=window.location.search,t=new URLSearchParams(e),a=Object(k.a)().t,o=Object(p.useHistory)(),i=function(){return{module:t.get("module")?t.get("module"):"",name:t.get("name")?t.get("name"):"",userType:t.get("userType")?t.get("userType"):""}},l=Object(n.useState)(i().module),c=Object(d.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(i().name),h=Object(d.a)(u,2),g=h[0],b=h[1],E=Object(n.useState)(i().userType),v=Object(d.a)(E,2),y=v[0],N=v[1],w=Object(n.useState)(0),j=Object(d.a)(w,2),O=j[0],x=j[1],S=Object(n.useState)(5),D=Object(d.a)(S,2),C=D[0],_=D[1],P=Z("api/users"),T=Z("api/users?page=".concat(O+1,"&pageSize=").concat(C).concat(s?"&module=".concat(s):"").concat(g&&"all"!==g?"&name=".concat(g):"").concat(y&&"all"!==y?"&userType=".concat(y):""));if(P.error||T.error)return r.a.createElement(ye,null);var A=function(){var e,t,a=[];if(T.data){var n,o=Ut(T.data.data);try{for(o.s();!(n=o.n()).done;){var i=n.value;a.push([i.name,i.username,At(i.userType),(e=i.id,t=i.userType,r.a.createElement(r.a.Fragment,null,r.a.createElement(wt.a,{id:"dropdownMenu2","data-bs-toggle":"dropdown","aria-expanded":"false",className:"ml-2"},r.a.createElement("i",{className:"material-icons text-dark",style:{fontSize:15,cursor:"pointer"}},"more_vert")),r.a.createElement(L.j,{className:"dropdown-menu","aria-labelledby":"dropdownMenu2",right:!0,small:!0},r.a.createElement(L.n,{tag:f.b,to:"/umm/user/detail?userType=".concat(t,"&userId=").concat(e),className:"text-secondary"},r.a.createElement("i",{className:"material-icons"},"info_outline")," Detalhes"),("INTERNAL"===t||"Internal"===t)&&r.a.createElement(L.n,{tag:f.b,to:"/home",className:"text-danger"},r.a.createElement("i",{className:"material-icons"},"block")," Bloquear"))))])}}catch(l){o.e(l)}finally{o.f()}}return a};return Object(n.useEffect)(function(){A()},[P.isFetching]),r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(Oe,{title:"Add new user",icon:r.a.createElement(Tt.a,null),action:function(){return o.push("/umm/user/registration")}}),r.a.createElement(L.G,{noGutters:!0,className:"page-header py-4"},r.a.createElement(Nt,{title:"Registered users",className:"text-sm-left"})),r.a.createElement(L.G,{className:"mb-4"},r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0,className:"mb-4"},r.a.createElement(L.f,{className:"border-bottom"},r.a.createElement(L.G,null,r.a.createElement(L.i,{className:"col-lg-3 mb-3 mt-2"},r.a.createElement("h6",{className:"m-0 mb-1"},"Filter by name"),r.a.createElement(L.t,{id:"#name",placeholder:"Name",value:g,onChange:function(e){b(e.target.value)}})),r.a.createElement(L.i,{className:"col-lg-3 mb-3 mt-2"},r.a.createElement("h6",{className:"m-0 mb-1"},"Filter by type"),r.a.createElement(L.u,{className:" mb-2 mr-1",id:"project",value:y,onChange:function(e){N(e.target.value)}},r.a.createElement("option",{value:"all"},"All types"),r.a.createElement("option",{value:"Internal"},"Internal"),It.options.map(function(e){return r.a.createElement("option",{value:"External"},e.id)}))),r.a.createElement(L.i,{className:"col-lg-3 mb-3 mt-2"},r.a.createElement("h6",{className:"m-0 mb-1"},"Filter by module"),r.a.createElement(L.u,{className:" mb-2 mr-1",id:"project",value:s,onChange:function(e){m(e.target.value)}},r.a.createElement("option",{value:"all"},"All modules"),I.map(function(e,t){return r.a.createElement("option",{value:e.shortName,key:t},e.shortName)}))),r.a.createElement(L.i,{className:"col-lg-3 mb-3 mt-2 d-flex justify-content-end align-items-center"},r.a.createElement("div",null,r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mb-2 mb-sm-0 mt-4",onClick:function(){b(""),m(""),N("")}},a("limpar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"}))))),r.a.createElement(L.G,null)),T.isFetching&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"p-4 pb-3"},r.a.createElement(_t,{isFetching:T.isFetching,tableData:function(){return A()||[]},tableColumns:function(){return["Name","Username","Type","Actions"]}})),!1===T.isFetching&&r.a.createElement(xt,{totalPages:T.data,setCurrentPage:x,currentPage:O,rowsPerPage:C,setRowsPerPage:_})))))},Rt=a(886),Gt=a(859);function Mt(){Mt=function(){return t};var e,t={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function m(e,t,a,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),l=new L(n||[]);return r(i,"_invoke",{value:S(e,a,l)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",g={};function b(){}function E(){}function v(){}var y={};s(y,i,function(){return this});var N=Object.getPrototypeOf,w=N&&N(N(_([])));w&&w!==a&&n.call(w,i)&&(y=w);var j=v.prototype=b.prototype=Object.create(y);function O(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){a("next",e,i,l)},function(e){a("throw",e,i,l)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return a("throw",e,i,l)})}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t(function(t,r){a(e,n,t,r)})}return o=o?o.then(r,r):r()}})}function S(t,a,n){var r=d;return function(o,i){if(r===p)throw Error("Generator is already running");if(r===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=D(l,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=u(t,a,n);if("normal"===s.type){if(r=n.done?h:f,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}function D(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,D(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=u(r,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,g;var i=o.arg;return i?i.done?(a[t.resultName]=i.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,g):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(t){if(t||""===t){var a=t[i];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return E.prototype=v,r(j,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:E,configurable:!0}),E.displayName=s(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},O(x.prototype),s(x.prototype,l,function(){return this}),t.AsyncIterator=x,t.async=function(e,a,n,r,o){void 0===o&&(o=Promise);var i=new x(m(e,a,n,r),o);return t.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},O(j),s(j,c,"Generator"),s(j,i,function(){return this}),s(j,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return l.type="throw",l.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),k(a),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;k(a)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:_(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}var Ht=function(e){var t=e.open,a=e.setOpen,o=e.setOpenUsers,i=e.setLogedUser,l=e.setFormInputs,c=e.formInputs,s=JSON.parse(D.a.get("user")),m=Object(n.useState)({}),u=Object(d.a)(m,2),f=u[0],p=u[1],h=Object(n.useState)(null),g=Object(d.a)(h,2),b=g[0],E=g[1],v=Object(n.useState)("password"),N=Object(d.a)(v,2),w=N[0],j=N[1],O=Object(n.useState)(!1),x=Object(d.a)(O,2),S=x[0],C=x[1],k=[{placeholder:"Username",type:"text",name:"username",errorHelper:"Username is required",id:"username_id"},{placeholder:"Password",type:w,name:"password",errorHelper:"Password is required",id:"password_id"}],_=function(){var e=Object(R.a)(Mt().mark(function e(t){var n;return Mt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),C(!0),n={method:"get",url:"".concat(W,"/api/monitoring/auth/user"),headers:{SERVERURL:s.selectedServer.url,ENTRYPOINT:Object(J.a)(f.username,f.password)}},H()(n).then(function(e){i(f),C(!1),a(!1),o()}).catch(function(e){E(e.response.statusText),C(!1),ae("Error to login, check your credentials!")});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Gt.a,{className:"geral__dialog",show:t,onHide:function(){return a()},backdrop:"static",keyboard:!1,centered:!0,size:"sm"},r.a.createElement(L.A,{titleClass:"w-100"},r.a.createElement("div",{className:"w-100 row m-0"},r.a.createElement("span",null,"Login"),r.a.createElement(wt.a,{size:"small",className:"ml-auto",onClick:function(){a(!1),function(){var e=c;e.server="",l(e)}()}},r.a.createElement("i",{class:"material-icons"},"close")))),r.a.createElement(L.z,null,r.a.createElement(L.q,{onSubmit:_,className:"login100-form validate-form flex-sb flex-w"},r.a.createElement("div",{className:"text-center col-lg-12"},r.a.createElement("p",{className:"mb-3"},"Introduza os seus dados de acesso para continuar!")),k.map(function(e,t){return r.a.createElement("div",{className:"wrap-input100 validate-input d-flex m-b-16","data-validate":e.errorHelper,type:e.type},r.a.createElement("input",{className:"input100",name:e.name,key:t,required:!0,value:f[e.name],onChange:function(e){return function(e){var t=e.target,a=t.name,n=t.value;p(Object(y.a)({},f,Object(G.a)({},a,n)))}(e)},placeholder:e.placeholder,type:e.type}),r.a.createElement("span",{className:"focus-input100"}),"Password"===e.placeholder&&r.a.createElement("div",{className:"password-toggle pr-2 h-100 d-flex justify-content-center align-items-center"},r.a.createElement("i",{onClick:function(){j("password"===w?"text":"password")},class:"material-icons"},"password"===w?"visibility":"visibility_off")))}),r.a.createElement("div",{className:"container-login100-form-btn m-t-17"},r.a.createElement(L.b,{type:"submit",className:"login100-form-btn",disabled:S},S?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{role:"status","aria-hidden":"true"}),"Loading ..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{role:"status","aria-hidden":"true"}),"Log in")),b?r.a.createElement($,null):null))))};function Bt(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return qt(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?qt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var Wt=function(e){var t=e.openUsers,a=e.setOpenUsers,o=e.setExternal,i=e.logedUser,l=e.formInputs,c=e.setFormInputs,s=Object(n.useState)(0),m=Object(d.a)(s,1)[0],u=Object(n.useState)([]),f=Object(d.a)(u,2),p=f[0],h=f[1],g=Object(n.useState)(!0),b=Object(d.a)(g,2),E=b[0],v=b[1],y={method:"get",url:"".concat(W,"/api/users/externals"),headers:{SERVERURL:"https://sis.misau.gov.mz/staging",ENTRYPOINT:Object(J.a)(i.username,i.password),Accept:"application/json",Authorization:"Bearer ".concat(Y),"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"X-Requested-With","Access-Control-Max-Age":"60"}};Object(n.useEffect)(function(){H()(y).then(function(e){h(e.data.users),v(!1)}).catch(function(e){v(!1)})},[m]);var N=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.b,{className:"px-4 text-capitalize text-primary",theme:"light",onClick:function(){a(),o(!0),function(e){var t=l;t.username=e.userCredentials.username,t.name=e.displayName,t.userId=e.id,t.position=e.jobTitle,t.email=e.email,t.phone=e.phoneNumber,c(t)}(e)}},"Select"))};return r.a.createElement(Gt.a,{backdrop:"static",keyboard:!1,className:"geral__dialog",show:t,onHide:function(){return a()},centered:!0},r.a.createElement(L.A,{className:"d-flex justify-content-center"},"External User List"),r.a.createElement(L.z,{className:"p-0 mt-3"},r.a.createElement(L.G,{className:"px-4 mb-2"},r.a.createElement(L.i,{className:"col-lg-6 mt-2"},r.a.createElement("h6",{className:"m-0 mb-1"},"Filter by name"),r.a.createElement(L.t,{id:"#name",placeholder:"Name"}))),E&&r.a.createElement(jt.a,null),r.a.createElement("div",{className:"mt-4 external-user_table"},r.a.createElement(_t,{isFetching:E,tableData:function(){var e=[];if(p){var t,a=Bt(p);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.push([n.userCredentials.username,n.displayName,N(n)])}}catch(r){a.e(r)}finally{a.f()}}return e},tableColumns:function(){return["Username","Name","Actions"]}}))))},Yt=function(e){return r.a.createElement(L.i,{className:"col-lg-6 mb-3 mt-2"},r.a.createElement(L.s,null,r.a.createElement("label",{className:"mb-2"},e.title),r.a.createElement(L.t,Object.assign({type:e.inputType},e))))},Vt=function(e){return r.a.createElement(L.i,{className:"col-lg-6 mb-3 mt-2"},r.a.createElement("h6",{className:"mb-2"},e.title),r.a.createElement(L.u,e,r.a.createElement("option",{value:""},e.placeholder),e.hasOwnProperty("options")&&e.options.map(function(e){return r.a.createElement("option",{value:e.id,id:e.id},e.id||e.name)})))},Zt=function(e){return r.a.createElement(L.i,{className:"col-lg-6 mb-3 mt-2"},r.a.createElement(L.r,e))},Jt=function(e){return r.a.createElement(L.i,{className:"col-lg-6 mb-3 mt-2"},r.a.createElement(L.v,e))},Xt=function(e){var t=Object(n.useState)(!0),a=Object(d.a)(t,2),o=a[0],i=a[1];return r.a.createElement(L.i,{className:"col-lg-6 mb-3 mt-2"},r.a.createElement("label",{className:"mb-2"},e.title),r.a.createElement(L.w,null,r.a.createElement(L.t,Object.assign({type:o?"password":"text"},e)),r.a.createElement(L.x,{type:"append"},r.a.createElement(L.y,{onClick:function(){return i(!o)}},o?r.a.createElement("i",{className:"material-icons",style:{cursor:"pointer"}},"visibility_off"):r.a.createElement("i",{className:"material-icons",style:{cursor:"pointer"}},"visibility")))))},Kt=function(e){switch(e.inputType){case"TEXT":case"EMAIL":case"number":return r.a.createElement(Yt,e);case"boolean":case"true_only":return r.a.createElement(Zt,e);case"LIST":return r.a.createElement(Vt,e);case"LONG_TEXT":return r.a.createElement(Jt,e);case"PASSWORD":return r.a.createElement(Xt,e);default:return null}},Qt=a(91);function $t(){$t=function(){return t};var e,t={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function m(e,t,a,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),l=new L(n||[]);return r(i,"_invoke",{value:S(e,a,l)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",g={};function b(){}function E(){}function v(){}var y={};s(y,i,function(){return this});var N=Object.getPrototypeOf,w=N&&N(N(_([])));w&&w!==a&&n.call(w,i)&&(y=w);var j=v.prototype=b.prototype=Object.create(y);function O(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){a("next",e,i,l)},function(e){a("throw",e,i,l)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return a("throw",e,i,l)})}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t(function(t,r){a(e,n,t,r)})}return o=o?o.then(r,r):r()}})}function S(t,a,n){var r=d;return function(o,i){if(r===p)throw Error("Generator is already running");if(r===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=D(l,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=u(t,a,n);if("normal"===s.type){if(r=n.done?h:f,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}function D(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,D(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=u(r,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,g;var i=o.arg;return i?i.done?(a[t.resultName]=i.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,g):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(t){if(t||""===t){var a=t[i];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return E.prototype=v,r(j,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:E,configurable:!0}),E.displayName=s(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},O(x.prototype),s(x.prototype,l,function(){return this}),t.AsyncIterator=x,t.async=function(e,a,n,r,o){void 0===o&&(o=Promise);var i=new x(m(e,a,n,r),o);return t.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},O(j),s(j,c,"Generator"),s(j,i,function(){return this}),s(j,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return l.type="throw",l.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),k(a),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;k(a)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:_(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function ea(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return ta(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ta(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var aa=function(){var e=Object(R.a)($t().mark(function e(t,a,n,r){var o,i;return $t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log(r),o=function(){var e,t=[],a=ea(r);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push({id:n.id})}}catch(o){a.e(o)}finally{a.f()}return t},i=function(){var e=t.userId,a=t.server,n=t.email,r=t.focalPointEmail,i=t.focalPointName,l=t.focalPointPhone,c=t.focalPointPosition,s=t.name,m=t.password,u=t.userType,d=t.username;return"Internal"===u?{name:s,email:n,username:d,password:m,userType:"INTERNAL",focalPoint:{name:i,email:r,phone:l,position:c},roles:o()}:{name:s,email:n||"".concat(d,"@gmail.com"),password:null,userType:"EXTERNAL",userId:e,username:d,userData:JSON.stringify({id:e,displayName:s,email:n,userCredentials:{username:d}}),server:a,roles:o()}},e.next=6,H.a.post("https://apps.hisplp.org/mozapi/api/users",i(),V()).then(function(e){a.push("/umm/umm-linelist")}).catch(function(e){});case 6:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),na=function(e){return console.log(e),"EXTERNAL"===e.userType?{name:e.name,position:"Developer",email:e.email,phone:844950492,username:e.username,id:e.id}:{name:e.name,email:e.email,username:e.username,id:e.id,focalPointName:e.focalPoint&&e.focalPoint.name,focalPointEmail:e.focalPoint&&e.focalPoint.email,focalPointPhone:e.focalPoint&&e.focalPoint.phone,focalPointPosition:e.focalPoint&&e.focalPoint.position}};function ra(){ra=function(){return t};var e,t={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function m(e,t,a,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),l=new L(n||[]);return r(i,"_invoke",{value:S(e,a,l)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",g={};function b(){}function E(){}function v(){}var y={};s(y,i,function(){return this});var N=Object.getPrototypeOf,w=N&&N(N(_([])));w&&w!==a&&n.call(w,i)&&(y=w);var j=v.prototype=b.prototype=Object.create(y);function O(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){a("next",e,i,l)},function(e){a("throw",e,i,l)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return a("throw",e,i,l)})}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t(function(t,r){a(e,n,t,r)})}return o=o?o.then(r,r):r()}})}function S(t,a,n){var r=d;return function(o,i){if(r===p)throw Error("Generator is already running");if(r===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=D(l,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=u(t,a,n);if("normal"===s.type){if(r=n.done?h:f,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}function D(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,D(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=u(r,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,g;var i=o.arg;return i?i.done?(a[t.resultName]=i.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,g):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(t){if(t||""===t){var a=t[i];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return E.prototype=v,r(j,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:E,configurable:!0}),E.displayName=s(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},O(x.prototype),s(x.prototype,l,function(){return this}),t.AsyncIterator=x,t.async=function(e,a,n,r,o){void 0===o&&(o=Promise);var i=new x(m(e,a,n,r),o);return t.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},O(j),s(j,c,"Generator"),s(j,i,function(){return this}),s(j,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return l.type="throw",l.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),k(a),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;k(a)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:_(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}var oa=function(){var e=Object(R.a)(ra().mark(function e(t,a,n){var r;return ra().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={id:t.id,name:t.name,email:t.email,password:"Dhis22022!",userType:"INTERNAL",focalPoint:{id:2,name:"John Doe",email:"jdoe@email.com",phone:t.phone,position:t.position},permissions:[{id:1}]},e.next=4,H.a.put("https://apps.hisplp.org/mozapi/api/users",r,V()).then(function(e){a.push("/umm/umm-linelist")}).catch(function(e){});case 4:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),ia=a(348),la=function(e){return r.a.createElement(L.i,{lg:2,className:"pr-0"},r.a.createElement(L.c,{className:"moduleSelectableCard-card"},r.a.createElement(L.f,{className:"moduleSelectableCard-header"},r.a.createElement("span",null,e.title),r.a.createElement(ia.a,Object.assign({},e,{inputId:"binary"}))),r.a.createElement(L.d,null,r.a.createElement(L.h,null),r.a.createElement("p",null,"Lorem ipsum dolor sit amet."))))},ca=a(333),sa=a.n(ca),ma=a(334),ua=a.n(ma),da=[{name:"Covid-19",id:"1"},{name:"SIRCEV",id:"3"},{name:"CMAM",id:"2"}],fa=function(){var e=Object(p.useLocation)().search,t=new URLSearchParams(e),a=t.get("userType"),o=t.get("userId"),i=Z("api/users/".concat(o,"?include=focalPoint")),l=Object(n.useState)(!1),c=Object(d.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(!1),f=Object(d.a)(u,2),h=f[0],g=f[1],b=Object(n.useState)({}),E=Object(d.a)(b,2),v=E[0],N=E[1],w=Object(n.useState)(),j=Object(d.a)(w,2),O=j[0],x=j[1],S=Object(p.useHistory)(),D=Object(p.useParams)().action,C=Object(n.useState)(!0),k=Object(d.a)(C,2),_=k[0],P=k[1],T=Object(n.useState)([]),I=Object(d.a)(T,2),A=I[0],U=I[1],F=function(e){var t=Object(re.a)(A);if(e.checked)t.push(e.value);else for(var a=0;a<t.length;a++)if(t[a].id===e.value.id){t.splice(a,1);break}U(t)},z=function(e){var t=e.target,a=t.id,n=t.value;N(Object(y.a)({},v,Object(G.a)({},a,n)))},R=Z("api/users/registration/variables?userType=".concat(v[Qt.id]||a&&At(a)));Object(n.useEffect)(function(){N({userType:v[Qt.id]}),g(!1),U([])},[v[Qt.id]]),Object(n.useEffect)(function(){i.data&&(na(i.data),N(na(i.data)))},[i.data]);var M=function(e,t){m(e&&""!==e.target.value&&!1!==t)},H=Object(n.useState)(!1),B=Object(d.a)(H,2),q=B[0],W=B[1],Y=function(){W(!q)};return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.G,{noGutters:!0,className:"page-header py-4"},r.a.createElement(Nt,{title:"User ".concat(D," form"),className:"text-sm-left"})),r.a.createElement(L.G,{className:"mb-4"},r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0,className:"mb-4 p-3"},r.a.createElement(L.d,{className:""},r.a.createElement(L.q,{onSubmit:function(e){return"registration"===D?aa(v,S,e,A):oa(v,S,e)}},"registration"===D&&r.a.createElement(L.G,null,r.a.createElement(Kt,Object.assign({required:!0,value:v[Qt.id],onChange:function(e){return z(e)},inputType:Qt.valueType,id:Qt.id,title:Qt.displayName},Qt)),"External"===v[Qt.id]&&r.a.createElement(Kt,Object.assign({required:!0,value:v[It.id],onChange:function(e){z(e),M(e)},disabled:void 0!==v[It.id]&&""!==v[It.id],inputType:It.valueType,id:It.id,title:It.displayName},It))),("Internal"===v[Qt.id]&&R.isFetching||"detail"===D&&(R.isFetching||i.isFetching))&&r.a.createElement("div",{className:"w-100 d-flex justify-content-center"},r.a.createElement(Rt.a,{size:20})),("Internal"===v[Qt.id]||"External"===v[Qt.id]&&void 0!==v[It.id]&&""!==v[It.id]&&h||"registration"!==D&&i.data)&&R.data&&r.a.createElement(r.a.Fragment,null,R.data.sections.map(function(e,t){return r.a.createElement("div",{className:"border rounded w-100 mb-2"},r.a.createElement("h6",{className:"w-100 p-2 step-card"},e.displayName),r.a.createElement(L.G,{className:"p-2"},e.variables.map(function(e,t){return r.a.createElement(Kt,Object.assign({required:!0,value:v[e.id],disabled:"External"===v[Qt.id]||"detail"===D&&"EXTERNAL"===a&&!0||"detail"===D&&"INTERNAL"===a&&_,onChange:function(e){return z(e)},inputType:"PHONE_NUMBER"===e.valueType?"number":e.valueType,id:t,title:e.displayName},e))})))}),r.a.createElement("div",{className:"border rounded w-100 mb-2"},r.a.createElement("h6",{className:"w-100 p-2 step-card"},"Module Selection"),r.a.createElement(L.G,{className:"p-2"},da.map(function(e){return r.a.createElement(la,{required:0===A.length,disabled:"detail"===D&&_,inputId:e.id,value:e,checked:A.some(function(t){return t.id===e.id}),onChange:F,title:e.name})}))),r.a.createElement(L.G,null,r.a.createElement(L.i,{className:"col-lg-12 mt-3 mb-3 d-flex justify-content-end"},r.a.createElement(oe.a,{onClick:function(){return S.push("/umm/umm-linelist")},color:"error",variant:"contained",size:"small",className:"mr-2 text-capitalize"},"Cancel"),"detail"===D&&r.a.createElement(oe.a,{onClick:function(){return P(!_)},variant:"contained",size:"small",className:"mr-2 text-capitalize",startIcon:_?r.a.createElement(sa.a,null):r.a.createElement(ua.a,null)},"Edit"),r.a.createElement(oe.a,{type:"submit",variant:"contained",size:"small",className:"text-capitalize",startIcon:r.a.createElement("i",{className:"material-icons me-2"},"save")},"Save"))))))))),s&&r.a.createElement(Ht,{open:s,setOpen:M,setOpenUsers:function(){return Y()},setLogedUser:x,selectedServer:v[It.id],setFormInputs:N,formInputs:v}),q&&r.a.createElement(Wt,{logedUser:O,openUsers:q,setOpenUsers:function(){return Y()},setExternal:function(e){g(e)},formInputs:v,setFormInputs:N}))},pa=(a(520),function(e){var t=e.bgColor,a=e.icone,n=e.label,o=e.shortName,i=Object(p.useHistory)(),l=Fe()("stats-small__label","text-uppercase","title-span");return r.a.createElement(L.c,{small:!0,style:{height:"auto"}},r.a.createElement("div",{style:{backgroundColor:t},className:"module-icon"},r.a.createElement("i",{className:"material-icons"},a)),r.a.createElement(L.d,{onClick:function(){i.push("/umm/umm-linelist?module=".concat(o))},className:"card-dashboard"},r.a.createElement("span",{className:l},n),r.a.createElement("div",{className:"role-container my-1"},r.a.createElement("div",{className:"role-icon"},r.a.createElement("i",{className:"material-icons"},"remove_red_eye")),r.a.createElement("div",{className:"role-desc"},r.a.createElement("span",{className:"role-desc-label"},"Views"),r.a.createElement("span",{className:"role-desc-label__value text-muted"},"2.5k"))),r.a.createElement("div",{className:"role-container mb-1"},r.a.createElement("div",{className:"role-icon"},r.a.createElement("i",{className:"material-icons"},"work")),r.a.createElement("div",{className:"role-desc"},r.a.createElement("span",{className:"role-desc-label"},"Managers"),r.a.createElement("span",{className:"role-desc-label__value text-muted"},"2.5k"))),r.a.createElement("div",{className:"role-container mb-1"},r.a.createElement("div",{className:"role-icon"},r.a.createElement("i",{className:"material-icons"},"lock")),r.a.createElement("div",{className:"role-desc"},r.a.createElement("span",{className:"role-desc-label"},"Admins"),r.a.createElement("span",{className:"role-desc-label__value text-muted"},"2.5k")))))}),ha=function(){return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.G,{noGutters:!0,className:"page-header py-4"},r.a.createElement(Nt,{title:"Total de Utilizadores por M\xf3dulo",className:"text-sm-left mb-3"})),r.a.createElement(L.G,null,I.map(function(e,t){return r.a.createElement(L.i,{className:"col-lg mb-4",key:t},r.a.createElement(pa,{shortName:e.shortName,bgColor:e.bgColor,icone:e.icon,label:e.displayName}))})))},ga=function(){var e=Object(p.useRouteMatch)().path,t=Object(p.useHistory)(),a=Object(p.useLocation)();return Object(n.useEffect)(function(){"/umm"===e&&a.pathname.split("/").length<3&&t.replace("/umm/umm-home")},[e]),r.a.createElement(f.a,null,r.a.createElement(p.Switch,null,[{path:"/:module/umm-home",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_umm"]},r.a.createElement(ha,null))}},{path:"/:module/umm-linelist",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_umm"]},r.a.createElement(zt,null))}},{path:"/:module/user/:action",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_umm"]},r.a.createElement(fa,null))}}].map(function(e,t){return r.a.createElement(p.Route,{key:t,path:e.path,exact:e.exact,component:j(function(t){return r.a.createElement(e.layout,t,r.a.createElement(e.component,t))})})})))},ba=a(92),Ea=a.n(ba);Ea.a.defaults.LineWithLine=Ea.a.defaults.line,Ea.a.controllers.LineWithLine=Ea.a.controllers.line.extend({draw:function(e){if(Ea.a.controllers.line.prototype.draw.call(this,e),this.chart.tooltip._active&&this.chart.tooltip._active.length){var t=this.chart.tooltip._active[0],a=this.chart.ctx,n=t.tooltipPosition().x,r=this.chart.scales["y-axis-0"].top,o=this.chart.scales["y-axis-0"].bottom;a.save(),a.beginPath(),a.moveTo(n,r),a.lineTo(n,o),a.fillStyle="white",a.lineWidth=.5,a.strokeStyle="#ddd",a.stroke(),a.restore()}}});var va=Ea.a,ya=a(182),Na=a.n(ya),wa=function(e){var t=e.chartInstance;return r.a.createElement(we.a,{title:"Baixar gr\xe1fico para png"},r.a.createElement(wt.a,{onClick:function(){return function(){var e=document.createElement("a");e.href=t.toBase64Image(),e.download="my_file_name.png",e.click()}()},style:{color:"#566179"},"aria-label":"upload picture",component:"label"},r.a.createElement(Na.a,null)))},ja=function(e){var t=e.prints,a=e.data,o=e.date,i=Object(k.a)().t,l=Object(n.useRef)(null),c=Object(n.useState)(null),s=Object(d.a)(c,2),m=s[0],u=s[1],f=function(){return t?{labels:Array.from(new Array(t.data.length),function(e,a){return"data"===o?t.data[a].data:t.data[a].date}),datasets:[{label:i("certificados_emitidos"),fill:"start",data:Array.from(new Array(t.data.length),function(e,n){return"prints"===a?t.data[n].prints:t.data[n].imports}),backgroundColor:"rgba(0,123,255,0.1)",borderColor:"rgba(0,123,255,1)",pointBackgroundColor:"#ffffff",pointHoverBackgroundColor:"rgb(0,123,255)",borderWidth:1.5,pointRadius:0,pointHoverRadius:3}]}:[]},p=Object(y.a)({},{responsive:!0,legend:{position:"top"},elements:{line:{tension:.3},point:{radius:0}},scales:{xAxes:[{gridLines:!1,ticks:{callback:function(e,t){return t%7!==0?"":e}}}],yAxes:[{ticks:{suggestedMax:45,callback:function(e){return 0===e?e:e>999?"".concat((e/1e3).toFixed(1),"K"):e}}}]},hover:{mode:"nearest",intersect:!1},tooltips:{custom:!1,mode:"nearest",intersect:!1}});return Object(n.useEffect)(function(){if(t&&t.data.length>0)if(m)m.data=f(),m.update(),m.render();else{var e=new va(l.current,{type:"LineWithLine",data:f(),options:p}),a=e.getDatasetMeta(0);a.data[0]._model.radius=0,a.data[f().datasets[0].data.length-1]._model.radius=0,e.render(),u(e)}},[t,i]),r.a.createElement(L.c,{small:!0,className:"h-100"},r.a.createElement(L.f,{className:"border-bottom d-flex"},r.a.createElement("h6",{className:"my-0 ml-0 mr-auto"},i("emissoes_ao_longo_do_tempo")),r.a.createElement(wa,{chartInstance:m})),r.a.createElement(L.d,{className:"pt-0"},r.a.createElement("canvas",{height:"120",ref:l,style:{maxWidth:"100% !important"}})))},Oa=a(880),xa=function(e){var t=e.open;return n.createElement("div",null,n.createElement(Oa.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:t,invisible:!1},n.createElement(Rt.a,{color:"inherit"})))},Sa=a(105),Da=a.n(Sa),Ca=function(e){return console.log(e),e.toString().split("-").length>1?e:Da()(e,"yyyy-mm-dd")},ka=a(152),La=a.n(ka);function _a(e,t,a){return t=Object(E.a)(t),Object(b.a)(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,a||[],Object(E.a)(e).constructor):t.apply(e,a))}var Pa=function(e){function t(e){var a;return Object(h.a)(this,t),(a=_a(this,t,[e])).canvasRef=r.a.createRef(),a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)({},{maintainAspectRatio:!0,responsive:!0,legend:{display:!1},tooltips:{enabled:!1,custom:!1},elements:{point:{radius:0},line:{tension:.33}},scales:{xAxes:[{gridLines:!1,ticks:{display:!1}}],yAxes:[{gridLines:!1,scaleLabel:!1,ticks:{display:!1,isplay:!1,suggestedMax:Math.max.apply(Math,Object(re.a)(this.props.chartData[0].data))+1}}]}},this.props.chartOptions),t=Object(y.a)({},{type:"line",data:Object(y.a)({},{labels:this.props.chartLabels},{datasets:this.props.chartData}),options:e},this.props.chartConfig);new Ea.a(this.canvasRef.current,t)}},{key:"render",value:function(){var e=this.props,t=e.variation,a=e.label,n=e.value,o=e.percentage,i=e.increase,l=Fe()("stats-small",t&&"stats-small--".concat(t)),c=Fe()("1"===t?"p-0 d-flex":"px-0 pb-0"),s=Fe()("d-flex","1"===t?"flex-column m-auto":"px-3"),m=Fe()("stats-small__data","1"===t&&"text-center"),u=Fe()("stats-small__label","text-uppercase","1"!==t&&"mb-1"),d=Fe()("stats-small__value","count","1"===t?"my-3":"m-0"),f=Fe()("stats-small__data","1"!==t&&"text-right align-items-center"),p=Fe()("stats-small__percentage","stats-small__percentage--".concat(i?"increase":"decrease")),h="1"===t?120:60;return r.a.createElement(L.c,{small:!0,className:l},r.a.createElement(L.d,{className:c},r.a.createElement("div",{className:s},r.a.createElement("div",{className:m},r.a.createElement("span",{className:u},a),r.a.createElement("h6",{className:d},n.isFetching?0:n)),r.a.createElement("div",{className:f},r.a.createElement("span",{className:p},o))),r.a.createElement("canvas",{height:h,ref:this.canvasRef,className:"stats-small-".concat(La()())})))}}])}(r.a.Component),Ta=function(){var e=Object(k.a)().t,t=Z("api/covid/immunization/certificate/monitoring/dashboards"),a=Z("api/covid/immunization/certificate/print/summaries?includeDateRange=true&paging=false&startDate=".concat(Ca((new Date).setDate((new Date).getDate()-30)),"&endDate=").concat(Ca(new Date)));return t.isFetching||a.isFetching?r.a.createElement(xa,{open:!0}):t.error||a.error?r.a.createElement(ye,null):r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.G,{noGutters:!0,className:"page-header py-4"},r.a.createElement(Nt,{title:e("total_emitidos"),className:"text-sm-left mb-3"})),r.a.createElement(L.G,null,function(e,t){return[{label:e("hoje"),value:t&&t.data.summaries?t.data.summaries.today:"---",increase:t&&t.data.summaries?"INCREASE"===t.data.summaries.dayVariation.status:"",chartLabels:[null,null,null,null,null,null,null],attrs:{md:"6",sm:"6"},datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(0, 184, 216, 0.1)",borderColor:"rgb(0, 184, 216)",data:[1,2,1,3,5,4,7]}]},{label:e("semana"),value:t&&t.data.summaries?t.data.summaries.thisWeek:"---",increase:t&&t.data.summaries?"INCREASE"===t.data.summaries.weekVariation.status:"",chartLabels:[null,null,null,null,null,null,null],attrs:{md:"6",sm:"6"},datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(23,198,113,0.1)",borderColor:"rgb(23,198,113)",data:[1,2,3,3,3,4,4]}]},{label:e("mes"),value:t&&t.data.summaries?t.data.summaries.thisMonth:"---",increase:t&&t.data.summaries?"INCREASE"===t.data.summaries.monthVariation.status:"",chartLabels:[null,null,null,null,null,null,null],attrs:{md:"4",sm:"6"},datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(255,180,0,0.1)",borderColor:"rgb(255,180,0)",data:[2,3,3,3,4,3,3]}]},{label:e("ano"),value:t&&t.data.summaries?t.data.summaries.thisYear:"---",increase:!1,decrease:!0,chartLabels:[null,null,null,null,null,null,null],attrs:{md:"4",sm:"6"},datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(255,65,105,0.1)",borderColor:"rgb(255,65,105)",data:[1,7,1,3,1,4,8]}]},{label:e("total"),value:t&&t.data.summaries?t.data.summaries.total:"---",increase:!1,decrease:!0,chartLabels:[null,null,null,null,null,null,null],attrs:{md:"4",sm:"6"},datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgb(0,123,255,0.1)",borderColor:"rgb(0,123,255)",data:[3,2,3,2,4,5,4]}]}]}(e,t).map(function(e,t){return r.a.createElement(L.i,Object.assign({className:"col-lg mb-4",key:t},e.attrs),r.a.createElement(Pa,{id:"small-stats-".concat(t),variation:"1",chartData:e.datasets,chartLabels:e.chartLabels,label:e.label,value:e.value,percentage:e.percentage,increase:e.increase,decrease:e.decrease}))})),r.a.createElement(L.G,null,r.a.createElement(L.i,{lg:"12",md:"12",sm:"12",className:"mb-4"},r.a.createElement(ja,{data:"prints",date:"data",prints:a.data}))))},Ia=["#78586F","#F2D7D5","#EBDEF0","#D4E6F1","#D1F2EB","#FDEBD0","#f95d6a","#FCF3CF","#D4EFDF","#fad7a0","#a9dfbf","#e8f8f5","#d1f2eb","#a3e4d7","#76d7c4","#48c9b0","#1abc9c","#17a589","#148f77","#117864","#0e6251","#e8f6f3","#d0ece7","#a2d9ce","#73c6b6","#45b39d","#16a085","#138d75","#117a65","#0e6655","#0b5345","#eafaf1","#d5f5e3","#abebc6","#82e0aa","#58d68d","#2ecc71","#28b463","#239b56","#1d8348","#186a3b","#e9f7ef","#d4efdf","#a9dfbf","#7dcea0","#52be80","#27ae60","#229954","#1e8449","#196f3d","#145a32","#ebf5fb","#d6eaf8","#aed6f1","#85c1e9","#5dade2","#3498db","#2e86c1","#2874a6","#21618c","#1b4f72","#eaf2f8","#d4e6f1","#a9cce3","#7fb3d5","#5499c7","#2980b9","#2471a3","#1f618d","#1a5276","#154360","#f5eef8","#ebdef0","#d7bde2","#c39bd3","#af7ac5","#9b59b6","#884ea0","#76448a","#633974","#512e5f","#f4ecf7","#e8daef","#d2b4de","#bb8fce","#a569bd","#8e44ad","#7d3c98","#6c3483","#5b2c6f","#4a235a","#fef9e7","#fcf3cf","#f9e79f","#f7dc6f","#f4d03f","#f1c40f","#d4ac0d","#b7950b","#9a7d0a","#7d6608","#fef5e7","#fdebd0","#fad7a0","#f8c471","#f5b041","#f39c12","#d68910","#b9770e","#9c640c","#7e5109","#fdf2e9","#fae5d3","#f5cba7","#f0b27a","#eb984e","#e67e22","#ca6f1e","#af601a","#935116","#784212","#fbeee6","#f6ddcc","#edbb99","#e59866","#dc7633","#d35400","#ba4a00","#a04000","#873600","#6e2c00","#fdedec","#fadbd8","#f5b7b1","#f1948a","#ec7063","#e74c3c","#cb4335","#b03a2e","#943126","#78281f","#f9ebea","#f2d7d5","#e6b0aa","#d98880","#cd6155","#c0392b","#a93226","#922b21","#7b241c","#641e16","#fdfefe","#fbfcfc","#f7f9f9","#f4f6f7","#f0f3f4","#ecf0f1","#d0d3d4","#b3b6b7","#979a9a","#7b7d7d","#f8f9f9","#f2f3f4","#e5e7e9","#d7dbdd","#cacfd2","#bdc3c7","#a6acaf","#909497","#797d7f","#626567","#f4f6f6","#eaeded","#d5dbdb","#bfc9ca","#aab7b8","#95a5a6","#839192","#717d7e","#5f6a6a","#4d5656","#f2f4f4","#e5e8e8","#ccd1d1","#b2babb","#99a3a4","#7f8c8d","#707b7c","#616a6b","#515a5a","#424949","#ebedef","#d6dbdf","#aeb6bf","#85929e","#5d6d7e","#34495e","#2e4053","#283747","#212f3c","#1b2631","#eaecee","#d5d8dc","#abb2b9","#808b96","#566573","#2c3e50","#273746","#212f3d","#1c2833","#17202a"],Aa=(a(289),function(e){var t=e.loader,a=e.summaries,o=e.chartType,i=e.title,l=e.lables,c=e.dados,s=e.cores,m=Object(n.useRef)(null),u=Object(n.useState)(null),f=Object(d.a)(u,2),p=f[0],h=f[1],g=Object(n.useState)("View in full screen"),b=Object(d.a)(g,2),E=b[0],v=b[1],N=function(){var e=[],t=[],n=[];if(a){for(var r=0;r<a.length;r++)e.push(a[r].username||a[r].shortName),t.push(a[r].totalPrints),n.push(Ia[r]);return{datasets:[{hoverBorderColor:"#ffffff",label:"Total de \xf3bitos sincronizados",data:t,backgroundColor:n}],labels:e}}return l||c?{datasets:[{hoverBorderColor:"#ffffff",label:"Total de \xf3bitos sincronizados",data:c,backgroundColor:s}],labels:l}:[]};Object(n.useEffect)(function(){if(a||l&&c)if(p)p.data=N(),p.update();else{var e=new Ea.a(m.current,{type:o,data:N(),options:Object(y.a)({},{legend:{position:"bottom",labels:{padding:25,boxWidth:20}},cutoutPercentage:0,tooltips:{custom:!1,mode:"index",position:"nearest"}})});h(e)}},[a,l,c]);return r.a.createElement(L.c,{className:E.replace(/\s+/g,"")},r.a.createElement(L.f,{className:"border-bottom d-flex"},r.a.createElement("h6",{className:"my-0 ml-0 mr-auto"},i),r.a.createElement(wa,{chartInstance:p})),t&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"d-flex py-0"},r.a.createElement("canvas",{height:"120",style:{backgroundColor:"white"},ref:m,className:"blog-users-by-device m-auto"})),r.a.createElement(L.e,{className:"border-top"},r.a.createElement(L.G,null,r.a.createElement(L.i,null),r.a.createElement(L.i,{className:"text-right view-report"},r.a.createElement("a",{onClick:function(){v("View in normal screen"===E?"View in full screen":"View in normal screen")}},E," \u2192")))))}),Ua=a(870),Fa=a(864),za=function(e){var t=e.clearParams;return n.createElement(Fa.a,{direction:"row",spacing:1},n.createElement(Ua.a,{label:"N\xe3o foram encontrados dados",color:"warning",onDelete:function(){t()}}))},Ra=(a(524),function(e){var t=e.startDate,a=e.endDate,n=e.setStartDate,o=e.setEndDate,i=Object(k.a)().t,l=Fe()("d-flex","my-auto","date-range");return r.a.createElement(L.w,{className:l},r.a.createElement(L.l,{size:"sm",selected:t,onChange:function(e){return e>a?(o(void 0),n(e)):n(e)},placeholderText:i("dataInicio"),dropdownMode:"select",className:"text-center"}),r.a.createElement(L.l,{size:"sm",selected:a,onChange:function(e){return e>=t&&o(e)},placeholderText:i("dataFim"),dropdownMode:"select",className:"text-center"}),r.a.createElement(L.x,{type:"append"},r.a.createElement(L.y,null,r.a.createElement("i",{className:"material-icons"},"\ue916"))))}),Ga=function(e,t,a,n){var r=new URL(window.location);console.log(r);var o=new URLSearchParams(r.search);t(e.target.value),"todos"===e.target.value?(r.searchParams.delete(n),a.replace({search:o.toString()})):(r.searchParams.set(n,e.target.value),a.push(r.search))},Ma=function(e,t,a){var n=new URL(window.location),r=new URLSearchParams(n.search);n.searchParams.delete(t),n.searchParams.delete(a),e.replace({search:r.toString()})},Ha=a(335),Ba=a.n(Ha),qa=function(e){var t=e.fileName;return r.a.createElement(Ba.a,{id:"test-table-xls-button",className:"download-table-xls-button pi pi-file-excel  btn btn-success",table:"table-to-xls-export",filename:"Tabela ".concat(t,"-").concat((new Date).toISOString()),sheet:"tablexls",buttonText:""})},Wa=a(236),Ya=(a(526),function(e){var t=e.tableData,a=e.tableColumns,n=e.fileName,o=e.fileTitle;return r.a.createElement(L.b,{theme:"danger",className:"pi pi-file-pdf",onClick:function(){return function(e,t,a,n){var r=new Wa.default("landscape","pt","A4"),o={"#63D471":"SUCESSO","#F44E3F":"ERRO","#BACDB0":"---"};r.setFontSize(15);var i={startY:50,head:[t()],body:e().map(function(e){return e.map(function(e){return"string"!=typeof e?o[e.icon.props.style.color]:e})})};r.text(a,40,40),r.autoTable(i),r.save(n)}(t,a,o,"Tabela ".concat(n))}})}),Va=(a(527),a(529),a(531),function(e){var t=e.tableData,a=e.tableColumns,o=e.fileName,i=e.fileTitle,l=e.isFetching,c=Object(k.a)().t,s=Object(n.useState)(!1),m=Object(d.a)(s,2),u=m[0],f=m[1];return r.a.createElement(L.m,{open:u,toggle:function(){f(!u)},className:"file_expoter-dropdown d-flex align-items-center"},r.a.createElement(L.p,{size:"sm",className:"btn btn-outline-primary mb-sm-0 mr-1"},c("expr-table")),l?r.a.createElement(L.o,{className:"dropdown-menu__table-exporter",right:!0},r.a.createElement(L.n,null,r.a.createElement(we.a,null,r.a.createElement("div",{className:"text-center"},"A carregar...")))):r.a.createElement(L.o,{className:"dropdown-menu__table-exporter",right:!0},r.a.createElement(L.n,null,r.a.createElement(we.a,{title:"Exportar para excel"},r.a.createElement("div",{className:"dropdown-sublist"},r.a.createElement(qa,{fileName:o})))),r.a.createElement(L.n,null,r.a.createElement(we.a,{title:"Exportar para pdf"},r.a.createElement("div",{className:"dropdown-sublist "},r.a.createElement(Ya,{fileTitle:i,fileName:o,tableColumns:a,tableData:t}))))))});function Za(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return Ja(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ja(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function Ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var Xa=function(){var e=Object(p.useLocation)().search,t=new URLSearchParams(e),a=Object(k.a)().t,o=function(){return{startDate:t.get("startDate")?new Date(t.get("startDate")):"",endDate:t.get("endDate")?new Date(t.get("endDate")):""}},i=Object(n.useState)(o().startDate),l=Object(d.a)(i,2),c=l[0],s=l[1],m=Object(n.useState)(o().endDate),u=Object(d.a)(m,2),f=u[0],h=u[1],g=Object(n.useState)(o().startDate),b=Object(d.a)(g,2),E=b[0],v=b[1],y=Object(n.useState)(o().endDate),N=Object(d.a)(y,2),w=N[0],j=N[1],O=Object(n.useState)(t.get("username")||""),x=Object(d.a)(O,2),S=x[0],D=x[1],C=Object(n.useState)(0),_=Object(d.a)(C,2),P=_[0],T=_[1],I=Object(n.useState)(10),A=Object(d.a)(I,2),U=A[0],F=A[1],z=Object(p.useHistory)(),R=function(){s(void 0),h(void 0),v(void 0),j(void 0),Ma(z,"startDate","endDate")},G=function(){return E&&w?"&startDate=".concat(Ca(new Date(E)),'"&endDate=').concat(Ca(new Date(w))):""},M=Z("api/covid/immunization/certificate/print/summaries?paging=false&responseType=GROUP_BY_USER".concat(G())),H=Z("api/covid/immunization/certificate/users"),B=Z("api/covid/immunization/certificate/print/summaries?responseType=GROUP_BY_USER".concat(G(),"&page=").concat(P+1,"&pageSize=").concat(U).concat(S&&"todos"!==S?"&userId=".concat(S):"")),q=function(){var e=[];if(B.data){var t,a=Za(B.data.data);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.push([n.username,n.totalPrints])}}catch(r){a.e(r)}finally{a.f()}}return e};if(Object(n.useEffect)(function(){q()},[H.isFetching]),M.error||H.error||B.error)return r.a.createElement(ye,null);var W=function(){return["Username","Total prints"]},Y=function(){return q()||[]};return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.c,{small:!0,className:"h-100 mb-4 mt-4"},r.a.createElement(L.d,{className:" py-0 "},r.a.createElement(L.G,{className:"mb-4"},r.a.createElement(L.i,{sm:"4",className:"d-flex mb-2 mb-sm-0 mt-4"},r.a.createElement(Ra,{startDate:c,setStartDate:s,endDate:f,setEndDate:h})),r.a.createElement(L.i,{sm:"3",className:"mb-2 mb-sm-0 mt-4"},M.data&&0===M.data.data.length&&r.a.createElement(za,{clearParams:R})),r.a.createElement(L.i,{sm:"5",className:"text-right"},r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mb-2 mb-sm-0 mt-4 mr-1",onClick:function(){return function(){if(f){v(Ca(new Date(c))),j(Ca(new Date(f)));var e=new URL(window.location.href);e.searchParams.set("startDate",Ca(new Date(c))),e.searchParams.set("endDate",Ca(new Date(f))),z.push(e.search)}else alert("You need endDate")}()}},a("atualizar_dados"),r.a.createElement("i",{className:"fa fa-refresh","aria-hidden":"true"})),r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mb-2 mb-sm-0 mt-4",onClick:function(){return R()}},a("limpar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"})))))),r.a.createElement(L.G,null,r.a.createElement(L.i,{lg:"12",md:"12",sm:"12",className:"mb-4"},r.a.createElement(Aa,{title:"Sum\xe1rio de impress\xf5es por utilizador",summaries:M.data?M.data.data:null,loader:M.isFetching,chartType:"bar"})),r.a.createElement(L.i,{lg:"12",md:"12",sm:"12",className:"mb-4"},r.a.createElement(Aa,{title:"Sum\xe1rio de impress\xf5es por utilizador",summaries:M.data?M.data.data:null,loader:M.isFetching,chartType:"pie"}))),r.a.createElement(L.G,null,r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0},r.a.createElement(L.f,{style:{flexDirection:"column"},className:"border-bottom d-flex align-itmes-center"},r.a.createElement("h6",{className:"m-0 mb-2"},"Total Emiss\xf5es de Certificados por Utilizador"),r.a.createElement(L.G,{className:"w-100 d-flex align-items-center mx-0"},r.a.createElement(L.i,{className:"pl-0"},r.a.createElement(L.u,{className:"col-lg-3 mr-1",id:"project",value:S,onChange:function(e){return Ga(e,D,z,"username")}},r.a.createElement("option",{value:"todos"},"Todos utilizadores"),!1===H.isFetching&&H.data.data.map(function(e,t){return r.a.createElement("option",{value:e.id,key:t},e.displayName)}))),B&&B.data&&r.a.createElement(Va,{fileName:"lista de emissoes por utilizador-COVID-19",fileTitle:"COVID-Total Emiss\xf5es de Certificados por Utilizador",tableColums:W,tableData:Y})),r.a.createElement(L.G,null)),B.isFetching&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"p-0 pb-3"},r.a.createElement(_t,{isFetching:B.isFetching,tableData:Y,tableColumns:W})),!1===B.isFetching&&r.a.createElement(xt,{totalPages:B.data,setCurrentPage:T,currentPage:P,rowsPerPage:U,setRowsPerPage:F})))))};function Ka(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return Qa(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Qa(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function Qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var $a=function(){var e=Object(p.useLocation)().search,t=new URLSearchParams(e),a=Object(k.a)().t,o=Object(p.useHistory)(),i=function(){return{startDate:t.get("startDate")?new Date(t.get("startDate")):"",endDate:t.get("endDate")?new Date(t.get("endDate")):""}},l=Object(n.useState)(i().startDate),c=Object(d.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(i().endDate),f=Object(d.a)(u,2),h=f[0],g=f[1],b=Object(n.useState)(i().startDate),E=Object(d.a)(b,2),v=E[0],y=E[1],N=Object(n.useState)(i().endDate),w=Object(d.a)(N,2),j=w[0],O=w[1],x=Object(n.useState)(t.get("location")||""),S=Object(d.a)(x,2),D=S[0],C=S[1],_=Object(n.useState)(0),P=Object(d.a)(_,2),T=P[0],I=P[1],A=Object(n.useState)(10),U=Object(d.a)(A,2),F=U[0],z=U[1],R=function(){m(void 0),g(void 0),y(void 0),O(void 0),Ma(o,"startDate","endDate")},G=function(){return v&&j?"&startDate=".concat(Ca(new Date(v)),'"&endDate=').concat(Ca(new Date(j))):""},M=Z("api/covid/immunization/certificate/print/summaries?paging=false&responseType=GROUP_BY_LOCATION".concat(G())),H=Z("api/covid/immunization/certificate/print/summaries?responseType=GROUP_BY_LOCATION&includeAllGroupData=true".concat(G(),"&page=").concat(T+1,"&pageSize=").concat(F).concat(D&&"todos"!==D?"&location=".concat(D):"")),B=Z("api/covid/immunization/certificate/locations?paging=false");if(M.error||H.error||B.error)return r.a.createElement(ye,null);var q=function(){return["Local Name","Total prints"]},W=function(){var e=[];if(H.data){var t,a=Ka(H.data.data);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.push([n.locationName,n.totalPrints])}}catch(r){a.e(r)}finally{a.f()}}return e};return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.c,{small:!0,className:"h-100 mb-4 mt-4"},r.a.createElement(L.d,{className:" py-0 "},r.a.createElement(L.G,{className:"mb-4"},r.a.createElement(L.i,{sm:"4",className:"d-flex mb-2 mb-sm-0 mt-4"},r.a.createElement(Ra,{startDate:s,endDate:h,setEndDate:g,setStartDate:m})),r.a.createElement(L.i,{sm:"3",className:"mb-2 mb-sm-0 mt-4"},!M.isFetching&&0===M.data.data.length&&r.a.createElement(za,{clearParams:R})),r.a.createElement(L.i,{sm:"5",className:"text-right"},r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mb-2 mb-sm-0 mt-4 mr-1",onClick:function(){return function(){if(h){y(Ca(new Date(s))),O(Ca(new Date(h)));var e=new URL(window.location.href);e.searchParams.set("startDate",Ca(new Date(s))),e.searchParams.set("endDate",Ca(new Date(h))),o.push(e.search)}else alert("You need endDate")}()}},a("atualizar_dados")," ",r.a.createElement("i",{className:"fa fa-refresh","aria-hidden":"true"})),r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mb-2 mb-sm-0 mt-4",onClick:function(){return R()}},a("limpar_dados")," ",r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"})))))),r.a.createElement(L.G,null,r.a.createElement(L.i,{lg:"12",md:"12",sm:"12",className:"mb-4"},r.a.createElement(Aa,{title:"Sum\xe1rio de impress\xf5es por local",summaries:M.data?M.data.data:[],loader:M.isFetching,chartType:"bar"})),r.a.createElement(L.i,{lg:"12",md:"12",sm:"12",className:"mb-4"},r.a.createElement(Aa,{title:"Sum\xe1rio de impress\xf5es por local",summaries:M.data?M.data.data:[],loader:M.isFetching,chartType:"pie"}))),r.a.createElement(L.G,null,r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0},r.a.createElement(L.f,{style:{flexDirection:"column"},className:"border-bottom d-flex align-itmes-center"},r.a.createElement("h6",{className:"m-0 mb-2"},"Total Emiss\xf5es de Certificados por Local"),r.a.createElement(L.G,{className:"w-100 d-flex align-items-center mx-0"},r.a.createElement(L.i,{className:"pl-0"},r.a.createElement(L.u,{className:"col-lg-3 mr-1",id:"project",disabled:B.isFetching,value:D,onChange:function(e){return Ga(e,C,o,"location")}},r.a.createElement("option",{value:"todos"},"Todos locais"),B.data&&B.data.data.map(function(e,t){return r.a.createElement("option",{value:e.location,key:t},e.locationName)}))),H&&H.data&&r.a.createElement(Va,{fileName:"lista de emissoes por local-COVID-19",fileTitle:"COVID-Total Emiss\xf5es de Certificados por Local",tableColums:q,tableData:W})),r.a.createElement(L.G,null)),H.isFetching&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"p-0 pb-3"},r.a.createElement(_t,{isFetching:H.isFetching,tableData:W,tableColumns:q})),H.data&&r.a.createElement(xt,{totalPages:H.data,setCurrentPage:I,currentPage:T,rowsPerPage:F,setRowsPerPage:z})))))};function en(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return tn(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?tn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var an=function(){var e=Object(p.useLocation)().search,t=new URLSearchParams(e),a=Object(k.a)().t,o=Object(p.useHistory)(),i=function(){return{startDate:t.get("startDate")?new Date(t.get("startDate")):void 0,endDate:t.get("endDate")?new Date(t.get("endDate")):void 0}},l=Object(n.useState)(i().startDate),c=Object(d.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(i().endDate),f=Object(d.a)(u,2),h=f[0],g=f[1],b=Object(n.useState)(i().startDate),E=Object(d.a)(b,2),v=E[0],y=E[1],N=Object(n.useState)(i().endDate),w=Object(d.a)(N,2),j=w[0],O=w[1],x=Object(n.useState)(t.get("username")||""),S=Object(d.a)(x,2),D=S[0],C=S[1],_=Object(n.useState)(0),P=Object(d.a)(_,2),T=P[0],I=P[1],A=Object(n.useState)(10),U=Object(d.a)(A,2),F=U[0],z=U[1],R=function(){return["referencia","data_hora","usuario","id_beneficiario","nome_completo_beneficiario"]},G=Z("/api/covid/immunization/certificate/print?page=".concat(T+1,"&pageSize=").concat(F).concat(v&&j?"&startDate=".concat(Ca(new Date(v)),'"&endDate=').concat(Ca(new Date(j))):"").concat(D&&"allusers"!==D?"&userId=".concat(D):"")),M=G.data,H=G.error,B=G.isFetching,q=Z("api/covid/immunization/certificate/users");if(H||q.error)return r.a.createElement(ye,null);console.log(["referencia","data_hora","usuario","id_beneficiario","nome_completo_beneficiario"]);var W=function(){var e=[];if(!1===B){var t,a=en(M.data);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.push([n.identifier,n.printDate,n.username,n.documentNumber,n.name+" "+n.surname])}}catch(r){a.e(r)}finally{a.f()}}return e};return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.c,{small:!0,className:"h-100 mb-4 mt-4"},r.a.createElement(L.d,{className:" py-0 "},r.a.createElement(L.G,{className:"mb-4"},r.a.createElement(L.i,{sm:"6",className:"d-flex mb-2 mb-sm-0 mt-4"},r.a.createElement(Ra,{startDate:s,setStartDate:m,endDate:h,setEndDate:g})),r.a.createElement(L.i,{sm:"6",className:"text-right"},r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mb-2 mb-sm-0 mt-4 mr-1",onClick:function(){return function(){if(h){y(Ca(new Date(s))),O(Ca(new Date(h)));var e=new URL(window.location.href);e.searchParams.set("startDate",Ca(new Date(s))),e.searchParams.set("endDate",Ca(new Date(h))),o.push(e.search)}else alert("You need endDate")}()}},a("atualizar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"})),r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mb-2 mb-sm-0 mt-4",onClick:function(){return m(void 0),g(void 0),y(void 0),O(void 0),void Ma(o,"startDate","endDate")}},a("limpar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"})))))),r.a.createElement(L.G,null,r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0},r.a.createElement(L.f,{style:{flexDirection:"column"},className:"border-bottom d-flex align-itmes-center"},r.a.createElement("h6",{className:"m-0 mb-2"},"Hist\xf3rico de Emiss\xf5es de Certificados"),r.a.createElement(L.G,{className:"w-100 d-flex align-items-center mx-0"},r.a.createElement(L.i,{className:"pl-0"},r.a.createElement(L.u,{className:"col-lg-3 mr-1",id:"project",value:D,onChange:function(e){return function(e){var t=new URL(window.location.href),a=new URLSearchParams(t.search);C(e.target.value),"allusers"===e.target.value?a.has("username")&&(t.searchParams.delete("username"),o.push(t.search||t.pathname)):(t.searchParams.set("username",e.target.value),o.push(t.search))}(e)}},r.a.createElement("option",{value:"allusers"},"Todos utilizadores"),!1===q.isFetching&&q.data.data.map(function(e,t){return r.a.createElement("option",{value:e.id,key:t},e.displayName)}))),M&&r.a.createElement(Va,{fileName:"lista de historico-COVID-19",fileTitle:"COVID-Hist\xf3rico de Emiss\xf5es de Certificados",tableData:W,tableColums:R})),r.a.createElement(L.G,null)),B&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"p-0 pb-3"},r.a.createElement(_t,{isFetching:B,error:H,tableColumns:R,tableData:W})),!1===B&&r.a.createElement(xt,{totalPages:M,setCurrentPage:I,currentPage:T,rowsPerPage:F,setRowsPerPage:z})))))},nn=function(){var e=Object(p.useRouteMatch)().path,t=Object(p.useHistory)(),a=Object(p.useLocation)();return Object(n.useEffect)(function(){"/covid"===e&&a.pathname.split("/").length<3&&t.replace("/covid/covid-home")},[e]),r.a.createElement(f.a,null,r.a.createElement(p.Switch,null,[{path:"/:module/covid-home",exact:!0,layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_covid"]},r.a.createElement(Ta,null))}},{path:"/:module/report-user",exact:!0,layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_covid"]},r.a.createElement(Xa,null))}},{path:"/:module/report-site",exact:!0,layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_covid"]},r.a.createElement($a,null))}},{path:"/:module/covid-linelist",exact:!0,layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_covid"]},r.a.createElement(an,null))}}].map(function(e,t){return r.a.createElement(p.Route,{key:t,path:e.path,exact:e.exact,component:j(function(t){return r.a.createElement(e.layout,t,r.a.createElement(e.component,t))})})})))},rn=a(183),on=a.n(rn),ln=a(872),cn=a(866),sn=a(144),mn=a.n(sn),un=a(857),dn=a(871),fn=a(891),pn=a(892),hn=a(882),gn=a(890),bn=a(887),En=a(888),vn=a(883),yn=a(889),Nn=a(243),wn=a.n(Nn),jn=function(e){return e.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)};function On(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return xn(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?xn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function Sn(){Sn=function(){return t};var e,t={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function m(e,t,a,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),l=new L(n||[]);return r(i,"_invoke",{value:S(e,a,l)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",g={};function b(){}function E(){}function v(){}var y={};s(y,i,function(){return this});var N=Object.getPrototypeOf,w=N&&N(N(_([])));w&&w!==a&&n.call(w,i)&&(y=w);var j=v.prototype=b.prototype=Object.create(y);function O(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){a("next",e,i,l)},function(e){a("throw",e,i,l)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return a("throw",e,i,l)})}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t(function(t,r){a(e,n,t,r)})}return o=o?o.then(r,r):r()}})}function S(t,a,n){var r=d;return function(o,i){if(r===p)throw Error("Generator is already running");if(r===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=D(l,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=u(t,a,n);if("normal"===s.type){if(r=n.done?h:f,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}function D(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,D(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=u(r,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,g;var i=o.arg;return i?i.done?(a[t.resultName]=i.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,g):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(t){if(t||""===t){var a=t[i];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return E.prototype=v,r(j,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:E,configurable:!0}),E.displayName=s(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},O(x.prototype),s(x.prototype,l,function(){return this}),t.AsyncIterator=x,t.async=function(e,a,n,r,o){void 0===o&&(o=Promise);var i=new x(m(e,a,n,r),o);return t.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},O(j),s(j,c,"Generator"),s(j,i,function(){return this}),s(j,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return l.type="throw",l.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),k(a),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;k(a)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:_(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function Dn(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var Cn=function(){var e=Object(R.a)(Sn().mark(function e(t,a,n){return Sn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.delete("".concat(W,"/api/cmam/admins/delete/").concat(t),V()).then(function(){n(!a)});case 2:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),kn=function(e,t,a){var r,o=[],i=On(e);try{var l=function(){var e,i,l=r.value;o.push((e=l.email,i=n.createElement(wn.a,{onClick:function(){return Cn(l.id,t,a)},style:{color:"red"}}),{name:e,protein:i}))};for(i.s();!(r=i.n()).done;)l()}catch(c){i.e(c)}finally{i.f()}return o};var Ln=[{id:"name",numeric:!1,disablePadding:!1,label:""},{id:"protein",numeric:!0,disablePadding:!1,label:""}];function _n(e){e.onSelectAllClick;var t=e.order,a=e.orderBy;e.numSelected,e.rowCount,e.onRequestSort;return n.createElement(bn.a,null,n.createElement(En.a,null,Ln.map(function(e){return n.createElement(hn.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:a===e.id&&t})})))}function Pn(e){var t=e.numSelected,a=Object(k.a)().t;return n.createElement(vn.a,{sx:Object(y.a)({pl:{sm:2},pr:{xs:1,sm:1}},t>0&&{bgcolor:function(e){return Object(un.a)(e.palette.primary.main,e.palette.action.activatedOpacity)}})},t>0?n.createElement(yn.a,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div"},t," selected"):n.createElement("h6",{style:{fontWeight:"500"},className:"m-0 mb-2 mt-3"},a("receptores")),t>0?n.createElement(we.a,{title:"Delete"},n.createElement(wt.a,null,n.createElement(wn.a,null))):n.createElement(n.Fragment,null))}function Tn(e){var t=e.emails,a=e.loader,r=e.setRefetch,o=e.refetch,i=(e.setOpen,n.useState("asc")),l=Object(d.a)(i,2),c=l[0],s=l[1],m=n.useState("calories"),u=Object(d.a)(m,2),f=u[0],p=u[1],h=n.useState([]),g=Object(d.a)(h,2),b=g[0],E=g[1],v=n.useState(0),y=Object(d.a)(v,2),N=y[0],w=y[1],j=n.useState(!1),O=Object(d.a)(j,2),x=(O[0],O[1],n.useState(5)),S=Object(d.a)(x,2),D=S[0],C=S[1],_=Object(n.useState)(""),P=Object(d.a)(_,2),T=P[0],I=P[1],A=Object(k.a)().t,U=function(){var e=Object(R.a)(Sn().mark(function e(){return Sn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.post("".concat(W,"/api/cmam/admins"),{email:T},V()).then(function(){ee("Email registado com sucesso"),I(""),r(!o)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return n.createElement(dn.a,{sx:{width:"100%"}},n.createElement(ue.a,{sx:{width:"100%",mb:2}},n.createElement(Pn,{numSelected:b.length}),n.createElement(Ct.a,{className:"d-flex",sm:12,lg:5,xl:4,style:{marginLeft:"3.4px"}},n.createElement(L.t,{type:"email",value:T,onChange:function(e){return I(e.target.value)},placeholder:"Email",className:"mb-2 mr-2"}),n.createElement(L.b,{onClick:U,disabled:!jn(T),style:{height:"35.5px"},outline:!0},A("salvar"))),n.createElement(gn.a,null,a&&n.createElement(jt.a,null),n.createElement(fn.a,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"small"},n.createElement(_n,{numSelected:b.length,order:c,orderBy:f,onSelectAllClick:function(e){if(e.target.checked){var a=kn(t,o,r).map(function(e){return e.name});E(a)}else E([])},onRequestSort:function(e,t){s(f===t&&"asc"===c?"desc":"asc"),p(t)},rowCount:kn(t,o,r).length}),n.createElement(pn.a,null,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(kn(t,o,r),function(e,t){return"desc"===e?function(e,a){return Dn(e,a,t)}:function(e,a){return-Dn(e,a,t)}}(c,f)).slice(N*D,N*D+D).map(function(e,t){var a="enhanced-table-checkbox-".concat(t);return n.createElement(En.a,{hover:!0,key:e.name},n.createElement(hn.a,{component:"th",id:a,scope:"row"},e.name),n.createElement(hn.a,{align:"right"},e.protein))})))),n.createElement(Ot.a,{rowsPerPageOptions:[5,10,25],component:"div",count:kn(t,o,r).length,rowsPerPage:D,page:N,onPageChange:function(e,t){w(t)},onRowsPerPageChange:function(e){C(parseInt(e.target.value,10)),w(0)}})),n.createElement($,null))}function In(){In=function(){return t};var e,t={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function m(e,t,a,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),l=new L(n||[]);return r(i,"_invoke",{value:S(e,a,l)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",g={};function b(){}function E(){}function v(){}var y={};s(y,i,function(){return this});var N=Object.getPrototypeOf,w=N&&N(N(_([])));w&&w!==a&&n.call(w,i)&&(y=w);var j=v.prototype=b.prototype=Object.create(y);function O(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){a("next",e,i,l)},function(e){a("throw",e,i,l)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return a("throw",e,i,l)})}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t(function(t,r){a(e,n,t,r)})}return o=o?o.then(r,r):r()}})}function S(t,a,n){var r=d;return function(o,i){if(r===p)throw Error("Generator is already running");if(r===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=D(l,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=u(t,a,n);if("normal"===s.type){if(r=n.done?h:f,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}function D(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,D(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=u(r,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,g;var i=o.arg;return i?i.done?(a[t.resultName]=i.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,g):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(t){if(t||""===t){var a=t[i];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return E.prototype=v,r(j,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:E,configurable:!0}),E.displayName=s(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},O(x.prototype),s(x.prototype,l,function(){return this}),t.AsyncIterator=x,t.async=function(e,a,n,r,o){void 0===o&&(o=Promise);var i=new x(m(e,a,n,r),o);return t.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},O(j),s(j,c,"Generator"),s(j,i,function(){return this}),s(j,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return l.type="throw",l.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),k(a),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;k(a)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:_(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}var An=function(){var e=Object(k.a)().t,t=Object(n.useState)([]),a=Object(d.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),c=Object(d.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(!1),f=Object(d.a)(u,2),p=f[0],h=f[1],g=Object(n.useState)(!1),b=Object(d.a)(g,2),E=b[0],v=b[1],y=function(){var e=Object(R.a)(In().mark(function e(){return In().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,H.a.get("".concat(W,"/api/cmam/admins"),V()).then(function(e){i(e.data.admins)}).catch(function(e){h(!0)});case 3:m(!1);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();if(Object(n.useEffect)(function(){y()},[E]),p)return r.a.createElement(ye,null);var N=Z("/api/cmam/nextSync"),w=Z("/api/cmam/lastSync");return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.G,{className:"w-100 pt-4 mx-0"},r.a.createElement(L.i,{xs:12,className:"px-0"},r.a.createElement(L.c,null,r.a.createElement(L.d,{className:"px-5"},r.a.createElement(L.G,{className:"w-100 mx-0 px-0"},N.isFetching||w.isFetching?r.a.createElement(r.a.Fragment,null,r.a.createElement(L.i,{lg:5,className:"mt-1 p-3  d-flex pb-4 border-right"},r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center justify-content-center"},r.a.createElement(ln.a,{variant:"circular",width:40,height:40})),r.a.createElement(L.i,{lg:"10",md:"10",sm:"10",className:"ml-3"},r.a.createElement("h6",{className:"history-title",style:{fontSize:"0.9rem"}},r.a.createElement(ln.a,{variant:"text",sx:{fontSize:"1rem"}})),r.a.createElement("p",{style:{fontSize:"0.9rem"}},r.a.createElement(ln.a,{variant:"text",sx:{fontSize:"1rem"}}))," "),r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center"})),r.a.createElement(L.i,{lg:5,className:"mt-1 p-3  d-flex pb-4"},r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center justify-content-center"},r.a.createElement(ln.a,{variant:"circular",width:40,height:40})),r.a.createElement(L.i,{lg:"10",md:"10",sm:"10",className:"ml-3"},r.a.createElement("h6",{className:"history-title",style:{fontSize:"0.9rem"}},r.a.createElement(ln.a,{variant:"text",sx:{fontSize:"1rem"}})),r.a.createElement("p",{style:{fontSize:"0.9rem"}},r.a.createElement(ln.a,{variant:"text",sx:{fontSize:"1rem"}}))," "),r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(L.i,{lg:5,className:"mt-1 p-3  d-flex pb-4 border-right"},r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center justify-content-center"},r.a.createElement(cn.a,{className:"next-sync_avatar"},r.a.createElement(on.a,null))),r.a.createElement(L.i,{lg:"10",md:"10",sm:"10",className:"ml-3"},r.a.createElement("h6",{className:"history-title",style:{fontSize:"0.9rem"}},e("ultimo-sync")),r.a.createElement("p",{style:{fontSize:"0.9rem"}},w.data.data.date)," "),r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center"})),r.a.createElement(L.i,{lg:5,className:"mt-1 p-3  d-flex pb-4"},r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center justify-content-center"},r.a.createElement(cn.a,{className:"next-sync"},r.a.createElement(mn.a,null))),r.a.createElement(L.i,{lg:"10",md:"10",sm:"10",className:"ml-3"},r.a.createElement("h6",{className:"history-title",style:{fontSize:"0.9rem"}},e("proximo-sync")),r.a.createElement("p",{style:{fontSize:"0.9rem"}},N.data.data.date)," "),r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center"})))))))),r.a.createElement(L.G,{className:"w-100 py-4 mx-0"},r.a.createElement(L.i,{xs:12,className:"px-0"},r.a.createElement(Tn,{emails:o,loader:s,refetch:E,setRefetch:v}))))},Un=function(e){var t=e.isFetching,a=e.tableColumns,o=e.tableData,i=e.isRowClickable,l=e.allData,c=e.isRowHover,s=(e.fetching,Object(k.a)().t),m=Object(n.useState)(!1),u=Object(d.a)(m,2),f=u[0],p=u[1],h=Object(n.useState)(null),g=Object(d.a)(h,2),b=g[0],E=g[1],v=function(e){p(!f),E(e)};return r.a.createElement("table",{id:"table-to-xls-export",className:"table mb-0"},r.a.createElement("thead",{className:"bg-light"},r.a.createElement("tr",null,a().map(function(e,t){return r.a.createElement("th",{style:{whiteSpace:"nowrap"},scope:"col",className:"border-0"},s(e))}))),r.a.createElement("tbody",{className:"w-100"},!1===t&&(0===o().length?r.a.createElement("tr",null,r.a.createElement("td",{colspan:a().length,className:"text-center"},r.a.createElement("h4",null,"N\xe3o foram encontrados dados"))):o().map(function(e,t){return r.a.createElement("tr",Object.assign({},i&&{onClick:function(){return v(t)}},{key:t,className:"---"===e[4]&&"fill__tableRow"}),e.map(function(e,n){return r.a.createElement("td",{className:"".concat(c,"-").concat(n),style:{maxWidth:"200px"},"data-label":a()[n]},e,c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"show-period_details"},r.a.createElement("span",null,s("periodos")),r.a.createElement("div",{className:"mt-2"},r.a.createElement("span",null,JSON.parse(l[t].details).periods)))))}),f&&r.a.createElement(Lt,{data:l[b],open:f,setOpen:v}))}))))};function Fn(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return zn(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?zn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var Rn=function(){var e=Object(p.useLocation)().search,t=new URLSearchParams(e),a=Object(k.a)().t,o=Object(p.useHistory)(),i=function(){return{startDate:t.get("startDate")?new Date(t.get("startDate")):void 0,endDate:t.get("endDate")?new Date(t.get("endDate")):void 0}},l=Object(n.useState)(i().startDate),c=Object(d.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(i().endDate),f=Object(d.a)(u,2),h=f[0],g=f[1],b=Object(n.useState)(i().startDate),E=Object(d.a)(b,2),v=E[0],y=E[1],N=Object(n.useState)(i().endDate),w=Object(d.a)(N,2),j=w[0],O=w[1],x=Object(n.useState)(0),S=Object(d.a)(x,2),D=S[0],C=S[1],_=Object(n.useState)(10),P=Object(d.a)(_,2),T=P[0],I=P[1],A=Object(n.useState)(t.get("status")||""),U=Object(d.a)(A,2),F=U[0],z=U[1],R=function(){return F&&"todos"!==F?"&status=".concat(F):""},G=function(){return v&&j?"&startDate=".concat(Ca(new Date(v)),'"&endDate=').concat(Ca(new Date(j))):""},M=Z("/api/cmam/monitoring/imports?page=".concat(D+1,"&pageSize=").concat(T).concat(G()).concat(R())),H=M.data,B=M.error,q=M.isFetching,W=Z("/api/cmam/monitoring/imports?paging=".concat(!1,G()).concat(R())),Y=W.data,V=(W.error,W.isFetching);if(B)return r.a.createElement(ye,null);var J=function(){return["Data e hora","Unidades Sanit\xe1rias","Produtos","Per\xedodos","Estado"]},X=function(e){return e.split(";").length},K=function(){var e=[];if(Y){var t,a=Fn(Y.data);try{for(a.s();!(t=a.n()).done;){var n=t.value,r=JSON.parse(n.details);e.push([n.created_at,r.numOrgUnits,r.numVariables,X(r.periods),n.status])}}catch(o){a.e(o)}finally{a.f()}}return e};return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.c,{small:!0,className:"h-100 mb-4 mt-4"},r.a.createElement(L.d,{className:" py-0 "},r.a.createElement(L.G,{className:"mb-4"},r.a.createElement(L.i,{sm:"6",className:"d-flex mb-2 mb-sm-0 mt-4"},r.a.createElement(Ra,{startDate:s,setStartDate:m,endDate:h,setEndDate:g})),r.a.createElement(L.i,{sm:"6",className:"text-right"},r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mb-2 mb-sm-0 mt-4 mr-1",onClick:function(){return function(){if(h){y(Ca(new Date(s))),O(Ca(new Date(h)));var e=new URL(window.location.href);e.searchParams.set("startDate",Ca(new Date(s))),e.searchParams.set("endDate",Ca(new Date(h))),o.push(e.search)}else alert("You need endDate")}()}},a("atualizar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"})),r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mb-2 mb-sm-0 mt-4",onClick:function(){return m(void 0),g(void 0),y(void 0),O(void 0),void Ma(o,"startDate","endDate")}},a("limpar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"})))))),r.a.createElement(L.G,null,r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0,className:"mb-4"},r.a.createElement(L.f,{style:{flexDirection:"column"},className:"border-bottom d-flex align-itmes-center"},r.a.createElement("h6",{className:"m-0 mb-2"},a("historico-import")),r.a.createElement(L.G,{className:"w-100 d-flex align-items-center mx-0"},r.a.createElement(L.i,{className:"pl-0"},r.a.createElement(L.u,{className:"col-lg-3 mr-1",id:"project",value:F,onChange:function(e){return Ga(e,z,o,"status")}},r.a.createElement("option",{value:"todos"},a("filtrar-estado")),["SUCCESS","ERROR","WARNING"].map(function(e,t){return r.a.createElement("option",{value:e},e)}))),H&&r.a.createElement(Va,{fileName:"lista de historico-CMAM",fileTitle:"CMAM-Hist\xf3rico de Importa\xe7\xf5es",tableColums:J,tableData:K,isFetching:V}))),q&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"p-0 pb-3"},r.a.createElement(_t,{isRowHover:!0,allData:H&&H.data,isRowClickable:!0,isFetching:q,error:B,tableColumns:function(){return["data-hora","us","produtos","periodos","estado"]},tableData:function(){var e=[];if(!1===q){var t,a=Fn(H.data);try{for(a.s();!(t=a.n()).done;){var n=t.value,r=JSON.parse(n.details);e.push([n.created_at,r.numOrgUnits,r.numVariables,X(r.periods),n.status])}}catch(o){a.e(o)}finally{a.f()}}return e}}),r.a.createElement("div",{className:"d-none"},r.a.createElement(Un,{isFetching:q,error:B,tableColumns:J,tableData:K}))),!1===q&&r.a.createElement(xt,{totalPages:H,setCurrentPage:C,currentPage:D,rowsPerPage:T,setRowsPerPage:I})))))};function Gn(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return Mn(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Mn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var Hn=function(){var e=Object(k.a)().t,t=Object(p.useHistory)(),a=Object(p.useLocation)().search,o=new URLSearchParams(a),i=Object(n.useState)(0),l=Object(d.a)(i,2),c=l[0],s=l[1],m=Object(n.useState)(10),u=Object(d.a)(m,2),f=u[0],h=u[1],g=Object(n.useState)(o.get("area")||""),b=Object(d.a)(g,2),E=b[0],v=b[1],y=Object(n.useState)(o.get("status")||""),N=Object(d.a)(y,2),w=N[0],j=N[1],O=Object(n.useState)(o.get("hasInventoryDataElement")||""),x=Object(d.a)(O,2),S=x[0],D=x[1],C=function(){return E&&"todos"!==E?"&area=".concat(E):""},_=function(){return w&&"todos"!==w?"&status=".concat(w):""},P=function(){return"false"===S||"true"===S?"&hasInventoryDataElement=".concat(S):""},T=Z("/api/cmam/products?include=area&page=".concat(c+1,"&pageSize=").concat(f).concat(C()).concat(_()).concat(P())),I=T.data,A=T.error,U=T.isFetching,F=Z("/api/cmam/products?include=area&paging=".concat(!1,C()).concat(_()).concat(P())),z=F.data,R=(F.error,F.isFetching),G=Z("/api/cmam/areas?paging=false");if(A||G.error)return r.a.createElement(ye,null);var M=function(){return["\xc1rea","C\xf3digo","Descri\xe7\xe3o","Estado","Metadado DHIS2"]},H=function(){var e=[];if(z){var t,a=Gn(z.products);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.push([n.areas[0]?n.areas[0].name:"---",n.code,n.name,n.status,n.inventoryDataElementName||"---"])}}catch(r){a.e(r)}finally{a.f()}}return e};return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.G,{className:"h-100 mb-4 mt-4"},r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0},r.a.createElement(L.f,{style:{flexDirection:"column"},className:"border-bottom d-flex align-itmes-center"},r.a.createElement("h6",{className:"m-0 mb-2"},e("lista-produto")),r.a.createElement(L.G,{className:"w-100 d-flex align-items-center mx-0"},r.a.createElement(L.i,{className:"pl-0"},r.a.createElement(L.u,{disabled:G.isFetching,className:"col-lg-3 mr-1",id:"project",value:E,onChange:function(e){return Ga(e,v,t,"area")}},r.a.createElement("option",{value:"todos"},e("filtrar-area")),G.data&&G.data.areas.map(function(e){return r.a.createElement("option",{value:e.code},e.name)})),r.a.createElement(L.u,{disabled:G.isFetching,className:"col-lg-3 mr-1",id:"project",value:w,onChange:function(e){return Ga(e,j,t,"status")}},r.a.createElement("option",{value:"todos"},e("filtrar-estado")),r.a.createElement("option",{value:"Activo"},e("activo")),r.a.createElement("option",{value:"Inactivo"},e("inactivo"))),r.a.createElement(L.u,{disabled:G.isFetching,className:"col-lg-3  mr-1",id:"project",value:S,onChange:function(e){return Ga(e,D,t,"hasInventoryDataElement")}},r.a.createElement("option",{value:"todos"},e("mostrat-todos")),r.a.createElement("option",{value:"true"},e("mapeados")),r.a.createElement("option",{value:"false"},e("nao-mapeados")))),I&&r.a.createElement(Va,{fileName:"lista de produtos-CMAM",fileTitle:"CMAM-Lista de Produtos",tableColums:M,tableData:H,isFetching:R}))),U&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"p-0 pb-3"},r.a.createElement(_t,{isFetching:U,error:A,tableColumns:function(){return["area","codigo","desc","estado","dde"]},tableData:function(){var e,t=[],a=Gn(I.products);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push([n.areas[0]?n.areas[0].name:"---",n.code,n.name,n.status,n.inventoryDataElementName?r.a.createElement("a",{target:"blank",className:"data-element__link",href:"".concat(I.serverUrl,"//dhis-web-maintenance/index.html#/edit/dataElementSection/dataElement/").concat(n.inventoryDataElementId)},n.inventoryDataElementName):"---"])}}catch(o){a.e(o)}finally{a.f()}return t}}),r.a.createElement("div",{className:"d-none"},r.a.createElement(Un,{isFetching:U,error:A,tableColumns:M,tableData:H}))),!1===U&&r.a.createElement(xt,{totalPages:I,setCurrentPage:s,currentPage:c,rowsPerPage:f,setRowsPerPage:h})))))};function Bn(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return qn(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?qn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var Wn=function(){var e=Object(p.useHistory)(),t=Object(p.useLocation)().search,a=new URLSearchParams(t),o=Object(k.a)().t,i=Object(n.useState)(0),l=Object(d.a)(i,2),c=l[0],s=l[1],m=Object(n.useState)(10),u=Object(d.a)(m,2),f=u[0],h=u[1],g=Object(n.useState)(a.get("province")||""),b=Object(d.a)(g,2),E=b[0],v=b[1],y=Object(n.useState)(a.get("district")||""),N=Object(d.a)(y,2),w=N[0],j=N[1],O=Object(n.useState)(a.get("hasMapping")||""),x=Object(d.a)(O,2),S=x[0],D=x[1],C=function(){return E&&"todos"!==E?"&province=".concat(E):""},_=function(){return w&&"todos"!==w?"&district=".concat(w):""},P=function(){return"false"===S||"true"===S?"&hasMapping=".concat(S):""},T=Z("/api/cmam/mfl?page=".concat(c+1,"&pageSize=").concat(f).concat(C()).concat(_()).concat(P())),I=T.data,A=T.error,U=T.isFetching,F=Z("/api/cmam/mfl?paging=".concat(!1,C()).concat(_()).concat(P())),z=F.data,R=(F.error,F.isFetching),G=Z("api/cmam/mfl?level=province"),M=Z("api/cmam/mfl?parent=".concat(E,"&level=district"));if(A)return r.a.createElement(ye,null);var H=function(){return["Prov\xedncia","Distrito","Unidade Sanit\xe1ria","C\xf3digo da Unidade Sanit\xe1ria","Unidade Sanit\xe1ria na CMAM"]},B=function(){var e=[];if(z){var t,a=Bn(z.organisationUnits);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.push([n.Province,n.District,n.HealthFacilityName,n.HealthFacilityCode,n.cmamName||"---"])}}catch(r){a.e(r)}finally{a.f()}}return e};return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.G,{className:"h-100 mb-4 mt-4"},r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0},r.a.createElement(L.f,{style:{flexDirection:"column"},className:"border-bottom d-flex align-itmes-center"},r.a.createElement("h6",{className:"m-0 mb-2"},o("lista-us")),r.a.createElement(L.G,{className:"w-100 d-flex align-items-center mx-0"},r.a.createElement(L.i,{className:"pl-0"},r.a.createElement(L.u,{className:"col-lg-3 mr-1",value:E,disabled:G.isFetching,onChange:function(t){return Ga(t,v,e,"province")},id:"project"},r.a.createElement("option",{value:"todos"},o("filtrar-provincia")),G.data&&G.data.organisationUnits.map(function(e,t){return r.a.createElement("option",{value:e.id},e.name)})),r.a.createElement(L.u,{className:"col-lg-3 mr-1",value:w,disabled:M.isFetching,onChange:function(t){return Ga(t,j,e,"district")},id:"project"},r.a.createElement("option",{value:"todos"},o("filtrar-distrito")),M.data&&M.data.organisationUnits.map(function(e,t){return r.a.createElement("option",{value:e.id},e.name)})),r.a.createElement(L.u,{className:"col-lg-3 mr-1",value:S,onChange:function(t){return Ga(t,D,e,"hasMapping")},id:"project"},r.a.createElement("option",{value:"todos"},o("mostrat-todos")),r.a.createElement("option",{value:"true"},o("mapeados")),r.a.createElement("option",{value:"false"},o("nao-mapeados")))),I&&r.a.createElement(Va,{fileName:"lista de unidades sanitarias-CMAM",fileTitle:"CMAM-Lista de Unidades Sanit\xe1rias",tableColums:H,tableData:B,isFetching:R})),r.a.createElement(L.G,null)),U&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"p-0 pb-3"},r.a.createElement(_t,{isFetching:U,error:A,tableColumns:function(){return["provincia","distrito","unidade-sanitaria","codigo-us","us-cmam"]},tableData:function(){var e,t=[],a=Bn(I.organisationUnits);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push([n.Province,n.District,n.HealthFacilityName,n.HealthFacilityCode,n.cmamName||"---"])}}catch(r){a.e(r)}finally{a.f()}return t}}),r.a.createElement("div",{className:"d-none"},r.a.createElement(Un,{isFetching:U,error:A,tableColumns:H,tableData:B}))),!1===U&&r.a.createElement(xt,{totalPages:I,setCurrentPage:s,currentPage:c,rowsPerPage:f,setRowsPerPage:h})))))},Yn=function(){var e=Object(p.useRouteMatch)().path,t=Object(p.useHistory)(),a=Object(p.useLocation)();return Object(n.useEffect)(function(){"/cmam"===e&&a.pathname.split("/").length<3&&t.replace("/cmam/cmam-home")},[e]),r.a.createElement(f.a,null,r.a.createElement(p.Switch,null,[{path:"/:module/settings",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_cmam"]},r.a.createElement(An,null))}},{path:"/:module/cmam-home",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_cmam"]},r.a.createElement(Rn,null))}},{path:"/:module/product",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_cmam"]},r.a.createElement(Hn,null))}},{path:"/:module/orgunit",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_cmam"]},r.a.createElement(Wn,null))}}].map(function(e,t){return r.a.createElement(p.Route,{key:t,path:e.path,exact:e.exact,component:j(function(t){return r.a.createElement(e.layout,t,r.a.createElement(e.component,t))})})})))};var Vn=function(e,t){return{options:{grid:{top:20,right:30,bottom:30,left:60},xAxis:{type:"category",splitLine:{show:!1},data:e||["Sem acontecimentos nas datas selecionadas!"]},yAxis:{boundaryGap:[0,"100%"],splitLine:{show:!1},type:"value"},series:[{data:t||[],type:"line",smooth:!0}],tooltip:{trigger:"axis"}}}};var Zn=a(346);var Jn=function(e){var t=function(e){var t=[],a=[];if(e.data)for(var n=0;n<e.data.length;n++){var r=e.data[n].period.substring(0,4)+"-"+e.data[n].period.substring(4,6)+"-"+e.data[n].period.substring(6,8);t.push(r),a.push(e.data[n].total)}return{dados:t,yAxis:a}}(e.data),a=t.dados,n=t.yAxis,o=Vn(a,n).options,i=Object(k.a)().t;return r.a.createElement(L.c,{small:!0,className:"h-100"},r.a.createElement(L.f,{className:"border-bottom d-flex"},r.a.createElement("h6",{className:"my-0 ml-0 mr-auto"},i("emissoes_ao_longo_do_tempo"))),r.a.createElement(L.d,{className:"pt-0"},a.length>0?r.a.createElement(Zn.a,{option:o,style:{width:"100%",height:"400px"}}):r.a.createElement("div",{style:{padding:"15px"}},"Sem registos nos ultimos 30 dias")))};var Xn=a(336),Kn=a.n(Xn),Qn=(a(538),a(598)),$n=a(184),er=a.n($n);function tr(e){var t=e.isFetching,a=e.handleClickMenu,n=e.cancelSelection,o=e.selectedOu,i="";return o&&(i=o.label),r.a.createElement("div",{style:{margin:"0 0 0 -1px",padding:8,width:"250px"}},i?r.a.createElement("div",{style:{display:"flex",alignItems:"center",minHeight:28,marginTop:8,marginBottom:4,paddingLeft:5,borderLeft:"2px solid #2A628F",color:"#2A628F"}},r.a.createElement("div",null,i),r.a.createElement("div",{style:{flexGrow:1,display:"flex",justifyContent:"center"}},r.a.createElement(wt.a,{style:{float:"right",width:24,height:24,padding:0,color:"#E84855"},onClick:n},r.a.createElement(er.a,null)))):r.a.createElement(oe.a,{onClick:a,style:{fontSize:11,fontWeight:425,paddingBottom:5,cursor:"pointer",width:"160px",textTransform:"capitalize"},variant:"outlined"},t?r.a.createElement(Rt.a,{size:"19px"}):"Select Organisation Unit"))}var ar=function(e){var t=e.selectedOu,a=e.setSelectedOu,o=Z("api/mfl/treeview"),i=o.data,l=o.isFetching,c=[],s=Object(n.useState)([]),m=Object(d.a)(s,2),u=m[0],f=m[1],p=Object(n.useState)([]),h=Object(d.a)(p,2),g=h[0],b=h[1],E=r.a.useState(null),v=Object(d.a)(E,2),y=v[0],N=v[1],w=function(){N(null)};function j(e,t){t&&delete e.organisationUnitGroups,e.label=e.name,e.value=e.id}i&&i.organisationUnits&&(j(i.organisationUnits[0]),i.organisationUnits[0].children.map(function(e){j(e),e.children.map(function(e){j(e),e.children.map(function(e){j(e,!0)})})}),c=[i.organisationUnits[0]]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(tr,{isFetching:l,cancelSelection:function(){b([]),a("")},handleClickMenu:function(e){N(e.currentTarget)},selectedOu:t}),r.a.createElement(Qn.a,{style:{borderRadius:"100px"},onClose:w,open:Boolean(y),anchorEl:y,anchorOrigin:{vertical:"top",horizontal:"left"}},r.a.createElement("div",{style:{margin:"5px"}},r.a.createElement(Kn.a,{icons:{check:r.a.createElement("i",{class:"material-icons"},"check_box"),uncheck:r.a.createElement("i",{class:"material-icons"},"check_box_outline_blank"),halfCheck:r.a.createElement("i",{class:"material-icons"},"indeterminate_check_box"),expandClose:r.a.createElement("i",{class:"material-icons"},"keyboard_arrow_right"),expandOpen:r.a.createElement("i",{class:"material-icons"},"expand_more"),expandAll:r.a.createElement("i",{class:"material-icons"},"expand_more"),collapseAll:r.a.createElement("i",{class:"material-icons"},"expand_more"),parentClose:r.a.createElement("i",{class:"material-icons"},"folder"),parentOpen:r.a.createElement("i",{class:"material-icons"},"folder_open"),leaf:r.a.createElement("i",{class:"material-icons"},"folder")},nodes:c,checked:g,nativeCheckboxes:!0,expanded:u,onCheck:function(e,t){return function(e,t){b([t.value]),a({label:t.label,childrens:t.children,level:t.level,id:t.value}),w()}(0,t)},onExpand:function(e){return f(e)}}))))};function nr(e){var t=e.setSDate,a=e.setEDate,o=e.eDate,i=e.sDate,l=e.setSelectedOu,c=e.selectedOu,s=Object(k.a)().t,m=Object(p.useHistory)(),u=Object(n.useState)(i),f=Object(d.a)(u,2),h=f[0],g=f[1],b=Object(n.useState)(o),E=Object(d.a)(b,2),v=E[0],y=E[1];return r.a.createElement(L.c,{className:"h-100 mb-4"},r.a.createElement(L.d,{className:" py-0 "},r.a.createElement(L.G,{className:"mb-4"},r.a.createElement(L.i,{className:"d-flex mb-2 mb-sm-0 mt-4"},r.a.createElement(ar,{setSelectedOu:l,selectedOu:c}),r.a.createElement(Ra,{startDate:h,setStartDate:g,endDate:v,setEndDate:y})),r.a.createElement(L.i,{sm:"6",className:"text-right"},r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mb-2 mb-sm-0 mt-4 mr-1",onClick:function(){return function(){if(h&&v){h!=i&&t(Ca(new Date(h))),v!=o&&a(Ca(new Date(v)));var e=new URL(window.location.href);e.searchParams.set("startDate",Ca(new Date(h))),e.searchParams.set("endDate",Ca(new Date(v))),m.push(e.search)}else alert("You need end date and start date")}()}},s("atualizar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"})),r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mb-2 mb-sm-0 mt-4",onClick:function(){return t(void 0),a(void 0),void Ma(m,"startDate","endDate")}},s("limpar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"}))))))}var rr=function(){var e=Object(p.useLocation)().search,t=new URLSearchParams(e);return{startDate:t.get("startDate")?new Date(t.get("startDate")):void 0,endDate:t.get("endDate")?new Date(t.get("endDate")):void 0,params:t}};var or=function(){var e=Object(k.a)().t,t=["TODAY","THIS_WEEK","THIS_MONTH","THIS_YEAR"],a=rr(),o=a.endDate,i=a.startDate,l=Object(n.useState)(i),c=Object(d.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(o),f=Object(d.a)(u,2),p=f[0],h=f[1],g=Object(n.useState)(""),b=Object(d.a)(g,2),E=b[0],v=b[1],y=function(e){var t=e.sDate,a=e.eDate,n="";function r(e){return e.length<2?"0"+e:e}function o(){n="period=";for(var e=(new Date).getFullYear(),t=2010;t<=e;){var a=t++;n+=a.toString()+";"}return n.substring(0,n.length-1)}return{generatePeriod:function(e){return e?o():t&&a?n="startDate=".concat(Ca(t),"&endDate=").concat(Ca(a)):o()},last30Days:function(){n="period=";for(var e=1;e<=30;e++){var t=new Date((new Date).setDate((new Date).getDate()-e)),a=t.getFullYear().toString();a+=r(t.getMonth().toString()),a+=r(t.getDate().toString()),n+=a+";"}return n.substring(0,n.length-1)}}}({sDate:s,eDate:p}),N=y.generatePeriod,w=y.last30Days,j=[],O=Z("api/monitoring/srcev/events/summaries?orgUnit=LJX5GuypkKy&".concat(N(!0),"&filterDimentions=pe")),x=Z("api/monitoring/srcev/events/summaries?orgUnit=LJX5GuypkKy&period=".concat(w())),S=Z("api/monitoring/srcev/events/summaries?orgUnit=".concat(function(e){if(e){if(e.childrens){for(var t="",a=0;a<e.childrens.length;a++)t+=e.childrens[a].id+";";return t}return"Mo\xe7ambique"==e.label?"sIPZ84RBqMM;p9UiH23JS15;wqmPoqfG93D;pPGhROE8IIC;L6z1mqFYii6;IvsKEydqOUT;f5F6xAskA05;cai3Uyc1ngZ;UN0aH8CjbZJ;coEbHyby9NV;eCer1W6aTne":e.id}return"sIPZ84RBqMM;pk9UiH23JS15;wqmPoqfG93D;pPGhROE8IIC;L6z1mqFYii6;IvsKEydqOUT;f5F6xAskA05;cai3Uyc1ngZ;UN0aH8CjbZJ;coEbHyby9NV;eCer1W6aTne"}(E),"&").concat(N(!1),"&filterDimentions=pe")),D=function(e){var t=[],a=[],n=[];if(e)for(var r=0;r<e.data.length;r++)t.push(e.data[r].orgUnitName),a.push(e.data[r].total),n.push(Ia[r]);return{lables:t,prints:a,backgroundColor:n}}(S.data),C=D.lables,_=D.prints,P=D.backgroundColor;return t.map(function(e){j[e]=Z("api/monitoring/srcev/events/summaries?orgUnit=LJX5GuypkKy&period=".concat(e))}),x.isFetching||O.isFetching||x.isFetching||S.isFetching?r.a.createElement(xa,{open:!0}):x.error?r.a.createElement(ye,null):(j&&t.map(function(e){j[e]&&j[e].data&&(j[e].data.data[0]?j[e]=j[e].data.data[0].total:j[e]=0)}),O.data&&O.data.data&&(console.log(O.data,"111"),O.data=O.data.data[0].total),r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(Nt,{title:e("total_emitidos"),className:"text-sm-left mb-3"}),r.a.createElement(L.G,null,function(e,t,a){return[{label:e("hoje"),value:t.TODAY?t.TODAY:0,increase:"",chartLabels:[null,null,null,null,null,null,null],attrs:{md:"6",sm:"6"},datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(0, 184, 216, 0.1)",borderColor:"rgb(0, 184, 216)",data:[1,2,1,3,5,4,7]}]},{label:e("semana"),value:t.THIS_WEEK?t.THIS_WEEK:0,increase:"",chartLabels:[null,null,null,null,null,null,null],attrs:{md:"6",sm:"6"},datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(23,198,113,0.1)",borderColor:"rgb(23,198,113)",data:[1,2,3,3,3,4,4]}]},{label:e("mes"),value:t.THIS_MONTH?t.THIS_MONTH:0,increase:"",chartLabels:[null,null,null,null,null,null,null],attrs:{md:"4",sm:"6"},datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(255,180,0,0.1)",borderColor:"rgb(255,180,0)",data:[2,3,3,3,4,3,3]}]},{label:e("ano"),value:t.THIS_YEAR?t.THIS_YEAR:0,increase:!1,decrease:!0,chartLabels:[null,null,null,null,null,null,null],attrs:{md:"4",sm:"6"},datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(255,65,105,0.1)",borderColor:"rgb(255,65,105)",data:[1,7,1,3,1,4,8]}]},{label:e("total"),value:a||0,increase:!1,decrease:!0,chartLabels:[null,null,null,null,null,null,null],attrs:{md:"4",sm:"6"},datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgb(0,123,255,0.1)",borderColor:"rgb(0,123,255)",data:[3,2,3,2,4,5,4]}]}]}(e,j,O.data).map(function(e,t){return r.a.createElement(L.i,Object.assign({className:"col-lg mb-4",key:t},e.attrs),r.a.createElement(Pa,{id:"small-stats-".concat(t),variation:"1",chartData:e.datasets,chartLabels:e.chartLabels,label:e.label,value:e.value,percentage:e.percentage,increase:e.increase,decrease:e.decrease}))})),r.a.createElement(nr,{selectedOu:E,setSelectedOu:v,setEDate:h,setSDate:m,sDate:s,eDate:p}),r.a.createElement(L.G,null,r.a.createElement(L.i,{lg:"12",md:"12",sm:"12",className:"mb-4"},r.a.createElement(Jn,{data:x.data}))),r.a.createElement(L.G,null,r.a.createElement(L.i,{lg:"12",md:"12",sm:"12",className:"mb-4"},r.a.createElement(Aa,{lables:C,dados:_,cores:P,title:"Sum\xe1rio de \xf3bitos sincronizados",chartType:"bar"})))))};function ir(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return lr(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?lr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var cr=function(){var e=Object(p.useHistory)(),t=rr(),a=t.endDate,o=t.startDate,i=t.params,l=Object(n.useState)(0),c=Object(d.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(10),f=Object(d.a)(u,2),h=f[0],g=f[1],b=Object(n.useState)(i.get("status")||""),E=Object(d.a)(b,2),v=E[0],y=E[1],N=Object(n.useState)(o),w=Object(d.a)(N,2),j=w[0],O=w[1],x=Object(n.useState)(a),S=Object(d.a)(x,2),D=S[0],C=S[1],k=Object(n.useState)({label:"Mo\xe7ambique",id:null}),_=Object(d.a)(k,2),P=_[0],T=_[1],I=Z("api/monitoring/srcev/events?orgUnit=".concat(P.id?P.id:"LJX5GuypkKy","&page=").concat(s+1,"&pageSize=").concat(h).concat(j&&D?"&startDate=".concat(Ca(new Date(j)),"&endDate=").concat(Ca(new Date(D))):"").concat(v&&"todos"!==v?"&status=".concat(v):"")),A=I.data,U=I.error,F=I.isFetching;if(U)return r.a.createElement(ye,null);var z=function(){return["Event Date","OU Name","Status","Status Date"]},R=function(){var e=[];if(!1===F){var t,a=ir(A.data);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.push([n.eventDate,n.orgUnitName,""===n.status?"---":n.status,""===n.statusDate?"---":n.statusDate])}}catch(r){a.e(r)}finally{a.f()}}return e};return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement("div",{style:{paddingTop:"20px"}},r.a.createElement(nr,{selected:"LJX5GuypkKy",selectedOu:P,setSelectedOu:T,setEDate:C,setSDate:O,sDate:j,eDate:D})),r.a.createElement(L.G,null,r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0,className:"mb-4"},r.a.createElement(L.f,{className:"border-bottom"},r.a.createElement("h6",{className:"m-0 mb-2"},"Tickets by status"),r.a.createElement(L.G,{className:"w-100"},r.a.createElement(L.i,null,r.a.createElement(L.u,{className:"col-lg-3 mr-1",id:"project",value:v,onChange:function(t){return Ga(t,y,e,"status")}},r.a.createElement("option",{value:"todos"},"Filtrar pelo estado"),["Consultado","Usado"].map(function(e,t){return r.a.createElement("option",{value:e},e)}))),A&&r.a.createElement(Va,{fileName:"lista de historico-SIRCEV",fileTitle:"SIRCEV-Lista de Hist\xf3rico",tableData:R,tableColumns:z})),r.a.createElement(L.G,null)),F&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"p-0 pb-3"},r.a.createElement(Un,{fetching:!1,isFetching:F,error:U,tableColumns:z,tableData:R})),!1===F&&r.a.createElement(xt,{totalPages:A,setCurrentPage:m,currentPage:s,rowsPerPage:h,setRowsPerPage:g})))))},sr=function(){var e=Object(p.useRouteMatch)().path,t=Object(p.useHistory)(),a=Object(p.useLocation)();return Object(n.useEffect)(function(){"/sircev"===e&&a.pathname.split("/").length<3&&t.replace("/sircev/sircev-home")},[e]),r.a.createElement(f.a,null,r.a.createElement(p.Switch,null,[{path:"/:module/sircev-home",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_sircev"]},r.a.createElement(or,null))}},{path:"/:module/sircev-linelist",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_sircev"]},r.a.createElement(cr,null))}}].map(function(e,t){return r.a.createElement(p.Route,{key:t,path:e.path,exact:e.exact,component:j(function(t){return r.a.createElement(e.layout,t,r.a.createElement(e.component,t))})})})))},mr=function(e){var t=e.chartInstance;return r.a.createElement(we.a,{title:"Baixar gr\xe1fico para png"},r.a.createElement(wt.a,{onClick:function(){return function(){var e=document.createElement("a");e.href=t.toBase64Image(),e.download="my_file_name.png",e.click()}()},style:{color:"#566179"},"aria-label":"upload picture",component:"label"},r.a.createElement(Na.a,null)))},ur=["#FFDB6F","#F2D7D5","#EBDEF0","#90DFFE","#DA4229","#FFCA28","#FFDB6F","#AA861A","#BD5A0A","#E53A35","#912C1B","#601D12","#910E54","#B55E8D","#783E5E","#D3915B","#E68170","#ED7B78","#d5f5e3","#abebc6","#82e0aa","#58d68d","#2ecc71","#28b463","#239b56","#1d8348","#186a3b","#e9f7ef","#d4efdf","#a9dfbf","#7dcea0","#17a589","#148f77","#117864","#0e6251","#e8f6f3","#d0ece7","#a2d9ce","#73c6b6","#45b39d","#16a085","#138d75","#117a65","#0e6655","#0b5345","#eafaf1","#F2D7D5","#EBDEF0","#D4E6F1","#D1F2EB","#FDEBD0","#f95d6a","#FCF3CF","#D4EFDF","#fad7a0","#a9dfbf","#e8f8f5","#d1f2eb","#a3e4d7","#76d7c4","#48c9b0","#1abc9c","#52be80","#27ae60","#229954","#1e8449","#196f3d","#145a32","#ebf5fb","#d6eaf8","#aed6f1","#85c1e9","#5dade2","#3498db","#2e86c1","#2874a6","#21618c","#1b4f72","#eaf2f8","#d4e6f1","#a9cce3","#7fb3d5","#5499c7","#2980b9","#2471a3","#1f618d","#1a5276","#154360","#f5eef8","#ebdef0","#d7bde2","#c39bd3","#af7ac5","#9b59b6","#884ea0","#76448a","#633974","#512e5f","#f4ecf7","#e8daef","#d2b4de","#bb8fce","#a569bd","#8e44ad","#7d3c98","#6c3483","#5b2c6f","#4a235a","#fef9e7","#fcf3cf","#f9e79f","#f7dc6f","#f4d03f","#f1c40f","#d4ac0d","#b7950b","#9a7d0a","#7d6608","#fef5e7","#fdebd0","#fad7a0","#f8c471","#f5b041","#f39c12","#d68910","#b9770e","#9c640c","#7e5109","#fdf2e9","#fae5d3","#f5cba7","#f0b27a","#eb984e","#e67e22","#ca6f1e","#af601a","#935116","#784212","#fbeee6","#f6ddcc","#edbb99","#e59866","#dc7633","#d35400","#ba4a00","#a04000","#873600","#6e2c00","#fdedec","#fadbd8","#f5b7b1","#f1948a","#ec7063","#e74c3c","#cb4335","#b03a2e","#943126","#78281f","#f9ebea","#f2d7d5","#e6b0aa","#d98880","#cd6155","#c0392b","#a93226","#922b21","#7b241c","#641e16","#fdfefe","#fbfcfc","#f7f9f9","#f4f6f7","#f0f3f4","#ecf0f1","#d0d3d4","#b3b6b7","#979a9a","#7b7d7d","#f8f9f9","#f2f3f4","#e5e7e9","#d7dbdd","#cacfd2","#bdc3c7","#a6acaf","#909497","#797d7f","#626567","#f4f6f6","#eaeded","#d5dbdb","#bfc9ca","#aab7b8","#95a5a6","#839192","#717d7e","#5f6a6a","#4d5656","#f2f4f4","#e5e8e8","#ccd1d1","#b2babb","#99a3a4","#7f8c8d","#707b7c","#616a6b","#515a5a","#424949","#ebedef","#d6dbdf","#aeb6bf","#85929e","#5d6d7e","#34495e","#2e4053","#283747","#212f3c","#1b2631","#eaecee","#d5d8dc","#abb2b9","#808b96","#566573","#2c3e50","#273746","#212f3d","#1c2833","#17202a"];function dr(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return fr(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?fr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var pr=function(e){var t="",a=e.split(" ");if(1===(a=a.filter(function(e){return"de"!==e})).length)return a;if(a.length>2?(t+=a[0].substring(0,1).toUpperCase()+". ",t+=a[1].substring(0,1).toUpperCase()+". ",a.splice(0,2)):(t+=a[0].substring(0,1).toUpperCase()+". ",a.shift()),a.length){var n,r=dr(a);try{for(r.s();!(n=r.n()).done;){t+=n.value+" "}}catch(o){r.e(o)}finally{r.f()}}return t},hr=function(e){var t=e.loader,a=e.data,o=e.chartType,i=e.title,l=e.height,c=e.legend,s=Object(n.useRef)(null),m=Object(n.useState)(null),u=Object(d.a)(m,2),f=u[0],p=u[1],h=Object(n.useState)("View in full screen"),g=Object(d.a)(h,2),b=g[0],E=(g[1],function(){var e=[],t=[],n=[];if(a){for(var r=0;r<a.length;r++)e.push(pr(a[r].name)||a[r].id),t.push(a[r].organisationUnits),n.push(ur[r]);return{datasets:[{hoverBorderColor:"#ffffff",label:"",data:t,backgroundColor:n}],labels:e}}return[]});Object(n.useEffect)(function(){if(a)if(f)f.data=E(),f.update();else{var e=new Ea.a(s.current,{type:o,data:E(),options:Object(y.a)({},{legend:{position:"bottom",labels:{padding:10,boxWidth:20},display:c},cutoutPercentage:0,tooltips:{custom:!1,mode:"index",position:"nearest"}})});p(e)}},[a]);return r.a.createElement(L.c,{className:"".concat(b.replace(/\s+/g,"")," h-100")},r.a.createElement(L.f,{className:"d-flex"},r.a.createElement("h6",{className:"my-0 ml-0 mr-auto"},i),r.a.createElement(mr,{chartInstance:f})),t&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"d-flex"},r.a.createElement("canvas",{height:l,style:{backgroundColor:"white"},ref:s,className:"blog-users-by-device m-auto"})))},gr=a(117),br=a.n(gr),Er=(a(540),a(347)),vr=a(337),yr=function(e){switch(e){case"Centro de Sa\xfade Rural":return"marker-rural";case"Centro de Sa\xfade Urbano":return"marker-urban";case"Privado":return"marker-private";default:return"marker-default"}},Nr=a(338),wr=a.n(Nr),jr=a(339),Or=a.n(jr),xr=a(340),Sr=a.n(xr),Dr=a(341),Cr=a.n(Dr),kr=a(146);function Lr(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return _r(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function _r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var Pr=function(e){var t=e.coordinates,a=e.container,o=(e.zoom,e.legend),i=Object(k.a)().t,l=Object(p.useHistory)(),c=Object(p.useLocation)();br.a.accessToken="pk.eyJ1IjoieGVyaW5kYTE3IiwiYSI6ImNsMWdlMTBvbzAyOTYzb281dmE1eWhuNjQifQ.8U0O0SU8PabXzATSf6hGNA";var s=Object(n.useRef)(null);console.log("coordinates",t);var m=function(e){if(e.forEach(function(e){for(var t=0;t<e.length;t++)e[t]=Number(e[t])}),e)var t=kr.points(e),a=kr.center(t);return a.geometry.coordinates},u=[];if(t)for(var d=0;d<t.length;d++)t[d].hasOwnProperty("Geometry")&&t[d].Geometry&&"Point"===t[d].Geometry.type&&u.push(t[d].Geometry.coordinates);if(t&&t.length>2){u.push(u[0]);var f=kr.polygon([u]),h=kr.transformScale(f,1.4)}return Object(n.useEffect)(function(){var e=new br.a.Map({container:a,style:"mapbox://styles/mapbox/navigation-day-v1",center:t&&u.length>0?m(u):[34.760742,-19.311143],zoom:7,attributionControl:!1,preserveDrawingBuffer:!0});e.addControl(new br.a.FullscreenControl),e.addControl(new br.a.NavigationControl,"top-right"),e.addControl(new Er.a({styles:vr}),"top-left");var n=new br.a.Popup;if(t){var r,o=Lr(t);try{var i=function(){var a=r.value,o=document.createElement("div");o.className=yr(a.HealthFacilityType),(c.pathname.toString().includes("details")||t.length<10)&&(o.className="".concat(yr(a.HealthFacilityType)," increase-marker")),a.Geometry&&"Point"===a.Geometry.type&&new br.a.Marker(o).setLngLat(a.Geometry.coordinates).addTo(e),c.pathname.toString().includes("details")||o.addEventListener("click",function(){l.push("/mfl/mfl-details/".concat(a.id))}),o.addEventListener("mouseover",function(){n.setLngLat(a.Geometry.coordinates).setHTML("<h6>".concat(a.HealthFacilityName,"</h6>- ").concat(a.HealthFacilityType||"Unidade Sanit\xe1ria"," <br />- ").concat(At(a.Province),", ").concat(At(a.District))).addTo(e)}),o.addEventListener("mouseleave",function(){n.remove()})};for(o.s();!(r=o.n()).done;)i()}catch(s){o.e(s)}finally{o.f()}}t&&t.length>2&&e.fitBounds(kr.bbox(h))},[t]),r.a.createElement("div",null,r.a.createElement("div",{id:a,className:"",ref:s}),t&&r.a.createElement("div",{class:"legend-box shadow-sm",hidden:o},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("img",{className:"marker-legend",src:wr.a,alt:"Rural"})," ",r.a.createElement("small",null,i("centro-rural"))),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("img",{className:"marker-legend",src:Or.a,alt:"Urbano"})," ",r.a.createElement("small",null,i("centro-urbano"))),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("img",{className:"marker-legend",src:Sr.a,alt:"Privado"})," ",r.a.createElement("small",null,i("centro-privado"))),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("img",{className:"marker-legend",src:Cr.a,alt:"Predefinido"})," ",r.a.createElement("small",null,i("nao-definido")))))};a(582);function Tr(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return Ir(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ir(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var Ar=function(){var e=Object(k.a)().t,t=window.location.search,a=new URLSearchParams(t),o=Object(n.useState)(a.get("name")||""),i=Object(d.a)(o,2),l=i[0],c=i[1],s=Object(n.useState)(a.get("province")||""),m=Object(d.a)(s,2),u=m[0],f=m[1],p=Object(n.useState)(a.get("district")||""),h=Object(d.a)(p,2),g=h[0],b=h[1],E=Z("/api/mfl/orgUnits?paging=".concat(!1,l?"&name=".concat(l):"").concat(u&&"todos"!==u?"&province=".concat(u):"").concat(g&&"todos"!==g?"&district=".concat(g):"")),v=Z("/api/cmam/mfl"),y=v.data,N=v.error,w=v.isFetching,j=Z("api/cmam/mfl?level=province"),O=Z("api/cmam/mfl?parent=".concat(u,"&level=district")),x=Z("api/mfl/dashboard".concat(g&&"todos"!==g?"?parent=".concat(g):u&&"todos"!==u?"?parent=".concat(u):""));if(Object(n.useEffect)(function(){!function(){var e=[];if(y){var t,a=Tr(y.organisationUnits);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.push([n.name,n.province])}}catch(r){a.e(r)}finally{a.f()}}}()},[w]),N||j.error)return r.a.createElement(ye,null);return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4 py-4"},r.a.createElement(L.c,{small:!0,className:"h-100 mb-4"},r.a.createElement(L.d,{className:""},r.a.createElement(L.G,{className:""},r.a.createElement(L.i,{className:"col-lg-7  d-flex justify-content-start"},r.a.createElement(L.u,{className:"ml-1",value:u,onChange:function(e){f(e.target.value),b("")},id:"project"},r.a.createElement("option",{value:"todos"},e("filtrar-provincia")),j.data&&j.data.organisationUnits.map(function(e,t){return r.a.createElement("option",{value:e.id},e.name)})),r.a.createElement(L.u,{className:"ml-1",value:g,onChange:function(e){return b(e.target.value)},id:"project"},r.a.createElement("option",{value:"todos"},e("filtrar-distrito")),O.data&&O.data.organisationUnits.map(function(e,t){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement(L.i,{className:"col-lg-5 d-flex justify-content-start"},y&&(l||u||g)&&r.a.createElement("div",null,r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mr-2",onClick:function(){f(""),b(""),c("")}},e("limpar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"}))))))),r.a.createElement(L.G,null,r.a.createElement(L.i,{lg:"7",md:"7",sm:"7",className:"mb-4"},r.a.createElement(L.c,{small:!0},r.a.createElement(L.f,{style:{flexDirection:"column"},className:"border-bottom"},r.a.createElement(L.G,{className:"d-flex align-items-center px-0"},r.a.createElement(L.i,{lg:"7",md:"7",sm:"7",className:""},r.a.createElement("h6",{className:"m-0"},e("mapa-us"))),r.a.createElement(L.i,{lg:"5",md:"5",sm:"5",className:"px-0 pr-2"},r.a.createElement(L.w,{seamless:!0,className:""},r.a.createElement(L.x,{type:"prepend"},r.a.createElement(L.y,null,r.a.createElement("i",{class:"material-icons"},"search"))),r.a.createElement(L.t,{className:"",placeholder:e("pesquisar-us-nome"),id:"usName",value:l,onChange:function(e){return c(e.target.value)}})))))),E.isFetching&&r.a.createElement(jt.a,null),r.a.createElement(Pr,{container:"mapHome",coordinates:E.data&&E.data.organisationUnits,zoom:4.61,legend:!1})),r.a.createElement(L.i,{lg:"5",md:"5",sm:"5",className:"mb-4"},r.a.createElement("div",{style:{height:"50%"}},r.a.createElement(hr,{title:"Unidades Sanit\xe1rias por propriedade",height:"182",data:x.data?x.data.healthFacilitySector:null,loader:w,chartType:"pie",legend:!0})),r.a.createElement("div",{className:"mt-4",style:{height:"50%"}},r.a.createElement(hr,{title:e("us-por-nivel"),height:"182",data:x.data?x.data.healthFacilityLevels:null,loader:w,chartType:"pie",legend:!0}))),r.a.createElement(L.i,{lg:"12",md:"12",sm:"12",className:"my-4"},r.a.createElement("div",{className:"mb-3"},r.a.createElement(hr,{title:e("us-por-tipo"),height:"110",data:x.data?x.data.healthFacilityTypes:null,loader:w,chartType:"bar",legend:!1})))))},Ur=a(100),Fr=a.n(Ur);function zr(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return Rr(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Rr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function Rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var Gr=function(){var e=Object(k.a)().t,t=Object(p.useHistory)(),a=window.location.search,o=new URLSearchParams(a),i=Object(n.useState)(0),l=Object(d.a)(i,2),c=l[0],s=l[1],m=Object(n.useState)(10),u=Object(d.a)(m,2),f=u[0],h=u[1],g=Object(n.useState)(o.get("name")||""),b=Object(d.a)(g,2),E=b[0],v=b[1],y=Object(n.useState)(o.get("province")||""),N=Object(d.a)(y,2),w=N[0],j=N[1],O=Object(n.useState)(o.get("district")||""),x=Object(d.a)(O,2),S=x[0],D=x[1],C=Object(n.useState)(o.get("classification")||""),_=Object(d.a)(C,2),P=_[0],T=_[1],I=function(){return E?"&name=".concat(E):""},A=function(){return w&&"todos"!==w?"&province=".concat(w):""},U=function(){return S&&"todos"!==S?"&district=".concat(S):""},F=function(){return P&&"todos"!==P?"&healthFacilityClassification=".concat(P):""},z=Z("/api/mfl/orgUnits?page=".concat(c+1,"&pageSize=").concat(f).concat(I()).concat(A()).concat(U()).concat(F())),R=z.data,G=z.error,M=z.isFetching,H=Z("/api/mfl/orgUnits?paging=".concat(!1,I()).concat(A()).concat(U()).concat(F())),B=H.data,q=(H.error,H.isFetching),W=Z("api/cmam/mfl?level=province"),Y=Z("api/cmam/mfl?parent=".concat(w,"&level=district")),V=Z("/api/mfl/healthFacilityClassifications?paging=false");if(G)return r.a.createElement(ye,null);var J=function(e){return r.a.createElement(wt.a,{style:{marginTop:-10},onClick:function(){return t.push("/mfl/mfl-details/".concat(e))}},r.a.createElement(Fr.a,{fontSize:"small",color:"primary"}))},X=function(){return["C\xf3digo da US","US","Prov\xedncia","Distrito","Classifica\xe7\xe3o","Tipo","N\xedvel","Coordenadas"]},K=function(){var e,t=[];if(B){var a,n=zr(B.organisationUnits);try{for(n.s();!(a=n.n()).done;){var r=a.value;t.push([r.HealthFacilityCode,r.HealthFacilityName,r.Province||"---",r.District||"---",r.HealthFacilityClassification||"---",r.HealthFacilityType||"---",r.HealthFacilityLevel||"---",(e=r.Geometry,e?"(".concat(e.coordinates[0],", ").concat(e.coordinates[1],")"):"---")])}}catch(o){n.e(o)}finally{n.f()}}return t};return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.G,{className:"h-100 mb-4 mt-4"},r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0},r.a.createElement(L.f,{style:{flexDirection:"column"},className:"border-bottom d-flex align-itmes-center"},r.a.createElement("h6",{className:"m-0 mb-2"},e("lista-us")),r.a.createElement(L.G,{className:"w-100 d-flex align-items-center mx-0"},r.a.createElement(L.i,{className:"col-lg-9  d-flex justify-content-start"},r.a.createElement(L.t,{className:"",placeholder:"Digitar nome...",id:"usName",value:E,onChange:function(e){return v(e.target.value)}}),r.a.createElement(L.u,{className:"ml-1",value:w,onChange:function(e){j(e.target.value),D("")},id:"project"},r.a.createElement("option",{value:"todos"},e("filtrar-provincia")),W.data&&W.data.organisationUnits.map(function(e,t){return r.a.createElement("option",{value:e.id},e.name)})),r.a.createElement(L.u,{className:"ml-1",value:S,onChange:function(e){return D(e.target.value)},id:"project"},r.a.createElement("option",{value:"todos"},e("filtrar-distrito")),Y.data&&Y.data.organisationUnits.map(function(e,t){return r.a.createElement("option",{value:e.id},e.name)})),r.a.createElement(L.u,{className:"ml-1",value:P,onChange:function(e){return T(e.target.value)},id:"project"},r.a.createElement("option",{value:"todos"},"Filtrar por classifica\xe7\xe3o"),V.data&&V.data.healthFacilityClassifications.map(function(e,t){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement(L.i,{className:"col-lg-3 d-flex justify-content-end"},R&&(E||w||S||P)&&r.a.createElement("div",null,r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mr-2",onClick:function(){v(""),j(""),D(""),T("")}},e("limpar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"}))),R&&r.a.createElement(Va,{fileName:"Lista de Unidades Sanit\xe1rias - MFL-External",fileTitle:"MFL-Lista de Unidades Sanit\xe1rias",tableColums:X,tableData:K,isFetching:q}))),r.a.createElement(L.G,null)),M&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"p-0 pb-3"},r.a.createElement(_t,{isFetching:M,error:G,tableColumns:function(){return["C\xf3digo da US","US","Prov\xedncia","Distrito",""]},tableData:function(){var e=[];if(R.organisationUnits){var t,a=zr(R.organisationUnits);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.push([n.HealthFacilityCode,n.HealthFacilityName,n.Province,n.District,J(n.id)])}}catch(r){a.e(r)}finally{a.f()}}return e}}),r.a.createElement("div",{className:"d-none"},r.a.createElement(Un,{isFetching:M,error:G,tableColumns:X,tableData:K}))),!1===M&&r.a.createElement(xt,{totalPages:R,setCurrentPage:s,currentPage:c,rowsPerPage:f,setRowsPerPage:h})))))},Mr=(a(584),function(){var e="Alzira de Francisco de Xerinda".split(" ");return e.splice(0,2),console.log(e),r.a.createElement(L.k,{fluid:!0,className:"main-content-container py-4 px-4"},r.a.createElement(L.G,{className:"mb-4"},r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0,className:"mb-4 p-4"},r.a.createElement("h4",null,"API Documentation"),r.a.createElement("span",{className:"my-3"},"Master Facility List - External (MFL)",r.a.createElement("br",null)," Esta documenta\xe7\xe3o \xe9 referente aos recursos dispon\xedveis para obter a lista actualizada das Unidades Sanit\xe1rias utilizadas pelo Minist\xe9rio da Sa\xfade."),r.a.createElement("div",{className:"mt-3"},r.a.createElement("div",null,r.a.createElement("h5",{className:"text-dark"}," I. Unidades Sanit\xe1rias"),r.a.createElement("div",{className:"pl-3 mb-5"},r.a.createElement("div",{className:"my-4"},r.a.createElement("h6",null,"1. Obter lista de todas unidades sanit\xe1rias"),r.a.createElement("p",null,"Permite listar todas as unidades sanit\xe1rias. Nesta lista pode se encontrar, apenas as unidades organizacionais do n\xedvel 4."),r.a.createElement("blockquote",{className:"block-quote my-2 d-flex"},r.a.createElement("p",{className:"text-dark fw-bold"},"GET"),r.a.createElement("a",{href:"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits",target:"_blank",rel:"noopener noreferrer",className:"endpoint text-primary ml-3"},"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits"))),r.a.createElement("div",{className:"my-4"},r.a.createElement("h6",null,"1.1. Pagina\xe7\xe3o"),r.a.createElement("p",null," ","\xc9 poss\xedvel especificar o tamanho da resposta e o n\xfamero da p\xe1gina pretendido, bastando indicar os par\xe2metros"," ",r.a.createElement("code",null,"paging"),", ",r.a.createElement("code",null,"page")," e"," ",r.a.createElement("code",null,"pageSize"),". Caso estes par\xe2metros n\xe3o sejam indicados, \xe9 trazida por defeito uma lista com as primeiras 50 unidades."),r.a.createElement("blockquote",{className:"block-quote my-2 d-flex"},r.a.createElement("p",{className:"text-dark fw-bold"},"GET"),r.a.createElement("a",{href:"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?paging=true&page=1&pageSize=20",target:"_blank",rel:"noopener noreferrer",className:"endpoint text-primary ml-3"},"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?paging=true&page=1&pageSize=20"))),r.a.createElement("div",{className:"my-4"},r.a.createElement("h6",null,"2. Detalhes de unidade sanit\xe1ria"),r.a.createElement("p",null,"Retorna os dados de uma unidade sanit\xe1ria. \xc9 necess\xe1rio adicionar o par\xe2metro ",r.a.createElement("code",null,"id")," na url, correspondente \xe0 uma unidade espec\xedfica, podendo se observar todos detalhes da mesma."),r.a.createElement("blockquote",{className:"block-quote my-2 d-flex"},r.a.createElement("p",{className:"text-dark fw-bold"},"GET"),r.a.createElement("a",{href:"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?id=TBqm5OayabT",target:"_blank",rel:"noopener noreferrer",className:"endpoint text-primary ml-3"},"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?id=TBqm5OayabT"))))),r.a.createElement("div",null,r.a.createElement("h5",{className:"text-dark"}," II. Par\xe2metros e filtros"),r.a.createElement("div",{className:"pl-3 mb-5"},r.a.createElement("div",{className:"my-4"},r.a.createElement("h6",null,"1. Unidades Sanit\xe1rias por hist\xf3rico de cria\xe7\xe3o"),r.a.createElement("p",null,r.a.createElement("code",null,"createdStartDate"),": Permite aplicar o filtro pela data de cria\xe7\xe3o, retornando todas unidades sanit\xe1rias com data de cria\xe7\xe3o maior ou igual a fornecida."),r.a.createElement("blockquote",{className:"block-quote my-2 d-flex"},r.a.createElement("p",{className:"text-dark fw-bold"},"GET"),r.a.createElement("a",{href:"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?createdStartDate=2022-02-01",target:"_blank",rel:"noopener noreferrer",className:"endpoint text-primary ml-3"},"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?createdStartDate=2022-02-01")),r.a.createElement("p",null,r.a.createElement("code",null,"createdEndDate"),": Permite aplicar o filtro pela data de cria\xe7\xe3o, retornando todas unidades sanit\xe1rias com data de cria\xe7\xe3o menor ou igual a fornecida."),r.a.createElement("blockquote",{className:"block-quote my-2 d-flex"},r.a.createElement("p",{className:"text-dark fw-bold"},"GET"),r.a.createElement("a",{href:"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?createdEndDate=2022-07-01",target:"_blank",rel:"noopener noreferrer",className:"endpoint text-primary ml-3"},"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?createdEndDate=2022-07-01")),r.a.createElement("p",null,"Podemos usar a data inicial e final de cria\xe7\xe3o para definir intervalo de dados a ser retornado."),r.a.createElement("blockquote",{className:"block-quote my-2 d-flex"},r.a.createElement("p",{className:"text-dark fw-bold"},"GET"),r.a.createElement("a",{href:"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?createdStartDate=2022-02-01&createdEndDate=2022-07-01",target:"_blank",rel:"noopener noreferrer",className:"endpoint text-primary ml-3"},"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?createdStartDate=2022-02-01&createdEndDate=2022-07-01"))),r.a.createElement("div",{className:"my-5"},r.a.createElement("h6",null,"2. Unidades Sanit\xe1rias por hist\xf3rico de actualiza\xe7\xe3o"),r.a.createElement("p",null,r.a.createElement("code",null,"lastUpdatedStartDate"),": Permite aplicar o filtro pela data de cria\xe7\xe3o, retornando todas unidades sanit\xe1rias com data de cria\xe7\xe3o maior ou igual a fornecida."),r.a.createElement("blockquote",{className:"block-quote my-2 d-flex"},r.a.createElement("p",{className:"text-dark fw-bold"},"GET"),r.a.createElement("a",{href:"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?lastUpdatedStartDate=2022-07-07",target:"_blank",rel:"noopener noreferrer",className:"endpoint text-primary ml-3"},"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?lastUpdatedStartDate=2022-07-07")),r.a.createElement("p",null,r.a.createElement("code",null,"lastUpdatedEndDate"),": Permite aplicar o filtro pela data de cria\xe7\xe3o, retornando todas unidades sanit\xe1rias com data de cria\xe7\xe3o menor ou igual a fornecida."),r.a.createElement("blockquote",{className:"block-quote my-2 d-flex"},r.a.createElement("p",{className:"text-dark fw-bold"},"GET"),r.a.createElement("a",{href:"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?lastUpdatedEndDate=2022-08-07",target:"_blank",rel:"noopener noreferrer",className:"endpoint text-primary ml-3"},"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?lastUpdatedEndDate=2022-08-07")),r.a.createElement("p",null,"Podemos usar a data inicial e final de cria\xe7\xe3o para definir intervalo de dados a ser retornado."),r.a.createElement("blockquote",{className:"block-quote my-2 d-flex"},r.a.createElement("p",{className:"text-dark fw-bold"},"GET"),r.a.createElement("a",{href:"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?lastUpdatedStartDate=2022-07-07&lastUpdatedEndDate=2022-08-07",target:"_blank",rel:"noopener noreferrer",className:"endpoint text-primary ml-3"},"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?lastUpdatedStartDate=2022-07-07&lastUpdatedEndDate=2022-08-07"))),r.a.createElement("div",{className:"my-4"},r.a.createElement("h6",null,"3. Unidades Sanit\xe1rias por tipo de resposta"),r.a.createElement("p",null,r.a.createElement("code",null,"fileType"),": Este par\xe2metro permite definir o formato da resposta [json, csv, xml], que por defeito \xe9 json, ou seja, no caso de n\xe3o ser indicado."),r.a.createElement("blockquote",{className:"block-quote my-2 d-flex"},r.a.createElement("p",{className:"text-dark fw-bold"},"GET"),r.a.createElement("a",{href:"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?fileType=xml",target:"_blank",rel:"noopener noreferrer",className:"endpoint text-primary ml-3"},"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?fileType=xml"))),r.a.createElement("div",{className:"my-5"},r.a.createElement("h6",null,"4. Filtro por nome da Unidade Sanit\xe1ria"),r.a.createElement("p",null,r.a.createElement("code",null,"name"),": Permite obter uma ou lista de unidades sanit\xe1rias que tenham ou contenham o nome igual ao fornecido no par\xe2metro."),r.a.createElement("blockquote",{className:"block-quote my-2 d-flex"},r.a.createElement("p",{className:"text-dark fw-bold"},"GET"),r.a.createElement("a",{href:"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?name=Centro de Exames M\xe9dicos",target:"_blank",rel:"noopener noreferrer",className:"endpoint text-primary ml-3"},"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?name=Centro de Exames M\xe9dicos"))),r.a.createElement("div",{className:"my-5"},r.a.createElement("h6",null,"5. Filtro por classifica\xe7\xe3o da Unidade Sanit\xe1ria"),r.a.createElement("p",null,r.a.createElement("code",null,"classification"),": Permite obter a lista de unidades sanit\xe1rias que possuam a classifica\xe7\xe3o fornecida como par\xe2metro."),r.a.createElement("blockquote",{className:"block-quote my-2 d-flex"},r.a.createElement("p",{className:"text-dark fw-bold"},"GET"),r.a.createElement("a",{href:"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?classification='Centro de Sa\xfade Rural Tipo 1'",target:"_blank",rel:"noopener noreferrer",className:"endpoint text-primary ml-3"},'https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?classification="Centro de Sa\xfade Rural Tipo 1"'))),r.a.createElement("div",{className:"my-4"},r.a.createElement("h6",null,"5. Filtro por localiza\xe7\xe3o da Unidade Sanit\xe1ria"),r.a.createElement("p",null,r.a.createElement("code",null,"province"),": Permite obter a lista de unidades sanit\xe1rias que estejam localizadas na prov\xedncia correspondente ao id indicado no par\xe2metro."),r.a.createElement("blockquote",{className:"block-quote my-2 d-flex"},r.a.createElement("p",{className:"text-dark fw-bold"},"GET"),r.a.createElement("a",{href:"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?province=L6z1mqFYii6'",target:"_blank",rel:"noopener noreferrer",className:"endpoint text-primary ml-3"},"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?province=L6z1mqFYii6'"),r.a.createElement("p",{className:"text-primary ml-3"})),r.a.createElement("p",null,r.a.createElement("code",null,"district"),": Permite obter a lista de unidades sanit\xe1rias que estejam localizadas no distrito correspondente ao id indicado no par\xe2metro."),r.a.createElement("blockquote",{className:"block-quote my-2 d-flex"},r.a.createElement("p",{className:"text-dark fw-bold"},"GET"),r.a.createElement("a",{href:"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?district=ZjpSEMx9KIf",target:"_blank",rel:"noopener noreferrer",className:"endpoint text-primary ml-3"},"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?district=ZjpSEMx9KIf")),r.a.createElement("p",null,"Podemos indicar os dois par\xe2metros para obter unidades sanit\xe1rias que estejam localizadas em uma determinada prov\xedncia e distrito."),r.a.createElement("blockquote",{className:"block-quote my-2 d-flex"},r.a.createElement("p",{className:"text-dark fw-bold"},"GET"),r.a.createElement("a",{href:"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?province=L6z1mqFYii6&district=ZjpSEMx9KIf",target:"_blank",rel:"noopener noreferrer",className:"endpoint text-primary ml-3"},"https://apps.hisplp.org/mozapi/api/mfl/organisationUnits?province=L6z1mqFYii6&district=ZjpSEMx9KIf"))))))))))}),Hr=(a(586),a(185)),Br=a.n(Hr),qr=function(e){e.data;var t=e.id,a=Object(p.useHistory)(),n=r.a.useState(null),o=Object(d.a)(n,2),i=o[0],l=o[1],c=function(){l(null)},s=Boolean(i);return r.a.createElement("div",null,r.a.createElement(Br.a,{fontSize:"large",className:"text-danger",variant:"contained","aria-owns":s?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:function(e){l(e.currentTarget)},onClick:c}),r.a.createElement(Ge.b,{id:"mouse-over-popover",elevation:2,open:s,anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:c,disableRestoreFocus:!0,PaperProps:{style:{backgroundColor:"white",padding:"5px 15px"}}},r.a.createElement("p",null,"Actualiza\xe7\xe3o necess\xe1ria!"),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("p",{className:"text-primary see-details",onClick:function(){return a.push("/mfl/mfl-details/".concat(t))}},"Ver detalhes")," ")))};var Wr=function(){var e=Object(p.useLocation)().search,t=new URLSearchParams(e),a=Object(k.a)().t,o=Object(n.useState)(t.get("province")||""),i=Object(d.a)(o,2),l=i[0],c=i[1],s=Object(n.useState)(t.get("district")||""),m=Object(d.a)(s,2),u=m[0],f=m[1],h=Object(n.useState)(""),g=Object(d.a)(h,2),b=g[0],E=g[1],v=Object(n.useState)(0),y=Object(d.a)(v,2),N=y[0],w=y[1],j=Object(n.useState)(5),O=Object(d.a)(j,2),x=O[0],S=O[1],D=Z("/api/mfl/orgUnits?page=".concat(N+1,"&pageSize=").concat(x).concat(l&&"todos"!==l?"&province=".concat(l):"").concat(u&&"todos"!==u?"&district=".concat(u):"").concat(b?"&name=".concat(b):"")),C=D.data,_=D.error,P=D.isFetching,T=Z("api/cmam/mfl?level=province"),I=Z("api/cmam/mfl?parent=".concat(l,"&level=district"));if(_)return r.a.createElement(ye,null);return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.G,null,r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0,className:"my-5"},r.a.createElement(L.f,{style:{flexDirection:"column"},className:"d-flex align-itmes-center"},r.a.createElement("h6",{className:"m-0 mb-4"},"Hist\xf3rico de Actualiza\xe7\xf5es de Unidades Sanit\xe1rias"),r.a.createElement(L.G,{className:"w-100 d-flex align-items-center mx-0"},r.a.createElement(L.i,{sm:"3",className:"pl-0"},r.a.createElement("h6",null,a("filtrar-provincia")),r.a.createElement(L.u,{className:"",id:"project",value:l,onChange:function(e){c(e.target.value),f("")}},r.a.createElement("option",{value:"todos"},"Todas unidades"),!1===T.isFetching&&T.data&&T.data.organisationUnits.map(function(e,t){return r.a.createElement("option",{value:e.id,key:t},e.name)}))),r.a.createElement(L.i,{sm:"3",className:"pl-0"},r.a.createElement("h6",null,a("filtrar-distrito")),r.a.createElement(L.u,{className:"",value:u,onChange:function(e){return f(e.target.value)},id:"district"},r.a.createElement("option",{value:"todos"},a("filtrar-distrito")),I.data&&I.data.organisationUnits.map(function(e,t){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement(L.i,{sm:"3",className:"pl-0"},r.a.createElement("h6",null,"Filtrar por nome da US"),r.a.createElement(L.t,{className:"",placeholder:"Digitar nome...",id:"usName",value:b,onChange:function(e){return E(e.target.value)}})),r.a.createElement(L.i,{sm:"3",className:"d-flex justify-content-end pt-4"},C&&(l||u||b)&&r.a.createElement("div",null,r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mr-2 mt-1",onClick:function(){c(""),f(""),E("")}},a("limpar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"}))))),r.a.createElement(L.G,null)),P&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"px-4 pb-3"},C&&C.organisationUnits&&r.a.createElement(r.a.Fragment,null,0===C.organisationUnits.length?r.a.createElement(L.G,{className:"mt-1 d-flex align-items-center justify-content-center py-4",colspan:C.organisationUnits.length},r.a.createElement("h4",null,"N\xe3o foram encontrados dados")):r.a.createElement(r.a.Fragment,null,C.organisationUnits.map(function(e,t){return r.a.createElement(L.G,{className:"mt-1 p-3 border-bottom d-flex pb-4",key:t},r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center justify-content-center"},r.a.createElement(cn.a,{className:"avatar"},r.a.createElement(mn.a,null))),r.a.createElement(L.i,{lg:"10",md:"10",sm:"10",className:""},r.a.createElement("h6",{className:"history-title"},e.HealthFacilityName),r.a.createElement("p",null,"".concat(At(e.Province),", Distrito de ").concat(At(e.District))),r.a.createElement("p",null,"\xdaltima actualiza\xe7\xe3o em"," ",r.a.createElement("span",{className:"update-date"},Da()(e.LastUpdated)||"---"))," "),r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center"},function(e){for(var t in e)if(!e[t]||"Sem codigo"===e[t])return!0;return!1}(e)?r.a.createElement(qr,{id:e.id}):null))})))),!1===P&&r.a.createElement(xt,{totalPages:C,setCurrentPage:w,currentPage:N,rowsPerPage:x,setRowsPerPage:S})))))},Yr=function(e){var t=e.data;return r.a.createElement("div",null,r.a.createElement(L.G,{className:""},r.a.createElement(L.i,{lg:"5",md:"5",sm:"5",className:"mb-4 text-dark",style:{fontWeight:700}},"C\xf3digo:"," "),r.a.createElement(L.i,{lg:"7",md:"7",sm:"7",className:"mb-4"},t&&(t.HealthFacilityCode||"---"))),r.a.createElement(L.G,{className:""},r.a.createElement(L.i,{lg:"5",md:"5",sm:"5",className:"mb-4 text-dark",style:{fontWeight:700}},"Nome:"," "),r.a.createElement(L.i,{lg:"7",md:"7",sm:"7",className:"mb-4"},t&&(t.HealthFacilityName||"---"))),r.a.createElement(L.G,{className:""},r.a.createElement(L.i,{lg:"5",md:"5",sm:"5",className:"mb-4 text-dark",style:{fontWeight:700}},"Prov\xedncia:"," "),r.a.createElement(L.i,{lg:"7",md:"7",sm:"7",className:"mb-4"},t&&(t.Province||"---"))),r.a.createElement(L.G,{className:""},r.a.createElement(L.i,{lg:"5",md:"5",sm:"5",className:"mb-4 text-dark",style:{fontWeight:700}},"Distrito:"," "),r.a.createElement(L.i,{lg:"7",md:"7",sm:"7",className:"mb-4"},t&&(t.District||"---"))),r.a.createElement(L.G,{className:""},r.a.createElement(L.i,{lg:"5",md:"5",sm:"5",className:"mb-4 text-dark",style:{fontWeight:700}},"Tipo:"," "),r.a.createElement(L.i,{lg:"7",md:"7",sm:"7",className:"mb-4"},t&&(t.HealthFacilityType||"---"))),r.a.createElement(L.G,{className:""},r.a.createElement(L.i,{lg:"5",md:"5",sm:"5",className:"mb-4 text-dark",style:{fontWeight:700}},"Classifica\xe7\xe3o:"," "),r.a.createElement(L.i,{lg:"7",md:"7",sm:"7",className:"mb-4"},t&&(t.HealthFacilityClassification||"---"))),r.a.createElement(L.G,{className:""},r.a.createElement(L.i,{lg:"5",md:"5",sm:"5",className:"mb-4 text-dark",style:{fontWeight:700}},"N\xedvel:"," "),r.a.createElement(L.i,{lg:"7",md:"7",sm:"7",className:"mb-4"},t&&(t.HealthFacilityLevel||"---"))),r.a.createElement(L.G,{className:""},r.a.createElement(L.i,{lg:"5",md:"5",sm:"5",className:"mb-4 text-dark",style:{fontWeight:700}},"Coordenadas ",r.a.createElement("small",{style:{fontWeight:700,fontSize:12}},"(Long, Lat)")," :"," "),r.a.createElement(L.i,{lg:"7",md:"7",sm:"7",className:"mb-4"},t&&(t.Geometry?t.Geometry.coordinates.join(", "):"---"))),r.a.createElement(L.G,{className:""},r.a.createElement(L.i,{lg:"5",md:"5",sm:"5",className:"mb-4 text-dark",style:{fontWeight:700}},"\xdaltima actualiza\xe7\xe3o:"," "),r.a.createElement(L.i,{lg:"7",md:"7",sm:"7",className:"mb-4"},t&&(Da()(t.LastUpdated,"yyyy-mm-dd HH:mm:ss")||"---"))))},Vr=function(){var e=Object(p.useParams)().id,t=Z("/api/mfl/orgUnits?id=".concat(e)),a=t.data,n=t.error,o=t.isFetching;return n?r.a.createElement(ye,null):r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4 py-4"},r.a.createElement(L.G,{className:"mt-4"},r.a.createElement(L.i,{lg:"6",md:"6",sm:"6",className:"mb-4"},r.a.createElement(L.c,{className:""},r.a.createElement(L.f,{className:"border-bottom d-flex"},r.a.createElement("h5",{className:"my-0 ml-0 mr-auto text-dark"},"Dados da Unidade Sanit\xe1ria")),o&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:" py-3"},r.a.createElement(Yr,{data:a&&a.organisationUnits&&a.organisationUnits[0]})))),r.a.createElement(L.i,{lg:"6",md:"6",sm:"6",className:"mb-4"},r.a.createElement(L.f,{className:"border-bottom d-flex"},r.a.createElement("h6",{className:"my-0 ml-0 mr-auto text-dark"},"Localiza\xe7\xe3o no mapa"),r.a.createElement("span",{className:"text-danger",hidden:o||a&&a.organisationUnits&&a.organisationUnits[0].Geometry},"Sem coordenadas dispon\xedveis")),o&&r.a.createElement(jt.a,null),r.a.createElement(Pr,{container:"mapDetails",tittle:"Localiza\xe7\xe3o",coordinates:a&&a.organisationUnits,zoom:5,legend:!0}))))},Zr=function(e){return r.a.createElement(L.i,{className:e.col||"col-lg-6 mb-3 mt-2"},r.a.createElement(L.s,null,r.a.createElement("label",{className:"mb-2"},e.title),r.a.createElement(L.t,Object.assign({type:e.inputType},e))))},Jr=function(e){return r.a.createElement(L.i,{className:e.col||"col-lg-6 mb-3 mt-2"},r.a.createElement("h6",{className:"mb-2"},e.title),r.a.createElement(L.u,e,r.a.createElement("option",{value:""},e.placeholder),e.hasOwnProperty("options")&&e.options.map(function(e){return r.a.createElement("option",{value:e.id||e.code,id:e.id||e.code},e.name||e.id)})))},Xr=function(e){return r.a.createElement(L.i,{className:e.col||"col-lg-6 mb-3 mt-2"},r.a.createElement(L.r,e))},Kr=function(e){return r.a.createElement(L.i,{className:e.col||"col-lg-6 mb-3 mt-2"},r.a.createElement(L.v,e))},Qr=function(e){var t=Object(n.useState)(!0),a=Object(d.a)(t,2),o=a[0],i=a[1];return r.a.createElement(L.i,{className:e.col||"col-lg-6 mb-3 mt-2"},r.a.createElement("label",{className:"mb-2"},e.title),r.a.createElement(L.w,null,r.a.createElement(L.t,Object.assign({type:o?"password":"text"},e)),r.a.createElement(L.x,{type:"append"},r.a.createElement(L.y,{onClick:function(){return i(!o)}},o?r.a.createElement("i",{className:"material-icons",style:{cursor:"pointer"}},"visibility_off"):r.a.createElement("i",{className:"material-icons",style:{cursor:"pointer"}},"visibility")))))},$r=function(e){switch(e.inputType){case"TEXT":case"EMAIL":case"number":return r.a.createElement(Zr,e);case"boolean":case"true_only":return r.a.createElement(Xr,e);case"LIST":return r.a.createElement(Jr,e);case"LONG_TEXT":return r.a.createElement(Kr,e);case"PASSWORD":return r.a.createElement(Qr,e);default:return null}},eo=function(){var e=Object(p.useParams)().type,t=Object(n.useState)({}),a=Object(d.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(null),c=Object(d.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(null),f=Object(d.a)(u,2),h=f[0],g=f[1],b=Object(n.useState)(!1),E=Object(d.a)(b,2),v=E[0],N=E[1],w=Z("api/mfl/suggestions/orgUnits?level=province"),j=Z("api/mfl/suggestions/orgUnits?parent=".concat(o.province,"&level=district")),O=Z("api/mfl/suggestions/orgUnits?parent=".concat(o.district,"&level=facility")),x=Z("api/mfl/healthFacilityClassifications?paging=false");console.log(O);Object(n.useEffect)(function(){if(o.ou){console.log(O.data.organisationUnits.filter(function(e){return e.orgUnitId===o.ou}));var e=O.data.organisationUnits.filter(function(e){return e.orgUnitId===o.ou})[0].name;i(function(t){return Object(y.a)({},t,{name:e,shortName:O.data.organisationUnits.filter(function(e){return e.orgUnitId===o.ou})[0].shortName})})}},[o.ou]);return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.G,null,r.a.createElement(L.i,{md:12,lg:12,xl:7},r.a.createElement(L.c,{small:!0,className:"my-5"},r.a.createElement("div",{className:"d-flex p-3 justify-content-between"},r.a.createElement("h5",{className:"m-0 mb-4"},"Detalhes da Unidade Sanit\xe1ria")),j.isFetching||w.isFetching||x.isFetching||O.isFetching?r.a.createElement(jt.a,null):r.a.createElement(L.q,{onSubmit:function(t){t.preventDefault();var a={orgUnitId:o.ou||null,name:o.name,code:o.code,shortName:o.shortName,openingDate:"1970-01-01",province:o.province,featuretype:"NONE",parent:o.district,healthFacilityType:"wE5fCFwCEqM",healthFacilityClassification:o.classification,healthFacilityLevel:"MkjOXUQegjc",userId:null,username:null,type:"update-suggestion"===e?"UPDATE":"CREATE",proposerName:o.requente,proposerEmail:o.email,proposerPhone:o.phone};console.log(a),N(!0),H.a.post("".concat(W,"/api/mfl/suggestions"),a,V()).then(function(e){console.log(e),ee(e.data.message),g(e.data.message),N(!1)}).catch(function(e){console.log(e.message),m(e.message),N(!1),te(e.message)})}},r.a.createElement(L.d,{className:"px-0 pb-3 w-100"},r.a.createElement(L.G,null,function(e,t){return[{title:"Prov\xedncia",valueType:"LIST",placeholder:"prov\xedncia",id:"province",options:e.provinces},{title:"Distrito",valueType:"LIST",placeholder:"distrito",options:e.district,id:"district"}].concat(Object(re.a)("update-suggestion"===t?[{title:"Unidade Sanitaria",valueType:"LIST",placeholder:"unidade sanitaria",options:e.facility,id:"ou"}]:[]),[{title:"Nome(Designa\xe7\xe3o)",valueType:"TEXT",id:"name",placeholder:"nome da unidade sanit\xe1ria"},{title:"Short Name",valueType:"TEXT",id:"shortName",placeholder:"short name"},{title:"C\xf3digo",valueType:"TEXT",id:"code",placeholder:"c\xf3digo da us"},{title:"Classifica\xe7\xe3o",valueType:"LIST",id:"classification",options:e.cfts,placeholder:"classifica\xe7\xe3o"},{title:"Nome do utilizador",valueType:"TEXT",id:"requente",placeholder:"nome"},{title:"Email do utilizador",valueType:"EMAIL",id:"email",placeholder:"email"},{title:"Contacto do utilizador",valueType:"TEXT",id:"phone",placeholder:"contacto"}])}({cfts:x.data.healthFacilityClassifications,provinces:w.data.organisationUnits,district:j.data.organisationUnits,facility:O.data.organisationUnits},e).map(function(e,t){return r.a.createElement(L.i,{xs:12},r.a.createElement($r,Object.assign({size:"md",required:!0,value:o[e.id],disabled:!1,onChange:function(e){return function(e){var t=e.target,a=t.id,n=t.value;i(Object(y.a)({},o,Object(G.a)({},a,n)))}(e)},inputType:"PHONE_NUMBER"===e.valueType?"number":e.valueType,id:t,col:"col-lg-12 mb-3 mt-2",title:e.title},e)),"classification"===e.id&&r.a.createElement("div",{className:"mt-5"},r.a.createElement(St.a,null)))}))),v&&r.a.createElement(jt.a,null),r.a.createElement(L.e,{className:"d-flex justify-content-between"},r.a.createElement("div",null),r.a.createElement("div",{className:"d-felx"},r.a.createElement(L.b,{disabled:v,type:"button",style:{width:"auto",height:"34.8px",marginRight:"10px",color:"#000",backgroundColor:"#EFB4B4"},theme:"danger",outline:!0},"Limpar campos"),r.a.createElement(L.b,{disabled:v,type:"submit",style:{width:"100px",height:"34.8px",color:"#000",backgroundColor:"#C3DBC4"},theme:"success",outline:!0},"Salvar"))))),s&&r.a.createElement($,null),h&&r.a.createElement($,null))))},to=function(){var e=Object(p.useRouteMatch)().path,t=Object(p.useHistory)(),a=Object(p.useLocation)();return Object(n.useEffect)(function(){"/mfl"===e&&a.pathname.split("/").length<3&&t.replace("/mfl/mfl-home")},[e]),r.a.createElement(f.a,null,r.a.createElement(p.Switch,null,[{path:"/:module/mfl-home",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["mfl_external"]},r.a.createElement(Ar,null))}},{path:"/:module/orgunits",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["mfl_external"]},r.a.createElement(Gr,null))}},{path:"/:module/api-documentation",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["mfl_external"]},r.a.createElement(Mr,null))}},{path:"/:module/mfl-history",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["mfl_external"]},r.a.createElement(Wr,null))}},{path:"/:module/mfl-details/:id",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["mfl_external"]},r.a.createElement(Vr,null))}},{path:"/:module/suggestion/:type",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["mfl_external"]},r.a.createElement(eo,null))}}].map(function(e,t){return r.a.createElement(p.Route,{key:t,path:e.path,exact:e.exact,component:j(function(t){return r.a.createElement(e.layout,t,r.a.createElement(e.component,t))})})})))},ao=function(e){var t=e.children;return r.a.createElement(L.k,{fluid:!0},r.a.createElement(L.G,null,t))};function no(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return ro(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ro(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var oo=function(){var e=Object(k.a)().t,t=Object(p.useHistory)(),a=window.location.search,o=new URLSearchParams(a),i=Object(n.useState)(0),l=Object(d.a)(i,2),c=l[0],s=l[1],m=Object(n.useState)(10),u=Object(d.a)(m,2),f=u[0],h=u[1],g=Object(n.useState)(o.get("name")||""),b=Object(d.a)(g,2),E=b[0],v=b[1],y=Object(n.useState)(o.get("province")||""),N=Object(d.a)(y,2),w=N[0],j=N[1],O=Object(n.useState)(o.get("district")||""),x=Object(d.a)(O,2),S=x[0],D=x[1],C=Object(n.useState)(o.get("classification")||""),_=Object(d.a)(C,2),P=_[0],T=_[1],I=function(){return E?"&name=".concat(E):""},A=function(){return w&&"todos"!==w?"&province=".concat(w):""},U=function(){return S&&"todos"!==S?"&district=".concat(S):""},F=function(){return P&&"todos"!==P?"&healthFacilityClassification=".concat(P):""},z=Z("/api/mfl/organisationUnits?page=".concat(c+1,"&pageSize=").concat(f).concat(I()).concat(A()).concat(U()).concat(F())),R=z.data,G=z.error,M=z.isFetching,H=Z("/api/mfl/organisationUnits?paging=".concat(!1,I()).concat(A()).concat(U()).concat(F())),B=H.data,q=(H.error,H.isFetching),W=Z("api/cmam/mfl?level=province"),Y=Z("api/cmam/mfl?parent=".concat(w,"&level=district")),V=Z("/api/mfl/healthFacilityClassifications?paging=false");if(G)return r.a.createElement(ye,null);var J=function(e){return r.a.createElement(wt.a,{title:"Detalhes",style:{marginTop:-10},onClick:function(){return t.push("/mfl-internal/orgunit-details/".concat(e))}},r.a.createElement(Fr.a,{fontSize:"small",color:"primary"}))},X=function(){return["C\xf3digo da US","US","Prov\xedncia","Distrito","Classifica\xe7\xe3o","Tipo","N\xedvel","Coordenadas"]},K=function(){var e,t=[];if(B){var a,n=no(B.organisationUnits);try{for(n.s();!(a=n.n()).done;){var r=a.value;t.push([r.HealthFacilityCode,r.HealthFacilityName,r.Province||"---",r.District||"---",r.HealthFacilityClassification||"---",r.HealthFacilityType||"---",r.HealthFacilityLevel||"---",(e=r.Geometry,e?"(".concat(e.coordinates[0],", ").concat(e.coordinates[1],")"):"---")])}}catch(o){n.e(o)}finally{n.f()}}return t};return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.G,{className:"h-100 mb-4 mt-4"},r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0},r.a.createElement(L.f,{style:{flexDirection:"column"},className:"border-bottom d-flex align-itmes-center"},r.a.createElement("h6",{className:"m-0 mb-2"},e("lista-us")),r.a.createElement(L.G,{className:"w-100 d-flex align-items-center mx-0"},r.a.createElement(L.i,{className:"col-lg-9  d-flex justify-content-start"},r.a.createElement(L.t,{className:"",placeholder:"Pesquisar pelo nome...",id:"usName",value:E,onChange:function(e){return v(e.target.value)}}),r.a.createElement(L.u,{className:"ml-1",value:w,onChange:function(e){j(e.target.value),D("")},id:"project"},r.a.createElement("option",{value:"todos"},"Prov\xedncia"),W.data&&W.data.organisationUnits.map(function(e,t){return r.a.createElement("option",{value:e.id},e.name)})),r.a.createElement(L.u,{className:"ml-1",value:S,onChange:function(e){return D(e.target.value)},id:"project"},r.a.createElement("option",{value:"todos"},"Distrito"),Y.data&&Y.data.organisationUnits.map(function(e,t){return r.a.createElement("option",{value:e.id},e.name)})),r.a.createElement(L.u,{className:"ml-1",value:P,onChange:function(e){return T(e.target.value)},id:"project"},r.a.createElement("option",{value:"todos"},"Classifica\xe7\xe3o"),V.data&&V.data.healthFacilityClassifications.map(function(e,t){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement(L.i,{className:"col-lg-3 d-flex justify-content-end"},R&&(E||w||S||P)&&r.a.createElement("div",null,r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mr-2",onClick:function(){v(""),j(""),D(""),T("")}},e("limpar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"}))),R&&r.a.createElement(Va,{fileName:"Lista de Unidades Sanit\xe1rias - MFL-External",fileTitle:"MFL-Lista de Unidades Sanit\xe1rias",tableColums:X,tableData:K,isFetching:q}))),r.a.createElement(L.G,null)),M&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"p-0 pb-3"},r.a.createElement(_t,{isFetching:M,error:G,tableColumns:function(){return["C\xf3digo da US","US","Prov\xedncia","Distrito","Ac\xe7\xf5es"]},tableData:function(){var e=[];if(R.organisationUnits){var t,a=no(R.organisationUnits);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.push([n.HealthFacilityCode,n.HealthFacilityName,n.Province,n.District,J(n.id)])}}catch(r){a.e(r)}finally{a.f()}}return e}}),r.a.createElement("div",{className:"d-none"},r.a.createElement(Un,{isFetching:M,error:G,tableColumns:X,tableData:K}))),!1===M&&r.a.createElement(xt,{totalPages:R,setCurrentPage:s,currentPage:c,rowsPerPage:f,setRowsPerPage:h})))))},io=function(e){e.data;var t=e.id,a=Object(p.useHistory)(),n=r.a.useState(null),o=Object(d.a)(n,2),i=o[0],l=o[1],c=Boolean(i);return r.a.createElement("div",null,r.a.createElement(wt.a,{size:"small"},r.a.createElement(Br.a,{fontSize:"medium",className:"text-danger",variant:"contained","aria-owns":c?"mouse-over-popover":void 0,"aria-haspopup":"true",onClick:function(e){l(e.currentTarget)}})),r.a.createElement(Ge.b,{id:"mouse-over-popover",elevation:2,open:c,anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:function(){l(null)},disableRestoreFocus:!0,PaperProps:{style:{backgroundColor:"white",padding:"5px 15px"}}},r.a.createElement("p",null,"Actualiza\xe7\xe3o necess\xe1ria!"),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("p",{className:"text-primary see-details",onClick:function(){return a.push("/mfl-internal/orgunit-details/".concat(t))}},"Ver detalhes")," ")))};function lo(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return co(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?co(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function co(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var so=function(){var e=Object(k.a)().t,t=Object(p.useHistory)(),a=window.location.search,o=new URLSearchParams(a),i=Object(n.useState)(0),l=Object(d.a)(i,2),c=l[0],s=l[1],m=Object(n.useState)(10),u=Object(d.a)(m,2),f=u[0],h=u[1],g=Object(n.useState)(o.get("name")||""),b=Object(d.a)(g,2),E=b[0],v=b[1],y=Object(n.useState)(o.get("province")||""),N=Object(d.a)(y,2),w=N[0],j=N[1],O=Object(n.useState)(o.get("district")||""),x=Object(d.a)(O,2),S=x[0],D=x[1],C=Object(n.useState)(o.get("classification")||""),_=Object(d.a)(C,2),P=_[0],T=_[1],I=Z("/api/mfl/organisationUnits?page=".concat(c+1,"&pageSize=").concat(f).concat(E?"&name=".concat(E):"").concat(w&&"todos"!==w?"&province=".concat(w):"").concat(S&&"todos"!==S?"&district=".concat(S):"").concat(P&&"todos"!==P?"&classification=".concat(P):"")),A=I.data,U=I.error,F=I.isFetching,z=Z("api/cmam/mfl?level=province"),R=Z("api/cmam/mfl?parent=".concat(w,"&level=district")),G=Z("/api/mfl/healthFacilityClassifications?paging=false");if(U)return r.a.createElement(ye,null);var M=function(e){return r.a.createElement("div",{className:"pl-2"},function(e){for(var t in e)if(!e[t]||"Sem codigo"===e[t])return!0;return!1}(e)?r.a.createElement(io,{id:e.id}):r.a.createElement(wt.a,{style:{marginTop:-10},onClick:function(){return t.push("/mfl-internal/orgunit-details/".concat(e.id))},title:"Detalhes"},r.a.createElement(Fr.a,{fontSize:"small",color:"primary"})))};return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.G,{className:"h-100 mb-4 mt-4"},r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0},r.a.createElement(L.f,{style:{flexDirection:"column"},className:"border-bottom d-flex align-itmes-center"},r.a.createElement("h6",{className:"m-0 mb-2"},e("lista-us")),r.a.createElement(L.G,{className:"w-100 d-flex align-items-center mx-0"},r.a.createElement(L.i,{className:"col-lg-9  d-flex justify-content-start"},r.a.createElement(L.t,{className:"",placeholder:"Pesquisar pelo nome...",id:"usName",value:E,onChange:function(e){return v(e.target.value)}}),r.a.createElement(L.u,{className:"ml-1",value:w,onChange:function(e){return j(e.target.value)},id:"project"},r.a.createElement("option",{value:"todos"},"Prov\xedncia"),z.data&&z.data.organisationUnits.map(function(e,t){return r.a.createElement("option",{value:e.id},e.name)})),r.a.createElement(L.u,{className:"ml-1",value:S,onChange:function(e){return D(e.target.value)},id:"project"},r.a.createElement("option",{value:"todos"},"Distrito"),R.data&&R.data.organisationUnits.map(function(e,t){return r.a.createElement("option",{value:e.id},e.name)})),r.a.createElement(L.u,{className:"ml-1",value:P,onChange:function(e){return T(e.target.value)},id:"project"},r.a.createElement("option",{value:"todos"},"Classifica\xe7\xe3o"),G.data&&G.data.healthFacilityClassifications.map(function(e,t){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement(L.i,{className:"col-lg-3 d-flex justify-content-end"},A&&(E||w||S||P)&&r.a.createElement("div",null,r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mr-2",onClick:function(){v(""),j(""),D(""),T("")}},e("limpar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"}))),A&&r.a.createElement(Va,{fileName:"Lista de Unidades Sanit\xe1rias - MFL-External",fileTitle:"MFL-Lista de Unidades Sanit\xe1rias",tableColums:function(){return["C\xf3digo da US","US","Prov\xedncia","Distrito","Data da actualiza\xe7\xe3o"]},tableData:function(){var e,t=[],a=lo(A.organisationUnits);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push([n.HealthFacilityCode,n.HealthFacilityName,n.Province,n.District,Da()(n.LastUpdated,"yyyy-mm-dd HH:MM:ss")||"---"])}}catch(r){a.e(r)}finally{a.f()}return t}}))),r.a.createElement(L.G,null)),F&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"p-0 pb-3"},r.a.createElement(_t,{isFetching:F,error:U,tableColumns:function(){return["US","Prov\xedncia","Distrito","Data da actualiza\xe7\xe3o"," "]},tableData:function(){var e,t=[],a=lo(A.organisationUnits);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push([n.HealthFacilityName,n.Province,n.District,Da()(n.LastUpdated,"yyyy-mm-dd HH:MM:ss")||"---",M(n)])}}catch(r){a.e(r)}finally{a.f()}return t}})),!1===F&&r.a.createElement(xt,{totalPages:A,setCurrentPage:s,currentPage:c,rowsPerPage:f,setRowsPerPage:h})))))},mo=a(342);function uo(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return fo(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?fo(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function fo(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var po=function(){var e=Object(k.a)().t,t=Object(p.useHistory)(),a=window.location.search,o=new URLSearchParams(a),i=Object(n.useState)(0),l=Object(d.a)(i,2),c=l[0],s=l[1],m=Object(n.useState)(10),u=Object(d.a)(m,2),f=u[0],h=u[1],g=Object(n.useState)(o.get("name")||""),b=Object(d.a)(g,2),E=b[0],v=b[1],y=Object(n.useState)(o.get("province")||""),N=Object(d.a)(y,2),w=N[0],j=N[1],O=Object(n.useState)(o.get("district")||""),x=Object(d.a)(O,2),S=x[0],D=x[1],C=Object(n.useState)(o.get("status")||"PENDENT"),_=Object(d.a)(C,2),P=_[0],T=_[1],I=Z("/api/mfl/suggestions?page=".concat(c+1,"&pageSize=").concat(f).concat(E?"&name=".concat(E):"").concat(w&&"todos"!==w?"&province=".concat(w):"").concat(S&&"todos"!==S?"&district=".concat(S):"").concat(P&&"todos"!==P?"&status=".concat(P):"")),A=I.data,U=I.error,F=I.isFetching,z=Z("api/cmam/mfl?level=province"),R=Z("api/cmam/mfl?parent=".concat(w,"&level=district"));if(U)return r.a.createElement(ye,null);var G=function(e){return r.a.createElement(wt.a,{style:{marginTop:-10},onClick:function(){return t.push("/mfl-internal/suggestions-details/".concat(e))}},r.a.createElement(Fr.a,{fontSize:"small",color:"primary"}))};return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.G,{className:"h-100 mb-4 mt-4"},r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0},r.a.createElement(L.f,{style:{flexDirection:"column"},className:"border-bottom d-flex align-itmes-center"},r.a.createElement("h6",{className:"m-0 mb-2"},e("lista-us")),r.a.createElement(L.G,{className:"w-100 d-flex align-items-center mx-0"},r.a.createElement(L.i,{className:"col-lg-9  d-flex justify-content-start"},r.a.createElement(L.t,{className:"",placeholder:"Pesquisar pelo nome...",id:"usName",value:E,onChange:function(e){return v(e.target.value)}}),r.a.createElement(L.u,{className:"ml-1",value:w,onChange:function(e){j(e.target.value),D("")},id:"project"},r.a.createElement("option",{value:"todos"},"Prov\xedncia"),z.data&&z.data.organisationUnits.map(function(e,t){return r.a.createElement("option",{value:e.id},e.name)})),r.a.createElement(L.u,{className:"ml-1",value:S,onChange:function(e){return D(e.target.value)},id:"project"},r.a.createElement("option",{value:"todos"},"Distrito"),R.data&&R.data.organisationUnits.map(function(e,t){return r.a.createElement("option",{value:e.id},e.name)})),r.a.createElement(L.u,{className:"ml-1",value:P,onChange:function(e){return T(e.target.value)},id:"project"},r.a.createElement("option",{value:"todos"},"Estado"),mo.options.map(function(e,t){return r.a.createElement("option",{value:e.code},e.name)}))),r.a.createElement(L.i,{className:"col-lg-3 d-flex justify-content-end"},A&&(E||w||S||P)&&r.a.createElement("div",null,r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mr-2",onClick:function(){v(""),j(""),D(""),T("")}},e("limpar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"}))),A&&r.a.createElement(Va,{fileName:"Lista de Unidades Sanit\xe1rias - MFL-External",fileTitle:"MFL-Lista de Unidades Sanit\xe1rias",tableColums:function(){return["C\xf3digo da US","US","Classifica\xe7\xe3o","Prov\xedncia","Distrito"]},tableData:function(){var e,t=[],a=uo(A.data);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push([n.HealthFacilityCode,n.HealthFacilityName,n.HealthFacilityClassification||"---",n.Province,n.District])}}catch(r){a.e(r)}finally{a.f()}return t}}))),r.a.createElement(L.G,null)),F&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"p-0 pb-3"},r.a.createElement(_t,{isFetching:F,error:U,tableColumns:function(){return["C\xf3digo da US","US","Emissor","Data da submiss\xe3o","Opera\xe7\xe3o","Ac\xe7\xf5es"]},tableData:function(){var e,t=[],a=uo(A.data);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push([n.code,n.name,n.proposerEmail,n.openingDate,n.type,G(n.id)])}}catch(r){a.e(r)}finally{a.f()}return t}})),!1===F&&r.a.createElement(xt,{totalPages:A,setCurrentPage:s,currentPage:c,rowsPerPage:f,setRowsPerPage:h})))))},ho=(a(588),function(e){var t=e.varKey,a=e.varValue;return r.a.createElement("div",{className:"d-flex mb-3 justify-content-between"},r.a.createElement("h5",{style:{fontSize:17}},r.a.createElement("strong",null,t)," "),r.a.createElement("h6",{style:{fontSize:17}},a))}),go=function(){Object(n.useEffect)(function(){window.scrollTo(0,0)},[]);var e=Object(p.useLocation)().search,t=new URLSearchParams(e),a=(Object(k.a)().t,Object(p.useHistory)()),o=Object(n.useState)(t.get("province")||""),i=Object(d.a)(o,2),l=(i[0],i[1],Object(n.useState)({})),c=Object(d.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(!1),f=Object(d.a)(u,2),h=f[0],g=f[1],b=Object(p.useParams)(),E=Object(n.useContext)(x).auth,v=Object(n.useState)(null),N=Object(d.a)(v,2),w=N[0],j=N[1],O=Object(n.useState)(null),S=Object(d.a)(O,2),D=S[0],C=S[1],_=Z("api/mfl/suggestions/".concat(b.id)),P=Z("api/mfl/suggestions/orgUnits?level=province"),T=Z("api/mfl/suggestions/orgUnits?parent=".concat(s.province||_.data&&_.data.province,"&level=district")),I=Z("api/mfl/healthFacilityClassifications?paging=false"),A=function(e){var t={id:b.id,status:e,dhisData:{orgUnitId:_.data.orgUnitId||null,name:s.name,code:s.code,shortName:_.data.shortName,openingDate:_.data.openingDate,featuretype:"NONE",province:s.province,parent:s.district,healthFacilityType:_.data.healthFacilityType,healthFacilityClassification:_.data.healthFacilityClassification,healthFacilityLevel:_.data.healthFacilityLevel,userId:E.userId,username:E.username,type:_.data.type,proposerName:_.data.proposerName,proposerEmail:_.data.proposerEmail,proposerPhone:_.data.proposerPhone}};g(!0),H.a.put("".concat(W,"/api/mfl/suggestions/").concat(b.id),t,V()).then(function(e){console.log(e),ee(e.data.message),C(e.data.message),g(!1)}).catch(function(e){console.log(e.message),j(e.message),g(!1),te(e.message)})};Object(n.useEffect)(function(){_.data&&m({name:_.data.name,code:_.data.code,classification:_.data.healthFacilityClassification,province:_.data.province,district:_.data.parent})},[_.data]);var U;return P.error||_.error||I.error?(console.log(P.error,_.error,I.error),r.a.createElement(ye,null)):(console.log(_),r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.G,null,r.a.createElement(L.i,{md:12,lg:7},r.a.createElement(L.c,{small:!0,className:"my-5"},r.a.createElement("div",{className:"d-flex p-3 justify-content-between"},r.a.createElement("h5",{className:"m-0 mb-4"},"Detalhes da Unidade Sanit\xe1ria"),r.a.createElement("div",{className:"card__header-type-label"},!1===_.isFetching&&("PENDENT"===_.data.status?r.a.createElement("div",{className:"m-0 type__status-label",style:{backgroundColor:!1===_.isFetching&&("CREATE"===_.data.type?"#45b775":"UPDATE"===_.data.type&&"orange"),textTransform:"lowercase"}},r.a.createElement("span",null,_.data.type)):r.a.createElement("div",{className:"m-0 type__status-label",style:{backgroundColor:!1===_.isFetching&&("APPROVED"===_.data.status?"#C3DBC4":"UNAPPROVED"===_.data.status&&"#EFB4B4"),textTransform:"lowercase"}},r.a.createElement("span",null,_.data.status))))),_.isFetching||T.isFetching||P.isFetching||I.isFetching?r.a.createElement(jt.a,null):r.a.createElement(L.q,null,r.a.createElement(L.d,{className:"px-0 pb-3 w-100"},r.a.createElement(L.G,null,(U={cfts:I.data.healthFacilityClassifications,provinces:P.data.organisationUnits,district:T.data.organisationUnits},[{title:"Prov\xedncia",valueType:"LIST",placeholder:"prov\xedncia",id:"province",options:U.provinces},{title:"Distrito",valueType:"LIST",placeholder:"distrito",id:"district",options:U.district},{title:"Nome(Designa\xe7\xe3o)",valueType:"TEXT",id:"name",placeholder:"nome da unidade sanit\xe1ria"},{title:"C\xf3digo",valueType:"TEXT",id:"code",placeholder:"c\xf3digo da us"},{title:"Classifica\xe7\xe3o",valueType:"LIST",id:"classification",options:U.cfts,placeholder:"classifica\xe7\xe3o"}]).map(function(e,t){return r.a.createElement(L.i,{xs:12},r.a.createElement($r,Object.assign({size:"md",required:!0,value:s[e.id],disabled:"PENDENT"!==_.data.status,onChange:function(e){return function(e){var t=e.target,a=t.id,n=t.value;m(Object(y.a)({},s,Object(G.a)({},a,n)))}(e)},inputType:"PHONE_NUMBER"===e.valueType?"number":e.valueType,id:t,col:"col-lg-12 mb-3 mt-2",title:e.title},e)))}))),h&&r.a.createElement(jt.a,null),r.a.createElement(L.e,{className:"d-flex justify-content-between"},r.a.createElement(L.b,{onClick:function(){return a.goBack()},type:"button",style:{width:"100px",height:"34.8px"},outline:!0},"Voltar"),"PENDENT"===_.data.status&&r.a.createElement("div",{className:"d-felx"},r.a.createElement(L.b,{disabled:h,onClick:function(e){return A("UNAPPROVED")},type:"submit",style:{width:"100px",height:"34.8px",marginRight:"10px",color:"#000",backgroundColor:"#EFB4B4"},theme:"danger",outline:!0},"Rejeitar"),r.a.createElement(L.b,{disabled:h,onClick:function(e){return A("APPROVED")},type:"submit",style:{width:"100px",height:"34.8px",color:"#000",backgroundColor:"#C3DBC4"},theme:"success",outline:!0},"Aprovar")))))),r.a.createElement(L.i,{md:12,lg:5},r.a.createElement(L.c,{small:!0,className:"my-5",style:{height:"633px"}},r.a.createElement("div",{className:"p-3"},r.a.createElement("h5",null,"Detalhes do Emissor")),_.isFetching?r.a.createElement(jt.a,null):r.a.createElement(L.d,{className:"p-3"},r.a.createElement(ho,{varKey:"Nome Completo:",varValue:_.data.proposerName}),r.a.createElement(ho,{varKey:"Telefone:",varValue:_.data.proposerPhone||"---"}),r.a.createElement(ho,{varKey:"E-mail:",varValue:_.data.proposerEmail}),r.a.createElement(ho,{varKey:"Data da submiss\xe3o:",varValue:_.data.created_at}))),w&&r.a.createElement($,null),D&&r.a.createElement($,null)))))},bo=function(){var e=Object(p.useRouteMatch)().path,t=Object(p.useHistory)(),a=Object(p.useLocation)();return Object(n.useEffect)(function(){"/mfl-internal"===e&&a.pathname.split("/").length<3&&t.replace("/mfl-internal/mfl-internal-home")},[e]),r.a.createElement(f.a,null,r.a.createElement(p.Switch,null,[{path:"/:module/mfl-internal-home",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["mfl_internal"]},r.a.createElement(oo,null))}},{path:"/:module/orgunit-details/:id",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["mfl_internal"]},r.a.createElement(Vr,null))}},{path:"/:module/linelist",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["mfl_internal"]},r.a.createElement(so,null))}},{path:"/:module/suggestions",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["mfl_internal"]},r.a.createElement(po,null))}},{path:"/:module/suggestions-details/:id",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["mfl_internal"]},r.a.createElement(go,null))}}].map(function(e,t){return r.a.createElement(p.Route,{key:t,path:e.path,exact:e.exact,component:j(function(t){return r.a.createElement(e.layout,t,r.a.createElement(e.component,t))})})})))},Eo=a(343),vo=a.n(Eo),yo=a(344),No=a.n(yo);var wo=function(){var e=["Prov\xedncia","Distrito","Unidade Sanit\xe1ria","Data"],t=Object(k.a)().t,a=Object(n.useState)(0),o=Object(d.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)(10),s=Object(d.a)(c,2),m=s[0],u=s[1],f=Object(n.useState)(null),p=Object(d.a)(f,2),h=p[0],g=p[1],b=Z("api/mfl/syncs/summaries?page=".concat(i,"&pageSize=").concat(m)),E=b.data,v=b.error,y=b.isFetching,N=Z("api/mfl/syncs/servers?paging=false&isMaster=false"),w=N.data,j=(N.error,N.isFetching,function(e){e.orgUnits;var t=e.setSyncId,a={ERROR:r.a.createElement(er.a,{style:{color:"#F44E3F"}}),SUCCESS:r.a.createElement(vo.a,{style:{color:"#63D471"}})};return{getIcon:function(e,n){for(var o=[],i=function(){var i=null,c=null;e[n[l]]?(e[n[l]].status.status?(i=a[e[n[l]].status.status],c=e[n[l]].status.syncId):(i=a[e[n[l]].status],c=e[n[l]].syncId),o.push({icon:i,event:function(){return t(c)}})):o.push({icon:r.a.createElement(No.a,{style:{color:"#BACDB0"}}),event:function(){}})},l=4;l<n.length;l++)i();return o}}}({setSyncId:g}).getIcon),O=function(){return e},x=function(){var t=[];if(!1===y)for(var a=E.data,n=0;n<a.length;n++)t.push([a[n].provinceName,a[n].districtName,a[n].orgUnitName,a[n].date].concat(Object(re.a)(j(a[n],e,n))));return t};if(w&&w.servers)for(var S=w.servers,D=0;D<S.length;D++)e.push(S[D].name);return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(Nt,{title:"Vis\xe3o Geral",className:"text-sm-left mb-3"}),r.a.createElement(L.G,null,r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0,className:"mb-4"},r.a.createElement(L.f,{className:"border-bottom"},r.a.createElement(L.G,{className:"w-100"},r.a.createElement(L.i,null,r.a.createElement("h6",{className:"m-0 mb-2"},t("ultima_sincronizacao"))),E&&r.a.createElement(Va,{fileName:"lista de historico-SIRCEV",fileTitle:"SIRCEV-Lista de Hist\xf3rico",tableData:x,tableColumns:O})),r.a.createElement(L.G,null)),y&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"p-0 pb-3"},r.a.createElement(_t,{syncId:h,component:"Details",allData:E?E.data:E,isFetching:y,error:v,tableColumns:O,tableData:x})),!1===y&&r.a.createElement(xt,{totalPages:E,setCurrentPage:l,currentPage:i,rowsPerPage:m,setRowsPerPage:u})))))},jo=function(e){var t=e.setSDate,a=e.setEDate,n=e.endDate,r=e.startDate,o=e.history;return{UpdateDateValues:function(){if(n){t(Ca(new Date(r))),a(Ca(new Date(n)));var e=new URL(window.location.href);e.searchParams.set("startDate",Ca(new Date(r))),e.searchParams.set("endDate",Ca(new Date(n))),o.push(e.search)}else alert("You need endDate")}}};function Oo(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return xo(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?xo(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var So=function(){var e=Object(p.useLocation)().search,t=new URLSearchParams(e),a=Object(k.a)().t,o=Object(p.useHistory)(),i=function(){return{startDate:t.get("startDate")?new Date(t.get("startDate")):void 0,endDate:t.get("endDate")?new Date(t.get("endDate")):void 0}},l=Object(n.useState)(i().startDate),c=Object(d.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(i().endDate),f=Object(d.a)(u,2),h=f[0],g=f[1],b=Object(n.useState)(i().startDate),E=Object(d.a)(b,2),v=E[0],y=E[1],N=Object(n.useState)(i().endDate),w=Object(d.a)(N,2),j=w[0],O=w[1],x=Object(n.useState)(0),S=Object(d.a)(x,2),D=S[0],C=S[1],_=Object(n.useState)(10),P=Object(d.a)(_,2),T=P[0],I=P[1],A=Object(n.useState)(t.get("status")||""),U=Object(d.a)(A,2),F=U[0],z=(U[1],jo({setSDate:y,setEDate:O,endDate:h,startDate:s,history:o}).UpdateDateValues),R=Z("api/mfl/syncs?aggregate=true&page=".concat(D+1,"&pageSize=").concat(T).concat(v&&j?"&startDate=".concat(Ca(new Date(v)),'"&endDate=').concat(Ca(new Date(j))):"").concat(F&&"todos"!==F?"&status=".concat(F):"")),G=R.data,M=R.error,H=R.isFetching;if(M)return r.a.createElement(ye,null);var B=function(){return["Data","Created","Updated","Deleted","Status"]},q=function(){var e=[];if(!1===H){var t,a=Oo(G.data);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.push([n.date,n.created,n.updated,n.deleted,n.ignored>0?"Error":"Success"])}}catch(r){a.e(r)}finally{a.f()}}return e};return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.c,{small:!0,className:"h-100 mb-4 mt-4"},r.a.createElement(L.d,{className:" py-0 "},r.a.createElement(L.G,{className:"mb-4"},r.a.createElement(L.i,{sm:"6",className:"d-flex mb-2 mb-sm-0 mt-4"},r.a.createElement(Ra,{startDate:s,setStartDate:m,endDate:h,setEndDate:g})),r.a.createElement(L.i,{sm:"6",className:"text-right"},r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mb-2 mb-sm-0 mt-4 mr-1",onClick:function(){return z()}},a("atualizar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"})),r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mb-2 mb-sm-0 mt-4",onClick:function(){return m(void 0),g(void 0),y(void 0),O(void 0),void Ma(o,"startDate","endDate")}},a("limpar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"})))))),r.a.createElement(L.G,null,r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0,className:"mb-4"},r.a.createElement(L.f,{className:"border-bottom"},r.a.createElement(L.G,{className:"w-100"},r.a.createElement(L.i,null,r.a.createElement("h6",{className:"m-0 mb-2"},"Hist\xf3rico")),G&&r.a.createElement(Va,{fileName:"lista de historico-SIRCEV",fileTitle:"SIRCEV-Lista de Hist\xf3rico",tableData:q,tableColumns:B})),r.a.createElement(L.G,null)),H&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"p-0 pb-3"},r.a.createElement(Un,{fetching:!1,isFetching:H,error:M,tableColumns:B,tableData:q})),!1===H&&r.a.createElement(xt,{totalPages:G,setCurrentPage:C,currentPage:D,rowsPerPage:T,setRowsPerPage:I})))))},Do=a(345);function Co(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return ko(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ko(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function Lo(){Lo=function(){return t};var e,t={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function m(e,t,a,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),l=new L(n||[]);return r(i,"_invoke",{value:S(e,a,l)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",g={};function b(){}function E(){}function v(){}var y={};s(y,i,function(){return this});var N=Object.getPrototypeOf,w=N&&N(N(_([])));w&&w!==a&&n.call(w,i)&&(y=w);var j=v.prototype=b.prototype=Object.create(y);function O(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){a("next",e,i,l)},function(e){a("throw",e,i,l)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return a("throw",e,i,l)})}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t(function(t,r){a(e,n,t,r)})}return o=o?o.then(r,r):r()}})}function S(t,a,n){var r=d;return function(o,i){if(r===p)throw Error("Generator is already running");if(r===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=D(l,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=u(t,a,n);if("normal"===s.type){if(r=n.done?h:f,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}function D(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,D(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=u(r,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,g;var i=o.arg;return i?i.done?(a[t.resultName]=i.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,g):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(t){if(t||""===t){var a=t[i];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return E.prototype=v,r(j,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:E,configurable:!0}),E.displayName=s(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},O(x.prototype),s(x.prototype,l,function(){return this}),t.AsyncIterator=x,t.async=function(e,a,n,r,o){void 0===o&&(o=Promise);var i=new x(m(e,a,n,r),o);return t.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},O(j),s(j,c,"Generator"),s(j,i,function(){return this}),s(j,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return l.type="throw",l.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),k(a),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;k(a)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:_(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}var _o=function(){var e=Object(k.a)().t,t=Object(n.useState)(!1),a=Object(d.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),c=Object(d.a)(l,2),s=c[0],m=(c[1],Object(n.useState)(0)),u=Object(d.a)(m,2),f=u[0],p=u[1],h=Object(n.useState)(10),g=Object(d.a)(h,2),b=g[0],E=g[1],v=Object(n.useState)({}),N=Object(d.a)(v,2),w=N[0],j=N[1],O=Object(n.useState)(!1),x=Object(d.a)(O,2),S=x[0],D=x[1],C=Object(n.useState)([]),_=Object(d.a)(C,2),P=_[0],T=_[1],I=Object(n.useState)(!1),A=Object(d.a)(I,2),U=A[0],F=A[1],z=Object(n.useState)(!1),M=Object(d.a)(z,2),B=M[0],q=M[1],Y=Z("api/mfl/syncs/nextExecutions");console.log(Y);var X=function(){var e=Object(R.a)(Lo().mark(function e(){return Lo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,H.a.get("".concat(W,"/api/mfl/syncs/servers"),V()).then(function(e){T(e.data)});case 3:F(!1);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){X()},[B]);var K=function(){var e=Object(R.a)(Lo().mark(function e(t,a){return Lo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.post("".concat(W).concat(t),a,V()).then(function(e){return e});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}();function Q(){return(Q=Object(R.a)(Lo().mark(function e(){var t;return Lo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,K("/api/mfl/syncs/run",{});case 3:(t=e.sent)&&(200==t.data.status?ee(t.data.message):te("Erro!"),i(!1));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(){return(ae=Object(R.a)(Lo().mark(function e(){var t,a;return Lo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(w.username&&w.password&&w.name&&w.url)){e.next=11;break}return D(!0),delete(t=Object(y.a)({},w,{auth:Object(J.a)(w.username,w.password),isMaster:!1})).password,delete t.username,e.next=7,K("/api/mfl/syncs/servers",t);case 7:(a=e.sent)&&(201==a.data.status?ee(a.data.message):te("Erro!"),D(!1),q(!0)),e.next=12;break;case 11:ne("Por favor preencha todos os campos");case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}if(s)return r.a.createElement(ye,null);if(s)return r.a.createElement(ye,null);return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.G,{className:"w-100 pt-4 mx-0"},r.a.createElement(L.i,{xs:12,className:"px-0"},r.a.createElement(L.c,null,r.a.createElement(L.d,{className:"px-5"},r.a.createElement(L.G,{className:"w-100 mx-0 px-0"},Y.isFetching?r.a.createElement(r.a.Fragment,null,r.a.createElement(L.i,{lg:4,className:"mt-1 p-3  d-flex pb-4"},r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center justify-content-center"},r.a.createElement(ln.a,{variant:"circular",width:40,height:40})),r.a.createElement(L.i,{lg:"10",md:"10",sm:"10",className:"ml-3"},r.a.createElement("h6",{className:"history-title",style:{fontSize:"0.9rem"}},r.a.createElement(ln.a,{variant:"text",sx:{fontSize:"1rem"}})),r.a.createElement("p",{style:{fontSize:"0.9rem"}},r.a.createElement(ln.a,{variant:"text",sx:{fontSize:"1rem"}}))," "),r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center"}," ")),r.a.createElement(L.i,{lg:4,className:"mt-1 p-3  d-flex pb-4"},r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center justify-content-center"},r.a.createElement(ln.a,{variant:"circular",width:40,height:40})),r.a.createElement(L.i,{lg:"10",md:"10",sm:"10",className:"ml-3"},r.a.createElement("h6",{className:"history-title",style:{fontSize:"0.9rem"}},r.a.createElement(ln.a,{variant:"text",sx:{fontSize:"1rem"}})),r.a.createElement("p",{style:{fontSize:"0.9rem"}},r.a.createElement(ln.a,{variant:"text",sx:{fontSize:"1rem"}}))," "),r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center"})),r.a.createElement(L.i,{lg:4,className:"mt-1 p-3  d-flex pb-4"},r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center justify-content-center"},r.a.createElement(ln.a,{variant:"circular",width:40,height:40})),r.a.createElement(L.i,{lg:"10",md:"10",sm:"10",className:"ml-3"},r.a.createElement("h6",{className:"history-title",style:{fontSize:"0.9rem"}},r.a.createElement(ln.a,{variant:"text",sx:{fontSize:"1rem"}})),r.a.createElement("p",{style:{fontSize:"0.9rem"}},r.a.createElement(ln.a,{variant:"text",sx:{fontSize:"1rem"}}))," "),r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(L.i,{lg:4,className:"mt-1 p-3  d-flex pb-4 border-right"},r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center justify-content-center"},r.a.createElement(cn.a,{className:"next-sync_avatar"},r.a.createElement(on.a,null))),r.a.createElement(L.i,{lg:"10",md:"10",sm:"10",className:"ml-3"},r.a.createElement("h6",{className:"history-title",style:{fontSize:"0.9rem"}},e("ultimo-sync")),r.a.createElement("p",{style:{fontSize:"0.9rem"}})," "),r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center"}," ")),r.a.createElement(L.i,{lg:4,className:"mt-1 p-3  d-flex pb-4 border-right"},r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center justify-content-center"},r.a.createElement(cn.a,{className:"next-sync"},r.a.createElement(mn.a,null))),r.a.createElement(L.i,{lg:"10",md:"10",sm:"10",className:"ml-3"},r.a.createElement("h6",{className:"history-title",style:{fontSize:"0.9rem"}},e("proximo-sync")),r.a.createElement("p",{style:{fontSize:"0.9rem"}})," "),r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center"}," ")),r.a.createElement(L.i,{sm:4,className:"mt-1 p-3  d-flex pb-4"},r.a.createElement(L.i,{lg:"10",md:"10",sm:"10",className:"ml-3"},r.a.createElement(oe.a,{onClick:function(){!function(){Q.apply(this,arguments)}()},style:{margin:"10px 0 0 10px"},size:"small",variant:"outlined"},o?r.a.createElement(Rt.a,{size:"19px"}):e("sync-now"))),r.a.createElement(L.i,{lg:"1",md:"1",sm:"1",className:" d-flex align-items-center"}," ")))))))),r.a.createElement(L.G,{className:"w-100 py-4 mx-0"},r.a.createElement(L.c,{style:{width:"100%"}},r.a.createElement(L.d,null,r.a.createElement("h6",{className:"history-title",style:{fontSize:"0.9rem",margin:"-10px 0 5px 0"}},e("nova-instancia")),r.a.createElement("div",{style:{display:"flex"}},Do.map(function(e){return r.a.createElement(L.t,{onChange:function(t){!function(e,t){j(function(a){return Object(y.a)({},a,Object(G.a)({},t,e))})}(t.target.value,e.name)},type:e.type,placeholder:e.name,className:"mb-2 mr-2"})}),r.a.createElement(oe.a,{onClick:function(){return ae.apply(this,arguments)},style:{height:"35.5px"},size:"small",variant:"outlined"},S?r.a.createElement(Rt.a,{size:"19px"}):e("salvar"))))),r.a.createElement(L.c,{style:{width:"100%",marginTop:"15px"}},r.a.createElement(L.f,{className:"border-bottom"},r.a.createElement("h6",{className:"m-0 mb-1"},"Inst\xe2ncias DHIS2")),U&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"p-0 pb-3"},r.a.createElement(_t,{fetching:!1,isFetching:U,error:s,tableColumns:function(){return["#","Nome","URL","Tabela Mestre"]},tableData:function(){var e=[];if(P.servers){var t,a=Co(P.servers);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.push([n.id,n.name,n.url,n.isMaster?"Sim":"N\xe3o"])}}catch(r){a.e(r)}finally{a.f()}}return e}})),!1===U&&r.a.createElement(xt,{totalPages:P,setCurrentPage:p,currentPage:f,rowsPerPage:b,setRowsPerPage:E}))),r.a.createElement($,null))},Po=function(){var e=Object(p.useRouteMatch)().path,t=Object(p.useHistory)(),a=Object(p.useLocation)();return Object(n.useEffect)(function(){"/sus"===e&&a.pathname.split("/").length<3&&t.replace("/sus/sus-home")},[e]),r.a.createElement(f.a,null,r.a.createElement(p.Switch,null,[{path:"/:module/sus-home",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_sircev"]},r.a.createElement(wo,null))}},{path:"/:module/sus-linelist",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_sircev"]},r.a.createElement(So,null))}},{path:"/:module/sus-settings",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_sircev"]},r.a.createElement(_o,null))}}].map(function(e,t){return r.a.createElement(p.Route,{key:t,path:e.path,exact:e.exact,component:j(function(t){return r.a.createElement(e.layout,t,r.a.createElement(e.component,t))})})})))};var To=function(){Object(k.a)().t,Object(p.useHistory)();var e=window.location.search,t=new URLSearchParams(e),a=Object(n.useState)(0),o=Object(d.a)(a,2),i=o[0],l=(o[1],Object(n.useState)(10)),c=Object(d.a)(l,2),s=c[0],m=(c[1],Object(n.useState)(t.get("name")||"")),u=Object(d.a)(m,2),f=u[0],h=(u[1],Object(n.useState)(t.get("province")||"")),g=Object(d.a)(h,2),b=g[0],E=(g[1],Object(n.useState)(t.get("district")||"")),v=Object(d.a)(E,2),y=v[0],N=(v[1],Object(n.useState)(t.get("classification")||"")),w=Object(d.a)(N,2),j=w[0],O=(w[1],function(){return f?"&name=".concat(f):""}),x=function(){return b&&"todos"!==b?"&province=".concat(b):""},S=function(){return y&&"todos"!==y?"&district=".concat(y):""},D=function(){return j&&"todos"!==j?"&healthFacilityClassification=".concat(j):""},C=Z("/api/mfl/organisationUnits?page=".concat(i+1,"&pageSize=").concat(s).concat(O()).concat(x()).concat(S()).concat(D())),_=(C.data,C.error),P=(C.isFetching,Z("/api/mfl/organisationUnits?paging=".concat(!1,O()).concat(x()).concat(S()).concat(D())));P.data,P.error,P.isFetching,Z("api/cmam/mfl?level=province"),Z("api/cmam/mfl?parent=".concat(b,"&level=district")),Z("/api/mfl/healthFacilityClassifications?paging=false");if(_)return r.a.createElement(ye,null);return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(Nt,{title:"Vis\xe3o Geral",className:"text-sm-left mb-3"}))},Io=function(){var e=Object(p.useRouteMatch)().path,t=Object(p.useHistory)(),a=Object(p.useLocation)();return Object(n.useEffect)(function(){"/imd-vbg"===e&&a.pathname.split("/").length<3&&t.replace("/imd-vbg/imd-home")},[e]),r.a.createElement(f.a,null,r.a.createElement(p.Switch,null,[{path:"/:module/imd-home",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_sircev"]},r.a.createElement(To,null))}}].map(function(e,t){return r.a.createElement(p.Route,{key:t,path:e.path,exact:e.exact,component:j(function(t){return r.a.createElement(e.layout,t,r.a.createElement(e.component,t))})})})))};function Ao(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return Uo(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Uo(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function Uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var Fo=function(){var e=Object(p.useHistory)(),t=rr(),a=t.endDate,o=t.startDate,i=t.params,l=Object(n.useState)(0),c=Object(d.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(10),f=Object(d.a)(u,2),h=f[0],g=f[1],b=Object(n.useState)(i.get("status")||""),E=Object(d.a)(b,2),v=E[0],y=E[1],N=Object(n.useState)(o),w=Object(d.a)(N,2),j=w[0],O=w[1],x=Object(n.useState)(a),S=Object(d.a)(x,2),D=S[0],C=S[1],_=Object(n.useState)(o),P=Object(d.a)(_,2),T=P[0],I=P[1],A=Object(n.useState)(a),U=Object(d.a)(A,2),F=U[0],z=U[1],R=Object(k.a)().t,G=jo({setSDate:I,setEDate:z,startDate:j,endDate:D,history:e}).UpdateDateValues,M=Z("api/siim/imports?page=".concat(T&&F?"&startDate=".concat(Ca(new Date(T)),'"&endDate=').concat(Ca(new Date(F))):"")),H=M.data,B=M.error,q=M.isFetching;if(B)return r.a.createElement(ye,null);var W=function(){return["Data e hora","Criados","Actualizados","Ignorados","Apagados","Estado"]},Y=function(){var e=[];if(!1===q){var t,a=Ao(H.data);try{for(a.s();!(t=a.n()).done;){var n=t.value,r=JSON.parse(n.importHistorySummary);e.push([n.importDate,r.importCount.imported,r.importCount.updated,r.importCount.ignored,r.importCount.deleted,r.status])}}catch(o){a.e(o)}finally{a.f()}}return e};return r.a.createElement(L.k,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(L.c,{small:!0,className:"h-100 mb-4 mt-4"},r.a.createElement(L.d,{className:" py-0 "},r.a.createElement(L.G,{className:"mb-4"},r.a.createElement(L.i,{sm:"6",className:"d-flex mb-2 mb-sm-0 mt-4"},r.a.createElement(Ra,{startDate:j,setStartDate:O,endDate:D,setEndDate:C})),r.a.createElement(L.i,{sm:"6",className:"text-right"},r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mb-2 mb-sm-0 mt-4 mr-1",onClick:function(){return G()}},R("atualizar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"})),r.a.createElement(L.b,{size:"sm",className:"btn btn-outline-primary mb-2 mb-sm-0 mt-4",onClick:function(){return I(void 0),z(void 0),void Ma(e,"startDate","endDate")}},R("limpar_dados"),r.a.createElement("i",{class:"fa fa-refresh","aria-hidden":"true"})))))),r.a.createElement(L.G,null,r.a.createElement(L.i,null,r.a.createElement(L.c,{small:!0,className:"mb-4"},r.a.createElement(L.f,{className:"border-bottom"},r.a.createElement("h6",{className:"m-0 mb-2"},"Tickets by status"),r.a.createElement(L.G,{className:"w-100"},r.a.createElement(L.i,null,r.a.createElement(L.u,{className:"col-lg-3 mr-1",id:"project",value:v,onChange:function(t){return Ga(t,y,e,"status")}},r.a.createElement("option",{value:"todos"},"Filtrar pelo estado"),["Criados","Actualizados","Ignorados","Apagados"].map(function(e,t){return r.a.createElement("option",{value:e},e)}))),H&&r.a.createElement(Va,{fileName:"lista de historico-SIIM",fileTitle:"SIIM-Lista de Hist\xf3rico",tableData:Y,tableColums:W})),r.a.createElement(L.G,null)),q&&r.a.createElement(jt.a,null),r.a.createElement(L.d,{className:"p-0 pb-3"},r.a.createElement(Un,{isFetching:q,error:B,tableColumns:W,tableData:Y})),!1===q&&r.a.createElement(xt,{totalPages:H,setCurrentPage:m,currentPage:s,rowsPerPage:h,setRowsPerPage:g})))))},zo=function(){var e=Object(p.useRouteMatch)().path,t=Object(p.useHistory)(),a=Object(p.useLocation)();return Object(n.useEffect)(function(){"/siim"===e&&a.pathname.split("/").length<3&&t.replace("/siim/siim-home")},[e]),r.a.createElement(f.a,null,r.a.createElement(p.Switch,null,[{path:"/:module/siim-home",layout:vt,component:function(){return r.a.createElement(C,{allowedRoles:["monitoring_sircev"]},r.a.createElement(Fo,null))}}].map(function(e,t){return r.a.createElement(p.Route,{key:t,path:e.path,exact:e.exact,component:j(function(t){return r.a.createElement(e.layout,t,r.a.createElement(e.component,t))})})})))},Ro=function(){var e=Object(n.useState)(),t=Object(d.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(JSON.parse(D.a.get("user")||null)),l=Object(d.a)(i,2),c=l[0],s=l[1];return r.a.createElement(f.a,null,r.a.createElement(p.Switch,null,r.a.createElement(O.Provider,{value:{module:a,setModule:o}},r.a.createElement(x.Provider,{value:{auth:c,setAuth:s}},[{path:"/",exact:!0,layout:ao,component:function(){return r.a.createElement(p.Redirect,{to:(console.log(Object(p.useLocation)()),"/"===Object(p.useLocation)().pathname?"/login":Object(p.useLocation)().pathname)})}},{path:"/home",layout:vt,isHomeLayout:!0,exact:!0,component:function(){return r.a.createElement(C,null,r.a.createElement(F,null))}},{path:"/documentation",layout:vt,isHomeLayout:!0,exact:!0,component:function(){return r.a.createElement(C,null,r.a.createElement(z,null))}},{path:"/login",layout:ao,exact:!0,component:Pe},{path:"/unauthorized",layout:ao,exact:!0,component:Ae},{path:"/umm",layout:ao,component:ga},{path:"/covid",layout:ao,component:nn},{path:"/cmam",layout:ao,component:Yn},{path:"/sircev",layout:ao,component:sr},{path:"/mfl",layout:ao,component:to},{path:"/mfl-internal",layout:ao,component:bo},{path:"/sus",layout:ao,component:Po},{path:"/imd-vbg",layout:ao,component:Io},,{path:"/siim",layout:ao,component:zo}].map(function(e,t){return r.a.createElement(p.Route,{key:t,path:e.path,exact:e.exact,component:j(function(t){return r.a.createElement(e.layout,t,r.a.createElement(e.component,t))})})})))))};a(590),a(592),a(594);i.a.render(r.a.createElement(n.Suspense,{fallback:"..."},r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ro,null))),document.getElementById("root"))},91:function(e){e.exports={displayName:"User type",id:"userType",placeholder:"Select user type",valueType:"LIST",options:[{id:"Internal"},{id:"External"}]}},94:function(e){e.exports={displayName:"System",id:"server",placeholder:"Select a system",valueType:"LIST",options:[{uuid:1,id:"SISMA",url:"https://sisma.misau.gov.mz/sisma"},{uuid:2,id:"HOSP",url:"https://apolo.hispmoz.org/mhosp"},{uuid:3,id:"SIVE",url:"https://sis.misau.gov.mz/staging"}]}}},[[370,5,1]]]);
//# sourceMappingURL=main.87f67b17.chunk.js.map